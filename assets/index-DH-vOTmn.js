(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function ab(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Qd={exports:{}},bl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q_;function ob(){if(Q_)return bl;Q_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return bl.Fragment=t,bl.jsx=n,bl.jsxs=n,bl}var K_;function lb(){return K_||(K_=1,Qd.exports=ob()),Qd.exports}var Z=lb(),Kd={exports:{}},Rt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y_;function ub(){if(Y_)return Rt;Y_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),w=Symbol.iterator;function b(x){return x===null||typeof x!="object"?null:(x=w&&x[w]||x["@@iterator"],typeof x=="function"?x:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V=Object.assign,j={};function B(x,nt,pt){this.props=x,this.context=nt,this.refs=j,this.updater=pt||M}B.prototype.isReactComponent={},B.prototype.setState=function(x,nt){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,nt,"setState")},B.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function Q(){}Q.prototype=B.prototype;function q(x,nt,pt){this.props=x,this.context=nt,this.refs=j,this.updater=pt||M}var Y=q.prototype=new Q;Y.constructor=q,V(Y,B.prototype),Y.isPureReactComponent=!0;var it=Array.isArray,st={H:null,A:null,T:null,S:null},mt=Object.prototype.hasOwnProperty;function O(x,nt,pt,ot,lt,It){return pt=It.ref,{$$typeof:r,type:x,key:nt,ref:pt!==void 0?pt:null,props:It}}function R(x,nt){return O(x.type,nt,void 0,void 0,void 0,x.props)}function S(x){return typeof x=="object"&&x!==null&&x.$$typeof===r}function C(x){var nt={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(pt){return nt[pt]})}var N=/\/+/g;function L(x,nt){return typeof x=="object"&&x!==null&&x.key!=null?C(""+x.key):nt.toString(36)}function D(){}function fe(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(D,D):(x.status="pending",x.then(function(nt){x.status==="pending"&&(x.status="fulfilled",x.value=nt)},function(nt){x.status==="pending"&&(x.status="rejected",x.reason=nt)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function ee(x,nt,pt,ot,lt){var It=typeof x;(It==="undefined"||It==="boolean")&&(x=null);var St=!1;if(x===null)St=!0;else switch(It){case"bigint":case"string":case"number":St=!0;break;case"object":switch(x.$$typeof){case r:case t:St=!0;break;case E:return St=x._init,ee(St(x._payload),nt,pt,ot,lt)}}if(St)return lt=lt(x),St=ot===""?"."+L(x,0):ot,it(lt)?(pt="",St!=null&&(pt=St.replace(N,"$&/")+"/"),ee(lt,nt,pt,"",function(oe){return oe})):lt!=null&&(S(lt)&&(lt=R(lt,pt+(lt.key==null||x&&x.key===lt.key?"":(""+lt.key).replace(N,"$&/")+"/")+St)),nt.push(lt)),1;St=0;var ge=ot===""?".":ot+":";if(it(x))for(var zt=0;zt<x.length;zt++)ot=x[zt],It=ge+L(ot,zt),St+=ee(ot,nt,pt,It,lt);else if(zt=b(x),typeof zt=="function")for(x=zt.call(x),zt=0;!(ot=x.next()).done;)ot=ot.value,It=ge+L(ot,zt++),St+=ee(ot,nt,pt,It,lt);else if(It==="object"){if(typeof x.then=="function")return ee(fe(x),nt,pt,ot,lt);throw nt=String(x),Error("Objects are not valid as a React child (found: "+(nt==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":nt)+"). If you meant to render a collection of children, use an array instead.")}return St}function at(x,nt,pt){if(x==null)return x;var ot=[],lt=0;return ee(x,ot,"","",function(It){return nt.call(pt,It,lt++)}),ot}function _t(x){if(x._status===-1){var nt=x._result;nt=nt(),nt.then(function(pt){(x._status===0||x._status===-1)&&(x._status=1,x._result=pt)},function(pt){(x._status===0||x._status===-1)&&(x._status=2,x._result=pt)}),x._status===-1&&(x._status=0,x._result=nt)}if(x._status===1)return x._result.default;throw x._result}var ft=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var nt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(nt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)};function qt(){}return Rt.Children={map:at,forEach:function(x,nt,pt){at(x,function(){nt.apply(this,arguments)},pt)},count:function(x){var nt=0;return at(x,function(){nt++}),nt},toArray:function(x){return at(x,function(nt){return nt})||[]},only:function(x){if(!S(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},Rt.Component=B,Rt.Fragment=n,Rt.Profiler=o,Rt.PureComponent=q,Rt.StrictMode=s,Rt.Suspense=p,Rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=st,Rt.act=function(){throw Error("act(...) is not supported in production builds of React.")},Rt.cache=function(x){return function(){return x.apply(null,arguments)}},Rt.cloneElement=function(x,nt,pt){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var ot=V({},x.props),lt=x.key,It=void 0;if(nt!=null)for(St in nt.ref!==void 0&&(It=void 0),nt.key!==void 0&&(lt=""+nt.key),nt)!mt.call(nt,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&nt.ref===void 0||(ot[St]=nt[St]);var St=arguments.length-2;if(St===1)ot.children=pt;else if(1<St){for(var ge=Array(St),zt=0;zt<St;zt++)ge[zt]=arguments[zt+2];ot.children=ge}return O(x.type,lt,void 0,void 0,It,ot)},Rt.createContext=function(x){return x={$$typeof:f,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:u,_context:x},x},Rt.createElement=function(x,nt,pt){var ot,lt={},It=null;if(nt!=null)for(ot in nt.key!==void 0&&(It=""+nt.key),nt)mt.call(nt,ot)&&ot!=="key"&&ot!=="__self"&&ot!=="__source"&&(lt[ot]=nt[ot]);var St=arguments.length-2;if(St===1)lt.children=pt;else if(1<St){for(var ge=Array(St),zt=0;zt<St;zt++)ge[zt]=arguments[zt+2];lt.children=ge}if(x&&x.defaultProps)for(ot in St=x.defaultProps,St)lt[ot]===void 0&&(lt[ot]=St[ot]);return O(x,It,void 0,void 0,null,lt)},Rt.createRef=function(){return{current:null}},Rt.forwardRef=function(x){return{$$typeof:m,render:x}},Rt.isValidElement=S,Rt.lazy=function(x){return{$$typeof:E,_payload:{_status:-1,_result:x},_init:_t}},Rt.memo=function(x,nt){return{$$typeof:g,type:x,compare:nt===void 0?null:nt}},Rt.startTransition=function(x){var nt=st.T,pt={};st.T=pt;try{var ot=x(),lt=st.S;lt!==null&&lt(pt,ot),typeof ot=="object"&&ot!==null&&typeof ot.then=="function"&&ot.then(qt,ft)}catch(It){ft(It)}finally{st.T=nt}},Rt.unstable_useCacheRefresh=function(){return st.H.useCacheRefresh()},Rt.use=function(x){return st.H.use(x)},Rt.useActionState=function(x,nt,pt){return st.H.useActionState(x,nt,pt)},Rt.useCallback=function(x,nt){return st.H.useCallback(x,nt)},Rt.useContext=function(x){return st.H.useContext(x)},Rt.useDebugValue=function(){},Rt.useDeferredValue=function(x,nt){return st.H.useDeferredValue(x,nt)},Rt.useEffect=function(x,nt){return st.H.useEffect(x,nt)},Rt.useId=function(){return st.H.useId()},Rt.useImperativeHandle=function(x,nt,pt){return st.H.useImperativeHandle(x,nt,pt)},Rt.useInsertionEffect=function(x,nt){return st.H.useInsertionEffect(x,nt)},Rt.useLayoutEffect=function(x,nt){return st.H.useLayoutEffect(x,nt)},Rt.useMemo=function(x,nt){return st.H.useMemo(x,nt)},Rt.useOptimistic=function(x,nt){return st.H.useOptimistic(x,nt)},Rt.useReducer=function(x,nt,pt){return st.H.useReducer(x,nt,pt)},Rt.useRef=function(x){return st.H.useRef(x)},Rt.useState=function(x){return st.H.useState(x)},Rt.useSyncExternalStore=function(x,nt,pt){return st.H.useSyncExternalStore(x,nt,pt)},Rt.useTransition=function(){return st.H.useTransition()},Rt.version="19.0.0",Rt}var X_;function Gm(){return X_||(X_=1,Kd.exports=ub()),Kd.exports}var G=Gm();const te=ab(G);var Yd={exports:{}},wl={},Xd={exports:{}},Wd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W_;function cb(){return W_||(W_=1,function(r){function t(at,_t){var ft=at.length;at.push(_t);t:for(;0<ft;){var qt=ft-1>>>1,x=at[qt];if(0<o(x,_t))at[qt]=_t,at[ft]=x,ft=qt;else break t}}function n(at){return at.length===0?null:at[0]}function s(at){if(at.length===0)return null;var _t=at[0],ft=at.pop();if(ft!==_t){at[0]=ft;t:for(var qt=0,x=at.length,nt=x>>>1;qt<nt;){var pt=2*(qt+1)-1,ot=at[pt],lt=pt+1,It=at[lt];if(0>o(ot,ft))lt<x&&0>o(It,ot)?(at[qt]=It,at[lt]=ft,qt=lt):(at[qt]=ot,at[pt]=ft,qt=pt);else if(lt<x&&0>o(It,ft))at[qt]=It,at[lt]=ft,qt=lt;else break t}}return _t}function o(at,_t){var ft=at.sortIndex-_t.sortIndex;return ft!==0?ft:at.id-_t.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],g=[],E=1,w=null,b=3,M=!1,V=!1,j=!1,B=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function Y(at){for(var _t=n(g);_t!==null;){if(_t.callback===null)s(g);else if(_t.startTime<=at)s(g),_t.sortIndex=_t.expirationTime,t(p,_t);else break;_t=n(g)}}function it(at){if(j=!1,Y(at),!V)if(n(p)!==null)V=!0,fe();else{var _t=n(g);_t!==null&&ee(it,_t.startTime-at)}}var st=!1,mt=-1,O=5,R=-1;function S(){return!(r.unstable_now()-R<O)}function C(){if(st){var at=r.unstable_now();R=at;var _t=!0;try{t:{V=!1,j&&(j=!1,Q(mt),mt=-1),M=!0;var ft=b;try{e:{for(Y(at),w=n(p);w!==null&&!(w.expirationTime>at&&S());){var qt=w.callback;if(typeof qt=="function"){w.callback=null,b=w.priorityLevel;var x=qt(w.expirationTime<=at);if(at=r.unstable_now(),typeof x=="function"){w.callback=x,Y(at),_t=!0;break e}w===n(p)&&s(p),Y(at)}else s(p);w=n(p)}if(w!==null)_t=!0;else{var nt=n(g);nt!==null&&ee(it,nt.startTime-at),_t=!1}}break t}finally{w=null,b=ft,M=!1}_t=void 0}}finally{_t?N():st=!1}}}var N;if(typeof q=="function")N=function(){q(C)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,D=L.port2;L.port1.onmessage=C,N=function(){D.postMessage(null)}}else N=function(){B(C,0)};function fe(){st||(st=!0,N())}function ee(at,_t){mt=B(function(){at(r.unstable_now())},_t)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(at){at.callback=null},r.unstable_continueExecution=function(){V||M||(V=!0,fe())},r.unstable_forceFrameRate=function(at){0>at||125<at?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<at?Math.floor(1e3/at):5},r.unstable_getCurrentPriorityLevel=function(){return b},r.unstable_getFirstCallbackNode=function(){return n(p)},r.unstable_next=function(at){switch(b){case 1:case 2:case 3:var _t=3;break;default:_t=b}var ft=b;b=_t;try{return at()}finally{b=ft}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(at,_t){switch(at){case 1:case 2:case 3:case 4:case 5:break;default:at=3}var ft=b;b=at;try{return _t()}finally{b=ft}},r.unstable_scheduleCallback=function(at,_t,ft){var qt=r.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?qt+ft:qt):ft=qt,at){case 1:var x=-1;break;case 2:x=250;break;case 5:x=1073741823;break;case 4:x=1e4;break;default:x=5e3}return x=ft+x,at={id:E++,callback:_t,priorityLevel:at,startTime:ft,expirationTime:x,sortIndex:-1},ft>qt?(at.sortIndex=ft,t(g,at),n(p)===null&&at===n(g)&&(j?(Q(mt),mt=-1):j=!0,ee(it,ft-qt))):(at.sortIndex=x,t(p,at),V||M||(V=!0,fe())),at},r.unstable_shouldYield=S,r.unstable_wrapCallback=function(at){var _t=b;return function(){var ft=b;b=_t;try{return at.apply(this,arguments)}finally{b=ft}}}}(Wd)),Wd}var Z_;function hb(){return Z_||(Z_=1,Xd.exports=cb()),Xd.exports}var Zd={exports:{}},Ke={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $_;function fb(){if($_)return Ke;$_=1;var r=Gm();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:p,containerInfo:g,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Ke.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ke.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(p,g,null,E)},Ke.flushSync=function(p){var g=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=g,s.p=E,s.d.f()}},Ke.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Ke.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Ke.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,w=m(E,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,M=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:w,integrity:b,fetchPriority:M}):E==="script"&&s.d.X(p,{crossOrigin:w,integrity:b,fetchPriority:M,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Ke.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Ke.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,w=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:w,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Ke.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Ke.requestFormReset=function(p){s.d.r(p)},Ke.unstable_batchedUpdates=function(p,g){return p(g)},Ke.useFormState=function(p,g,E){return f.H.useFormState(p,g,E)},Ke.useFormStatus=function(){return f.H.useHostTransitionStatus()},Ke.version="19.0.0",Ke}var J_;function db(){if(J_)return Zd.exports;J_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Zd.exports=fb(),Zd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tv;function mb(){if(tv)return wl;tv=1;var r=hb(),t=Gm(),n=db();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}var u=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),w=Symbol.for("react.provider"),b=Symbol.for("react.consumer"),M=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),Y=Symbol.for("react.offscreen"),it=Symbol.for("react.memo_cache_sentinel"),st=Symbol.iterator;function mt(e){return e===null||typeof e!="object"?null:(e=st&&e[st]||e["@@iterator"],typeof e=="function"?e:null)}var O=Symbol.for("react.client.reference");function R(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===O?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case p:return"Fragment";case m:return"Portal";case E:return"Profiler";case g:return"StrictMode";case j:return"Suspense";case B:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case M:return(e.displayName||"Context")+".Provider";case b:return(e._context.displayName||"Context")+".Consumer";case V:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Q:return i=e.displayName||null,i!==null?i:R(e.type)||"Memo";case q:i=e._payload,e=e._init;try{return R(e(i))}catch{}}return null}var S=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,C=Object.assign,N,L;function D(e){if(N===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);N=i&&i[1]||"",L=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+N+e+L}var fe=!1;function ee(e,i){if(!e||fe)return"";fe=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var et=function(){throw Error()};if(Object.defineProperty(et.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(et,[])}catch(X){var F=X}Reflect.construct(e,[],et)}else{try{et.call()}catch(X){F=X}e.call(et.prototype)}}else{try{throw Error()}catch(X){F=X}(et=e())&&typeof et.catch=="function"&&et.catch(function(){})}}catch(X){if(X&&F&&typeof X.stack=="string")return[X.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var I=v.split(`
`),P=T.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===P.length)for(l=I.length-1,h=P.length-1;1<=l&&0<=h&&I[l]!==P[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==P[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==P[h]){var W=`
`+I[l].replace(" at new "," at ");return e.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",e.displayName)),W}while(1<=l&&0<=h);break}}}finally{fe=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?D(a):""}function at(e){switch(e.tag){case 26:case 27:case 5:return D(e.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 15:return e=ee(e.type,!1),e;case 11:return e=ee(e.type.render,!1),e;case 1:return e=ee(e.type,!0),e;default:return""}}function _t(e){try{var i="";do i+=at(e),e=e.return;while(e);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function ft(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function qt(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function x(e){if(ft(e)!==e)throw Error(s(188))}function nt(e){var i=e.alternate;if(!i){if(i=ft(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return x(h),e;if(d===l)return x(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,T=h.child;T;){if(T===a){v=!0,a=h,l=d;break}if(T===l){v=!0,l=h,a=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===a){v=!0,a=d,l=h;break}if(T===l){v=!0,l=d,a=h;break}T=T.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function pt(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=pt(e),i!==null)return i;e=e.sibling}return null}var ot=Array.isArray,lt=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,It={pending:!1,data:null,method:null,action:null},St=[],ge=-1;function zt(e){return{current:e}}function oe(e){0>ge||(e.current=St[ge],St[ge]=null,ge--)}function Kt(e,i){ge++,St[ge]=e.current,e.current=i}var $e=zt(null),vi=zt(null),vn=zt(null),sr=zt(null);function ar(e,i){switch(Kt(vn,i),Kt(vi,e),Kt($e,null),e=i.nodeType,e){case 9:case 11:i=(i=i.documentElement)&&(i=i.namespaceURI)?T_(i):0;break;default:if(e=e===8?i.parentNode:i,i=e.tagName,e=e.namespaceURI)e=T_(e),i=A_(e,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}oe($e),Kt($e,i)}function Ei(){oe($e),oe(vi),oe(vn)}function _o(e){e.memoizedState!==null&&Kt(sr,e);var i=$e.current,a=A_(i,e.type);i!==a&&(Kt(vi,e),Kt($e,a))}function na(e){vi.current===e&&(oe($e),oe(vi)),sr.current===e&&(oe(sr),_l._currentValue=It)}var ia=Object.prototype.hasOwnProperty,ls=r.unstable_scheduleCallback,ra=r.unstable_cancelCallback,Kh=r.unstable_shouldYield,vo=r.unstable_requestPaint,on=r.unstable_now,du=r.unstable_getCurrentPriorityLevel,Ae=r.unstable_ImmediatePriority,Oe=r.unstable_UserBlockingPriority,Ti=r.unstable_NormalPriority,mu=r.unstable_LowPriority,Eo=r.unstable_IdlePriority,Yh=r.log,us=r.unstable_setDisableYieldValue,or=null,Ge=null;function To(e){if(Ge&&typeof Ge.onCommitFiberRoot=="function")try{Ge.onCommitFiberRoot(or,e,void 0,(e.current.flags&128)===128)}catch{}}function Xn(e){if(typeof Yh=="function"&&us(e),Ge&&typeof Ge.setStrictMode=="function")try{Ge.setStrictMode(or,e)}catch{}}var Je=Math.clz32?Math.clz32:gu,Ao=Math.log,pu=Math.LN2;function gu(e){return e>>>=0,e===0?32:31-(Ao(e)/pu|0)|0}var Wn=128,lr=4194304;function zn(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function En(e,i){var a=e.pendingLanes;if(a===0)return 0;var l=0,h=e.suspendedLanes,d=e.pingedLanes,v=e.warmLanes;e=e.finishedLanes!==0;var T=a&134217727;return T!==0?(a=T&~h,a!==0?l=zn(a):(d&=T,d!==0?l=zn(d):e||(v=T&~v,v!==0&&(l=zn(v))))):(T=a&~h,T!==0?l=zn(T):d!==0?l=zn(d):e||(v=a&~v,v!==0&&(l=zn(v)))),l===0?0:i!==0&&i!==l&&(i&h)===0&&(h=l&-l,v=i&-i,h>=v||h===32&&(v&4194176)!==0)?i:l}function ur(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function sa(e,i){switch(e){case 1:case 2:case 4:case 8:return i+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bo(){var e=Wn;return Wn<<=1,(Wn&4194176)===0&&(Wn=128),e}function cr(){var e=lr;return lr<<=1,(lr&62914560)===0&&(lr=4194304),e}function aa(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function de(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function yu(e,i,a,l,h,d){var v=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var T=e.entanglements,I=e.expirationTimes,P=e.hiddenUpdates;for(a=v&~a;0<a;){var W=31-Je(a),et=1<<W;T[W]=0,I[W]=-1;var F=P[W];if(F!==null)for(P[W]=null,W=0;W<F.length;W++){var X=F[W];X!==null&&(X.lane&=-536870913)}a&=~et}l!==0&&hr(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(v&~i))}function hr(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var l=31-Je(i);e.entangledLanes|=i,e.entanglements[l]=e.entanglements[l]|1073741824|a&4194218}function fr(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var l=31-Je(a),h=1<<l;h&i|e[l]&i&&(e[l]|=i),a&=~h}}function _u(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function vu(){var e=lt.p;return e!==0?e:(e=window.event,e===void 0?32:B_(e.type))}function dr(e,i){var a=lt.p;try{return lt.p=e,i()}finally{lt.p=a}}var Zn=Math.random().toString(36).slice(2),Ne="__reactFiber$"+Zn,be="__reactProps$"+Zn,Ai="__reactContainer$"+Zn,cs="__reactEvents$"+Zn,oa="__reactListeners$"+Zn,$n="__reactHandles$"+Zn,wo="__reactResources$"+Zn,mr="__reactMarker$"+Zn;function hs(e){delete e[Ne],delete e[be],delete e[cs],delete e[oa],delete e[$n]}function Bn(e){var i=e[Ne];if(i)return i;for(var a=e.parentNode;a;){if(i=a[Ai]||a[Ne]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=S_(e);e!==null;){if(a=e[Ne])return a;e=S_(e)}return i}e=a,a=e.parentNode}return null}function bi(e){if(e=e[Ne]||e[Ai]){var i=e.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return e}return null}function pr(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function gr(e){var i=e[wo];return i||(i=e[wo]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ne(e){e[mr]=!0}var So=new Set,la={};function hn(e,i){ln(e,i),ln(e+"Capture",i)}function ln(e,i){for(la[e]=i,e=0;e<i.length;e++)So.add(i[e])}var fn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ro={},Io={};function Eu(e){return ia.call(Io,e)?!0:ia.call(Ro,e)?!1:Xh.test(e)?Io[e]=!0:(Ro[e]=!0,!1)}function yr(e,i,a){if(Eu(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function _r(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function Tn(e,i,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+l)}}function tn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Tu(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Wh(e){var i=Tu(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),l=""+e[i];if(!e.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(e,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function fs(e){e._valueTracker||(e._valueTracker=Wh(e))}function Co(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return e&&(l=Tu(e)?e.checked?"true":"false":e.value),e=l,e!==a?(i.setValue(e),!0):!1}function ua(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var wi=/[\n"\\]/g;function le(e){return e.replace(wi,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function vr(e,i,a,l,h,d,v,T){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),i!=null?v==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+tn(i)):e.value!==""+tn(i)&&(e.value=""+tn(i)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),i!=null?ca(e,v,tn(i)):a!=null?ca(e,v,tn(a)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+tn(T):e.removeAttribute("name")}function ds(e,i,a,l,h,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+tn(a):"",i=i!=null?""+tn(i):a,T||i===e.value||(e.value=i),e.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=T?e.checked:!!l,e.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v)}function ca(e,i,a){i==="number"&&ua(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Bt(e,i,a,l){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+tn(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function ms(e,i,a){if(i!=null&&(i=""+tn(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+tn(a):""}function Er(e,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(ot(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=tn(i),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l)}function An(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var Zh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Do(e,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":l?e.setProperty(i,a):typeof a!="number"||a===0||Zh.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function Au(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Do(e,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Do(e,d,i[d])}function Oo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $h=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Jh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Jn(e){return Jh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var bn=null;function ha(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Si=null,Ri=null;function Ii(e){var i=bi(e);if(i&&(e=i.stateNode)){var a=e[be]||null;t:switch(e=i.stateNode,i.type){case"input":if(vr(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+le(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==e&&l.form===e.form){var h=l[be]||null;if(!h)throw Error(s(90));vr(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===e.form&&Co(l)}break t;case"textarea":ms(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&Bt(e,!!a.multiple,i,!1)}}}var No=!1;function bu(e,i,a){if(No)return e(i,a);No=!0;try{var l=e(i);return l}finally{if(No=!1,(Si!==null||Ri!==null)&&(mc(),Si&&(i=Si,e=Ri,Ri=Si=null,Ii(i),e)))for(i=0;i<e.length;i++)Ii(e[i])}}function ps(e,i){var a=e.stateNode;if(a===null)return null;var l=a[be]||null;if(l===null)return null;a=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var wn=!1;if(fn)try{var gs={};Object.defineProperty(gs,"passive",{get:function(){wn=!0}}),window.addEventListener("test",gs,gs),window.removeEventListener("test",gs,gs)}catch{wn=!1}var ti=null,Tr=null,Ci=null;function xo(){if(Ci)return Ci;var e,i=Tr,a=i.length,l,h="value"in ti?ti.value:ti.textContent,d=h.length;for(e=0;e<a&&i[e]===h[e];e++);var v=a-e;for(l=1;l<=v&&i[a-l]===h[d-l];l++);return Ci=h.slice(e,1<l?1-l:void 0)}function ei(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function ni(){return!0}function Mo(){return!1}function xe(e){function i(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(a=e[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ni:Mo,this.isPropagationStopped=Mo,this}return C(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ni)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ni)},persist:function(){},isPersistent:ni}),i}var Ft={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fa=xe(Ft),ys=C({},Ft,{view:0,detail:0}),wu=xe(ys),da,ma,ii,_s=C({},ys,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ts,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ii&&(ii&&e.type==="mousemove"?(da=e.screenX-ii.screenX,ma=e.screenY-ii.screenY):ma=da=0,ii=e),da)},movementY:function(e){return"movementY"in e?e.movementY:ma}}),Sn=xe(_s),Su=C({},_s,{dataTransfer:0}),tf=xe(Su),vs=C({},ys,{relatedTarget:0}),pa=xe(vs),Vo=C({},Ft,{animationName:0,elapsedTime:0,pseudoElement:0}),ga=xe(Vo),Ru=C({},Ft,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ya=xe(Ru),ef=C({},Ft,{data:0}),ko=xe(ef),Es={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Iu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Po(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=Cu[e])?!!i[e]:!1}function Ts(){return Po}var Du=C({},ys,{key:function(e){if(e.key){var i=Es[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=ei(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Iu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ts,charCode:function(e){return e.type==="keypress"?ei(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ei(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),_a=xe(Du),Ou=C({},_s,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Lo=xe(Ou),Di=C({},ys,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ts}),Nu=xe(Di),xu=C({},Ft,{propertyName:0,elapsedTime:0,pseudoElement:0}),Mu=xe(xu),Vu=C({},_s,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),va=xe(Vu),en=C({},Ft,{newState:0,oldState:0}),ku=xe(en),Pu=[9,13,27,32],ri=fn&&"CompositionEvent"in window,c=null;fn&&"documentMode"in document&&(c=document.documentMode);var y=fn&&"TextEvent"in window&&!c,_=fn&&(!ri||c&&8<c&&11>=c),A=" ",z=!1;function K(e,i){switch(e){case"keyup":return Pu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rt(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var kt=!1;function we(e,i){switch(e){case"compositionend":return rt(i);case"keypress":return i.which!==32?null:(z=!0,A);case"textInput":return e=i.data,e===A&&z?null:e;default:return null}}function Pt(e,i){if(kt)return e==="compositionend"||!ri&&K(e,i)?(e=xo(),Ci=Tr=ti=null,kt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var Me={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Se(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!Me[e.type]:i==="textarea"}function Oi(e,i,a,l){Si?Ri?Ri.push(l):Ri=[l]:Si=l,i=vc(i,"onChange"),0<i.length&&(a=new fa("onChange","change",null,a,l),e.push({event:a,listeners:i}))}var Ue=null,si=null;function Uo(e){g_(e,0)}function Lu(e){var i=pr(e);if(Co(i))return e}function Gp(e,i){if(e==="change")return i}var Qp=!1;if(fn){var nf;if(fn){var rf="oninput"in document;if(!rf){var Kp=document.createElement("div");Kp.setAttribute("oninput","return;"),rf=typeof Kp.oninput=="function"}nf=rf}else nf=!1;Qp=nf&&(!document.documentMode||9<document.documentMode)}function Yp(){Ue&&(Ue.detachEvent("onpropertychange",Xp),si=Ue=null)}function Xp(e){if(e.propertyName==="value"&&Lu(si)){var i=[];Oi(i,si,e,ha(e)),bu(Uo,i)}}function PA(e,i,a){e==="focusin"?(Yp(),Ue=i,si=a,Ue.attachEvent("onpropertychange",Xp)):e==="focusout"&&Yp()}function LA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Lu(si)}function UA(e,i){if(e==="click")return Lu(i)}function zA(e,i){if(e==="input"||e==="change")return Lu(i)}function BA(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var dn=typeof Object.is=="function"?Object.is:BA;function zo(e,i){if(dn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!ia.call(i,h)||!dn(e[h],i[h]))return!1}return!0}function Wp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Zp(e,i){var a=Wp(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=i&&l>=i)return{node:a,offset:i-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Wp(a)}}function $p(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?$p(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function Jp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=ua(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=ua(e.document)}return i}function sf(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}function jA(e,i){var a=Jp(i);i=e.focusedElem;var l=e.selectionRange;if(a!==i&&i&&i.ownerDocument&&$p(i.ownerDocument.documentElement,i)){if(l!==null&&sf(i)){if(e=l.start,a=l.end,a===void 0&&(a=e),"selectionStart"in i)i.selectionStart=e,i.selectionEnd=Math.min(a,i.value.length);else if(a=(e=i.ownerDocument||document)&&e.defaultView||window,a.getSelection){a=a.getSelection();var h=i.textContent.length,d=Math.min(l.start,h);l=l.end===void 0?d:Math.min(l.end,h),!a.extend&&d>l&&(h=l,l=d,d=h),h=Zp(i,d);var v=Zp(i,l);h&&v&&(a.rangeCount!==1||a.anchorNode!==h.node||a.anchorOffset!==h.offset||a.focusNode!==v.node||a.focusOffset!==v.offset)&&(e=e.createRange(),e.setStart(h.node,h.offset),a.removeAllRanges(),d>l?(a.addRange(e),a.extend(v.node,v.offset)):(e.setEnd(v.node,v.offset),a.addRange(e)))}}for(e=[],a=i;a=a.parentNode;)a.nodeType===1&&e.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<e.length;i++)a=e[i],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var HA=fn&&"documentMode"in document&&11>=document.documentMode,Ea=null,af=null,Bo=null,of=!1;function tg(e,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;of||Ea==null||Ea!==ua(l)||(l=Ea,"selectionStart"in l&&sf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Bo&&zo(Bo,l)||(Bo=l,l=vc(af,"onSelect"),0<l.length&&(i=new fa("onSelect","select",null,i,a),e.push({event:i,listeners:l}),i.target=Ea)))}function As(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var Ta={animationend:As("Animation","AnimationEnd"),animationiteration:As("Animation","AnimationIteration"),animationstart:As("Animation","AnimationStart"),transitionrun:As("Transition","TransitionRun"),transitionstart:As("Transition","TransitionStart"),transitioncancel:As("Transition","TransitionCancel"),transitionend:As("Transition","TransitionEnd")},lf={},eg={};fn&&(eg=document.createElement("div").style,"AnimationEvent"in window||(delete Ta.animationend.animation,delete Ta.animationiteration.animation,delete Ta.animationstart.animation),"TransitionEvent"in window||delete Ta.transitionend.transition);function bs(e){if(lf[e])return lf[e];if(!Ta[e])return e;var i=Ta[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in eg)return lf[e]=i[a];return e}var ng=bs("animationend"),ig=bs("animationiteration"),rg=bs("animationstart"),qA=bs("transitionrun"),FA=bs("transitionstart"),GA=bs("transitioncancel"),sg=bs("transitionend"),ag=new Map,og="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function jn(e,i){ag.set(e,i),hn(i,[e])}var Rn=[],Aa=0,uf=0;function Uu(){for(var e=Aa,i=uf=Aa=0;i<e;){var a=Rn[i];Rn[i++]=null;var l=Rn[i];Rn[i++]=null;var h=Rn[i];Rn[i++]=null;var d=Rn[i];if(Rn[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&lg(a,h,d)}}function zu(e,i,a,l){Rn[Aa++]=e,Rn[Aa++]=i,Rn[Aa++]=a,Rn[Aa++]=l,uf|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function cf(e,i,a,l){return zu(e,i,a,l),Bu(e)}function Ar(e,i){return zu(e,null,null,i),Bu(e)}function lg(e,i,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;h&&i!==null&&e.tag===3&&(d=e.stateNode,h=31-Je(a),d=d.hiddenUpdates,e=d[h],e===null?d[h]=[i]:e.push(i),i.lane=a|536870912)}function Bu(e){if(50<hl)throw hl=0,gd=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var ba={},ug=new WeakMap;function In(e,i){if(typeof e=="object"&&e!==null){var a=ug.get(e);return a!==void 0?a:(i={value:e,source:i,stack:_t(i)},ug.set(e,i),i)}return{value:e,source:i,stack:_t(i)}}var wa=[],Sa=0,ju=null,Hu=0,Cn=[],Dn=0,ws=null,Ni=1,xi="";function Ss(e,i){wa[Sa++]=Hu,wa[Sa++]=ju,ju=e,Hu=i}function cg(e,i,a){Cn[Dn++]=Ni,Cn[Dn++]=xi,Cn[Dn++]=ws,ws=e;var l=Ni;e=xi;var h=32-Je(l)-1;l&=~(1<<h),a+=1;var d=32-Je(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Ni=1<<32-Je(i)+h|a<<h|l,xi=d+e}else Ni=1<<d|a<<h|l,xi=e}function hf(e){e.return!==null&&(Ss(e,1),cg(e,1,0))}function ff(e){for(;e===ju;)ju=wa[--Sa],wa[Sa]=null,Hu=wa[--Sa],wa[Sa]=null;for(;e===ws;)ws=Cn[--Dn],Cn[Dn]=null,xi=Cn[--Dn],Cn[Dn]=null,Ni=Cn[--Dn],Cn[Dn]=null}var nn=null,ze=null,jt=!1,Hn=null,ai=!1,df=Error(s(519));function Rs(e){var i=Error(s(418,""));throw qo(In(i,e)),df}function hg(e){var i=e.stateNode,a=e.type,l=e.memoizedProps;switch(i[Ne]=e,i[be]=l,a){case"dialog":Vt("cancel",i),Vt("close",i);break;case"iframe":case"object":case"embed":Vt("load",i);break;case"video":case"audio":for(a=0;a<dl.length;a++)Vt(dl[a],i);break;case"source":Vt("error",i);break;case"img":case"image":case"link":Vt("error",i),Vt("load",i);break;case"details":Vt("toggle",i);break;case"input":Vt("invalid",i),ds(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),fs(i);break;case"select":Vt("invalid",i);break;case"textarea":Vt("invalid",i),Er(i,l.value,l.defaultValue,l.children),fs(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||E_(i.textContent,a)?(l.popover!=null&&(Vt("beforetoggle",i),Vt("toggle",i)),l.onScroll!=null&&Vt("scroll",i),l.onScrollEnd!=null&&Vt("scrollend",i),l.onClick!=null&&(i.onclick=Ec),i=!0):i=!1,i||Rs(e)}function fg(e){for(nn=e.return;nn;)switch(nn.tag){case 3:case 27:ai=!0;return;case 5:case 13:ai=!1;return;default:nn=nn.return}}function jo(e){if(e!==nn)return!1;if(!jt)return fg(e),jt=!0,!1;var i=!1,a;if((a=e.tag!==3&&e.tag!==27)&&((a=e.tag===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Md(e.type,e.memoizedProps)),a=!a),a&&(i=!0),i&&ze&&Rs(e),fg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(i===0){ze=Fn(e.nextSibling);break t}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;e=e.nextSibling}ze=null}}else ze=nn?Fn(e.stateNode.nextSibling):null;return!0}function Ho(){ze=nn=null,jt=!1}function qo(e){Hn===null?Hn=[e]:Hn.push(e)}var Fo=Error(s(460)),dg=Error(s(474)),mf={then:function(){}};function mg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function qu(){}function pg(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(qu,qu),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,e===Fo?Error(s(483)):e;default:if(typeof i.status=="string")i.then(qu,qu);else{if(e=Zt,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,e===Fo?Error(s(483)):e}throw Go=i,Fo}}var Go=null;function gg(){if(Go===null)throw Error(s(459));var e=Go;return Go=null,e}var Ra=null,Qo=0;function Fu(e){var i=Qo;return Qo+=1,Ra===null&&(Ra=[]),pg(Ra,e,i)}function Ko(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function Gu(e,i){throw i.$$typeof===u?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function yg(e){var i=e._init;return i(e._payload)}function _g(e){function i(U,k){if(e){var H=U.deletions;H===null?(U.deletions=[k],U.flags|=16):H.push(k)}}function a(U,k){if(!e)return null;for(;k!==null;)i(U,k),k=k.sibling;return null}function l(U){for(var k=new Map;U!==null;)U.key!==null?k.set(U.key,U):k.set(U.index,U),U=U.sibling;return k}function h(U,k){return U=Vr(U,k),U.index=0,U.sibling=null,U}function d(U,k,H){return U.index=H,e?(H=U.alternate,H!==null?(H=H.index,H<k?(U.flags|=33554434,k):H):(U.flags|=33554434,k)):(U.flags|=1048576,k)}function v(U){return e&&U.alternate===null&&(U.flags|=33554434),U}function T(U,k,H,$){return k===null||k.tag!==6?(k=ld(H,U.mode,$),k.return=U,k):(k=h(k,H),k.return=U,k)}function I(U,k,H,$){var ct=H.type;return ct===p?W(U,k,H.props.children,$,H.key):k!==null&&(k.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===q&&yg(ct)===k.type)?(k=h(k,H.props),Ko(k,H),k.return=U,k):(k=uc(H.type,H.key,H.props,null,U.mode,$),Ko(k,H),k.return=U,k)}function P(U,k,H,$){return k===null||k.tag!==4||k.stateNode.containerInfo!==H.containerInfo||k.stateNode.implementation!==H.implementation?(k=ud(H,U.mode,$),k.return=U,k):(k=h(k,H.children||[]),k.return=U,k)}function W(U,k,H,$,ct){return k===null||k.tag!==7?(k=Ps(H,U.mode,$,ct),k.return=U,k):(k=h(k,H),k.return=U,k)}function et(U,k,H){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=ld(""+k,U.mode,H),k.return=U,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case f:return H=uc(k.type,k.key,k.props,null,U.mode,H),Ko(H,k),H.return=U,H;case m:return k=ud(k,U.mode,H),k.return=U,k;case q:var $=k._init;return k=$(k._payload),et(U,k,H)}if(ot(k)||mt(k))return k=Ps(k,U.mode,H,null),k.return=U,k;if(typeof k.then=="function")return et(U,Fu(k),H);if(k.$$typeof===M)return et(U,ac(U,k),H);Gu(U,k)}return null}function F(U,k,H,$){var ct=k!==null?k.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return ct!==null?null:T(U,k,""+H,$);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case f:return H.key===ct?I(U,k,H,$):null;case m:return H.key===ct?P(U,k,H,$):null;case q:return ct=H._init,H=ct(H._payload),F(U,k,H,$)}if(ot(H)||mt(H))return ct!==null?null:W(U,k,H,$,null);if(typeof H.then=="function")return F(U,k,Fu(H),$);if(H.$$typeof===M)return F(U,k,ac(U,H),$);Gu(U,H)}return null}function X(U,k,H,$,ct){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return U=U.get(H)||null,T(k,U,""+$,ct);if(typeof $=="object"&&$!==null){switch($.$$typeof){case f:return U=U.get($.key===null?H:$.key)||null,I(k,U,$,ct);case m:return U=U.get($.key===null?H:$.key)||null,P(k,U,$,ct);case q:var Ot=$._init;return $=Ot($._payload),X(U,k,H,$,ct)}if(ot($)||mt($))return U=U.get(H)||null,W(k,U,$,ct,null);if(typeof $.then=="function")return X(U,k,H,Fu($),ct);if($.$$typeof===M)return X(U,k,H,ac(k,$),ct);Gu(k,$)}return null}function dt(U,k,H,$){for(var ct=null,Ot=null,gt=k,vt=k=0,Pe=null;gt!==null&&vt<H.length;vt++){gt.index>vt?(Pe=gt,gt=null):Pe=gt.sibling;var Ht=F(U,gt,H[vt],$);if(Ht===null){gt===null&&(gt=Pe);break}e&&gt&&Ht.alternate===null&&i(U,gt),k=d(Ht,k,vt),Ot===null?ct=Ht:Ot.sibling=Ht,Ot=Ht,gt=Pe}if(vt===H.length)return a(U,gt),jt&&Ss(U,vt),ct;if(gt===null){for(;vt<H.length;vt++)gt=et(U,H[vt],$),gt!==null&&(k=d(gt,k,vt),Ot===null?ct=gt:Ot.sibling=gt,Ot=gt);return jt&&Ss(U,vt),ct}for(gt=l(gt);vt<H.length;vt++)Pe=X(gt,U,vt,H[vt],$),Pe!==null&&(e&&Pe.alternate!==null&&gt.delete(Pe.key===null?vt:Pe.key),k=d(Pe,k,vt),Ot===null?ct=Pe:Ot.sibling=Pe,Ot=Pe);return e&&gt.forEach(function(jr){return i(U,jr)}),jt&&Ss(U,vt),ct}function bt(U,k,H,$){if(H==null)throw Error(s(151));for(var ct=null,Ot=null,gt=k,vt=k=0,Pe=null,Ht=H.next();gt!==null&&!Ht.done;vt++,Ht=H.next()){gt.index>vt?(Pe=gt,gt=null):Pe=gt.sibling;var jr=F(U,gt,Ht.value,$);if(jr===null){gt===null&&(gt=Pe);break}e&&gt&&jr.alternate===null&&i(U,gt),k=d(jr,k,vt),Ot===null?ct=jr:Ot.sibling=jr,Ot=jr,gt=Pe}if(Ht.done)return a(U,gt),jt&&Ss(U,vt),ct;if(gt===null){for(;!Ht.done;vt++,Ht=H.next())Ht=et(U,Ht.value,$),Ht!==null&&(k=d(Ht,k,vt),Ot===null?ct=Ht:Ot.sibling=Ht,Ot=Ht);return jt&&Ss(U,vt),ct}for(gt=l(gt);!Ht.done;vt++,Ht=H.next())Ht=X(gt,U,vt,Ht.value,$),Ht!==null&&(e&&Ht.alternate!==null&&gt.delete(Ht.key===null?vt:Ht.key),k=d(Ht,k,vt),Ot===null?ct=Ht:Ot.sibling=Ht,Ot=Ht);return e&&gt.forEach(function(sb){return i(U,sb)}),jt&&Ss(U,vt),ct}function he(U,k,H,$){if(typeof H=="object"&&H!==null&&H.type===p&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case f:t:{for(var ct=H.key;k!==null;){if(k.key===ct){if(ct=H.type,ct===p){if(k.tag===7){a(U,k.sibling),$=h(k,H.props.children),$.return=U,U=$;break t}}else if(k.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===q&&yg(ct)===k.type){a(U,k.sibling),$=h(k,H.props),Ko($,H),$.return=U,U=$;break t}a(U,k);break}else i(U,k);k=k.sibling}H.type===p?($=Ps(H.props.children,U.mode,$,H.key),$.return=U,U=$):($=uc(H.type,H.key,H.props,null,U.mode,$),Ko($,H),$.return=U,U=$)}return v(U);case m:t:{for(ct=H.key;k!==null;){if(k.key===ct)if(k.tag===4&&k.stateNode.containerInfo===H.containerInfo&&k.stateNode.implementation===H.implementation){a(U,k.sibling),$=h(k,H.children||[]),$.return=U,U=$;break t}else{a(U,k);break}else i(U,k);k=k.sibling}$=ud(H,U.mode,$),$.return=U,U=$}return v(U);case q:return ct=H._init,H=ct(H._payload),he(U,k,H,$)}if(ot(H))return dt(U,k,H,$);if(mt(H)){if(ct=mt(H),typeof ct!="function")throw Error(s(150));return H=ct.call(H),bt(U,k,H,$)}if(typeof H.then=="function")return he(U,k,Fu(H),$);if(H.$$typeof===M)return he(U,k,ac(U,H),$);Gu(U,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,k!==null&&k.tag===6?(a(U,k.sibling),$=h(k,H),$.return=U,U=$):(a(U,k),$=ld(H,U.mode,$),$.return=U,U=$),v(U)):a(U,k)}return function(U,k,H,$){try{Qo=0;var ct=he(U,k,H,$);return Ra=null,ct}catch(gt){if(gt===Fo)throw gt;var Ot=Mn(29,gt,null,U.mode);return Ot.lanes=$,Ot.return=U,Ot}finally{}}}var Is=_g(!0),vg=_g(!1),Ia=zt(null),Qu=zt(0);function Eg(e,i){e=qi,Kt(Qu,e),Kt(Ia,i),qi=e|i.baseLanes}function pf(){Kt(Qu,qi),Kt(Ia,Ia.current)}function gf(){qi=Qu.current,oe(Ia),oe(Qu)}var On=zt(null),oi=null;function br(e){var i=e.alternate;Kt(Re,Re.current&1),Kt(On,e),oi===null&&(i===null||Ia.current!==null||i.memoizedState!==null)&&(oi=e)}function Tg(e){if(e.tag===22){if(Kt(Re,Re.current),Kt(On,e),oi===null){var i=e.alternate;i!==null&&i.memoizedState!==null&&(oi=e)}}else wr()}function wr(){Kt(Re,Re.current),Kt(On,On.current)}function Mi(e){oe(On),oi===e&&(oi=null),oe(Re)}var Re=zt(0);function Ku(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var QA=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},KA=r.unstable_scheduleCallback,YA=r.unstable_NormalPriority,Ie={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function yf(){return{controller:new QA,data:new Map,refCount:0}}function Yo(e){e.refCount--,e.refCount===0&&KA(YA,function(){e.controller.abort()})}var Xo=null,_f=0,Ca=0,Da=null;function XA(e,i){if(Xo===null){var a=Xo=[];_f=0,Ca=wd(),Da={status:"pending",value:void 0,then:function(l){a.push(l)}}}return _f++,i.then(Ag,Ag),i}function Ag(){if(--_f===0&&Xo!==null){Da!==null&&(Da.status="fulfilled");var e=Xo;Xo=null,Ca=0,Da=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function WA(e,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var bg=S.S;S.S=function(e,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&XA(e,i),bg!==null&&bg(e,i)};var Cs=zt(null);function vf(){var e=Cs.current;return e!==null?e:Zt.pooledCache}function Yu(e,i){i===null?Kt(Cs,Cs.current):Kt(Cs,i.pool)}function wg(){var e=vf();return e===null?null:{parent:Ie._currentValue,pool:e}}var Sr=0,Ct=null,Yt=null,ye=null,Xu=!1,Oa=!1,Ds=!1,Wu=0,Wo=0,Na=null,ZA=0;function me(){throw Error(s(321))}function Ef(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!dn(e[a],i[a]))return!1;return!0}function Tf(e,i,a,l,h,d){return Sr=d,Ct=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,S.H=e===null||e.memoizedState===null?Os:Rr,Ds=!1,d=a(l,h),Ds=!1,Oa&&(d=Rg(i,a,l,h)),Sg(e),d}function Sg(e){S.H=li;var i=Yt!==null&&Yt.next!==null;if(Sr=0,ye=Yt=Ct=null,Xu=!1,Wo=0,Na=null,i)throw Error(s(300));e===null||Ve||(e=e.dependencies,e!==null&&sc(e)&&(Ve=!0))}function Rg(e,i,a,l){Ct=e;var h=0;do{if(Oa&&(Na=null),Wo=0,Oa=!1,25<=h)throw Error(s(301));if(h+=1,ye=Yt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}S.H=Ns,d=i(a,l)}while(Oa);return d}function $A(){var e=S.H,i=e.useState()[0];return i=typeof i.then=="function"?Zo(i):i,e=e.useState()[0],(Yt!==null?Yt.memoizedState:null)!==e&&(Ct.flags|=1024),i}function Af(){var e=Wu!==0;return Wu=0,e}function bf(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function wf(e){if(Xu){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}Xu=!1}Sr=0,ye=Yt=Ct=null,Oa=!1,Wo=Wu=0,Na=null}function un(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ye===null?Ct.memoizedState=ye=e:ye=ye.next=e,ye}function _e(){if(Yt===null){var e=Ct.alternate;e=e!==null?e.memoizedState:null}else e=Yt.next;var i=ye===null?Ct.memoizedState:ye.next;if(i!==null)ye=i,Yt=e;else{if(e===null)throw Ct.alternate===null?Error(s(467)):Error(s(310));Yt=e,e={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},ye===null?Ct.memoizedState=ye=e:ye=ye.next=e}return ye}var Zu;Zu=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Zo(e){var i=Wo;return Wo+=1,Na===null&&(Na=[]),e=pg(Na,e,i),i=Ct,(ye===null?i.memoizedState:ye.next)===null&&(i=i.alternate,S.H=i===null||i.memoizedState===null?Os:Rr),e}function $u(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Zo(e);if(e.$$typeof===M)return Qe(e)}throw Error(s(438,String(e)))}function Sf(e){var i=null,a=Ct.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ct.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Zu(),Ct.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),l=0;l<e;l++)a[l]=it;return i.index++,a}function Vi(e,i){return typeof i=="function"?i(e):i}function Ju(e){var i=_e();return Rf(i,Yt,e)}function Rf(e,i,a){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{i=h.next;var T=v=null,I=null,P=i,W=!1;do{var et=P.lane&-536870913;if(et!==P.lane?(Lt&et)===et:(Sr&et)===et){var F=P.revertLane;if(F===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),et===Ca&&(W=!0);else if((Sr&F)===F){P=P.next,F===Ca&&(W=!0);continue}else et={lane:0,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},I===null?(T=I=et,v=d):I=I.next=et,Ct.lanes|=F,kr|=F;et=P.action,Ds&&a(d,et),d=P.hasEagerState?P.eagerState:a(d,et)}else F={lane:et,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},I===null?(T=I=F,v=d):I=I.next=F,Ct.lanes|=et,kr|=et;P=P.next}while(P!==null&&P!==i);if(I===null?v=d:I.next=T,!dn(d,e.memoizedState)&&(Ve=!0,W&&(a=Da,a!==null)))throw a;e.memoizedState=d,e.baseState=v,e.baseQueue=I,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function If(e){var i=_e(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=e(d,v.action),v=v.next;while(v!==h);dn(d,i.memoizedState)||(Ve=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Ig(e,i,a){var l=Ct,h=_e(),d=jt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!dn((Yt||h).memoizedState,a);if(v&&(h.memoizedState=a,Ve=!0),h=h.queue,Of(Og.bind(null,l,h,e),[e]),h.getSnapshot!==i||v||ye!==null&&ye.memoizedState.tag&1){if(l.flags|=2048,xa(9,Dg.bind(null,l,h,a,i),{destroy:void 0},null),Zt===null)throw Error(s(349));d||(Sr&60)!==0||Cg(l,i,a)}return a}function Cg(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=Ct.updateQueue,i===null?(i=Zu(),Ct.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function Dg(e,i,a,l){i.value=a,i.getSnapshot=l,Ng(i)&&xg(e)}function Og(e,i,a){return a(function(){Ng(i)&&xg(e)})}function Ng(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!dn(e,a)}catch{return!0}}function xg(e){var i=Ar(e,2);i!==null&&rn(i,e,2)}function Cf(e){var i=un();if(typeof e=="function"){var a=e;if(e=a(),Ds){Xn(!0);try{a()}finally{Xn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:e},i}function Mg(e,i,a,l){return e.baseState=a,Rf(e,Yt,typeof l=="function"?l:Vi)}function JA(e,i,a,l,h){if(nc(e))throw Error(s(485));if(e=i.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};S.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Vg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Vg(e,i){var a=i.action,l=i.payload,h=e.state;if(i.isTransition){var d=S.T,v={};S.T=v;try{var T=a(h,l),I=S.S;I!==null&&I(v,T),kg(e,i,T)}catch(P){Df(e,i,P)}finally{S.T=d}}else try{d=a(h,l),kg(e,i,d)}catch(P){Df(e,i,P)}}function kg(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Pg(e,i,l)},function(l){return Df(e,i,l)}):Pg(e,i,a)}function Pg(e,i,a){i.status="fulfilled",i.value=a,Lg(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,Vg(e,a)))}function Df(e,i,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Lg(i),i=i.next;while(i!==l)}e.action=null}function Lg(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function Ug(e,i){return i}function zg(e,i){if(jt){var a=Zt.formState;if(a!==null){t:{var l=Ct;if(jt){if(ze){e:{for(var h=ze,d=ai;h.nodeType!==8;){if(!d){h=null;break e}if(h=Fn(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ze=Fn(h.nextSibling),l=h.data==="F!";break t}}Rs(l)}l=!1}l&&(i=a[0])}}return a=un(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ug,lastRenderedState:i},a.queue=l,a=iy.bind(null,Ct,l),l.dispatch=a,l=Cf(!1),d=kf.bind(null,Ct,!1,l.queue),l=un(),h={state:i,dispatch:null,action:e,pending:null},l.queue=h,a=JA.bind(null,Ct,h,d,a),h.dispatch=a,l.memoizedState=e,[i,a,!1]}function Bg(e){var i=_e();return jg(i,Yt,e)}function jg(e,i,a){i=Rf(e,i,Ug)[0],e=Ju(Vi)[0],i=typeof i=="object"&&i!==null&&typeof i.then=="function"?Zo(i):i;var l=_e(),h=l.queue,d=h.dispatch;return a!==l.memoizedState&&(Ct.flags|=2048,xa(9,t1.bind(null,h,a),{destroy:void 0},null)),[i,d,e]}function t1(e,i){e.action=i}function Hg(e){var i=_e(),a=Yt;if(a!==null)return jg(i,a,e);_e(),i=i.memoizedState,a=_e();var l=a.queue.dispatch;return a.memoizedState=e,[i,l,!1]}function xa(e,i,a,l){return e={tag:e,create:i,inst:a,deps:l,next:null},i=Ct.updateQueue,i===null&&(i=Zu(),Ct.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,i.lastEffect=e),e}function qg(){return _e().memoizedState}function tc(e,i,a,l){var h=un();Ct.flags|=e,h.memoizedState=xa(1|i,a,{destroy:void 0},l===void 0?null:l)}function ec(e,i,a,l){var h=_e();l=l===void 0?null:l;var d=h.memoizedState.inst;Yt!==null&&l!==null&&Ef(l,Yt.memoizedState.deps)?h.memoizedState=xa(i,a,d,l):(Ct.flags|=e,h.memoizedState=xa(1|i,a,d,l))}function Fg(e,i){tc(8390656,8,e,i)}function Of(e,i){ec(2048,8,e,i)}function Gg(e,i){return ec(4,2,e,i)}function Qg(e,i){return ec(4,4,e,i)}function Kg(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function Yg(e,i,a){a=a!=null?a.concat([e]):null,ec(4,4,Kg.bind(null,i,e),a)}function Nf(){}function Xg(e,i){var a=_e();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Ef(i,l[1])?l[0]:(a.memoizedState=[e,i],e)}function Wg(e,i){var a=_e();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Ef(i,l[1]))return l[0];if(l=e(),Ds){Xn(!0);try{e()}finally{Xn(!1)}}return a.memoizedState=[l,i],l}function xf(e,i,a){return a===void 0||(Sr&1073741824)!==0?e.memoizedState=i:(e.memoizedState=a,e=$y(),Ct.lanes|=e,kr|=e,a)}function Zg(e,i,a,l){return dn(a,i)?a:Ia.current!==null?(e=xf(e,a,l),dn(e,i)||(Ve=!0),e):(Sr&42)===0?(Ve=!0,e.memoizedState=a):(e=$y(),Ct.lanes|=e,kr|=e,i)}function $g(e,i,a,l,h){var d=lt.p;lt.p=d!==0&&8>d?d:8;var v=S.T,T={};S.T=T,kf(e,!1,i,a);try{var I=h(),P=S.S;if(P!==null&&P(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var W=WA(I,l);$o(e,i,W,yn(e))}else $o(e,i,l,yn(e))}catch(et){$o(e,i,{then:function(){},status:"rejected",reason:et},yn())}finally{lt.p=d,S.T=v}}function e1(){}function Mf(e,i,a,l){if(e.tag!==5)throw Error(s(476));var h=Jg(e).queue;$g(e,h,i,It,a===null?e1:function(){return ty(e),a(l)})}function Jg(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:It,baseState:It,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:It},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function ty(e){var i=Jg(e).next.queue;$o(e,i,{},yn())}function Vf(){return Qe(_l)}function ey(){return _e().memoizedState}function ny(){return _e().memoizedState}function n1(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=yn();e=Dr(a);var l=Or(i,e,a);l!==null&&(rn(l,i,a),el(l,i,a)),i={cache:yf()},e.payload=i;return}i=i.return}}function i1(e,i,a){var l=yn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},nc(e)?ry(i,a):(a=cf(e,i,a,l),a!==null&&(rn(a,e,l),sy(a,i,l)))}function iy(e,i,a){var l=yn();$o(e,i,a,l)}function $o(e,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(nc(e))ry(i,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,T=d(v,a);if(h.hasEagerState=!0,h.eagerState=T,dn(T,v))return zu(e,i,h,0),Zt===null&&Uu(),!1}catch{}finally{}if(a=cf(e,i,h,l),a!==null)return rn(a,e,l),sy(a,i,l),!0}return!1}function kf(e,i,a,l){if(l={lane:2,revertLane:wd(),action:l,hasEagerState:!1,eagerState:null,next:null},nc(e)){if(i)throw Error(s(479))}else i=cf(e,a,l,2),i!==null&&rn(i,e,2)}function nc(e){var i=e.alternate;return e===Ct||i!==null&&i===Ct}function ry(e,i){Oa=Xu=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function sy(e,i,a){if((a&4194176)!==0){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,fr(e,a)}}var li={readContext:Qe,use:$u,useCallback:me,useContext:me,useEffect:me,useImperativeHandle:me,useLayoutEffect:me,useInsertionEffect:me,useMemo:me,useReducer:me,useRef:me,useState:me,useDebugValue:me,useDeferredValue:me,useTransition:me,useSyncExternalStore:me,useId:me};li.useCacheRefresh=me,li.useMemoCache=me,li.useHostTransitionStatus=me,li.useFormState=me,li.useActionState=me,li.useOptimistic=me;var Os={readContext:Qe,use:$u,useCallback:function(e,i){return un().memoizedState=[e,i===void 0?null:i],e},useContext:Qe,useEffect:Fg,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,tc(4194308,4,Kg.bind(null,i,e),a)},useLayoutEffect:function(e,i){return tc(4194308,4,e,i)},useInsertionEffect:function(e,i){tc(4,2,e,i)},useMemo:function(e,i){var a=un();i=i===void 0?null:i;var l=e();if(Ds){Xn(!0);try{e()}finally{Xn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(e,i,a){var l=un();if(a!==void 0){var h=a(i);if(Ds){Xn(!0);try{a(i)}finally{Xn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=i1.bind(null,Ct,e),[l.memoizedState,e]},useRef:function(e){var i=un();return e={current:e},i.memoizedState=e},useState:function(e){e=Cf(e);var i=e.queue,a=iy.bind(null,Ct,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:Nf,useDeferredValue:function(e,i){var a=un();return xf(a,e,i)},useTransition:function(){var e=Cf(!1);return e=$g.bind(null,Ct,e.queue,!0,!1),un().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var l=Ct,h=un();if(jt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Zt===null)throw Error(s(349));(Lt&60)!==0||Cg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Fg(Og.bind(null,l,d,e),[e]),l.flags|=2048,xa(9,Dg.bind(null,l,d,a,i),{destroy:void 0},null),a},useId:function(){var e=un(),i=Zt.identifierPrefix;if(jt){var a=xi,l=Ni;a=(l&~(1<<32-Je(l)-1)).toString(32)+a,i=":"+i+"R"+a,a=Wu++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=ZA++,i=":"+i+"r"+a.toString(32)+":";return e.memoizedState=i},useCacheRefresh:function(){return un().memoizedState=n1.bind(null,Ct)}};Os.useMemoCache=Sf,Os.useHostTransitionStatus=Vf,Os.useFormState=zg,Os.useActionState=zg,Os.useOptimistic=function(e){var i=un();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=kf.bind(null,Ct,!0,a),a.dispatch=i,[e,i]};var Rr={readContext:Qe,use:$u,useCallback:Xg,useContext:Qe,useEffect:Of,useImperativeHandle:Yg,useInsertionEffect:Gg,useLayoutEffect:Qg,useMemo:Wg,useReducer:Ju,useRef:qg,useState:function(){return Ju(Vi)},useDebugValue:Nf,useDeferredValue:function(e,i){var a=_e();return Zg(a,Yt.memoizedState,e,i)},useTransition:function(){var e=Ju(Vi)[0],i=_e().memoizedState;return[typeof e=="boolean"?e:Zo(e),i]},useSyncExternalStore:Ig,useId:ey};Rr.useCacheRefresh=ny,Rr.useMemoCache=Sf,Rr.useHostTransitionStatus=Vf,Rr.useFormState=Bg,Rr.useActionState=Bg,Rr.useOptimistic=function(e,i){var a=_e();return Mg(a,Yt,e,i)};var Ns={readContext:Qe,use:$u,useCallback:Xg,useContext:Qe,useEffect:Of,useImperativeHandle:Yg,useInsertionEffect:Gg,useLayoutEffect:Qg,useMemo:Wg,useReducer:If,useRef:qg,useState:function(){return If(Vi)},useDebugValue:Nf,useDeferredValue:function(e,i){var a=_e();return Yt===null?xf(a,e,i):Zg(a,Yt.memoizedState,e,i)},useTransition:function(){var e=If(Vi)[0],i=_e().memoizedState;return[typeof e=="boolean"?e:Zo(e),i]},useSyncExternalStore:Ig,useId:ey};Ns.useCacheRefresh=ny,Ns.useMemoCache=Sf,Ns.useHostTransitionStatus=Vf,Ns.useFormState=Hg,Ns.useActionState=Hg,Ns.useOptimistic=function(e,i){var a=_e();return Yt!==null?Mg(a,Yt,e,i):(a.baseState=e,[e,a.queue.dispatch])};function Pf(e,i,a,l){i=e.memoizedState,a=a(l,i),a=a==null?i:C({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Lf={isMounted:function(e){return(e=e._reactInternals)?ft(e)===e:!1},enqueueSetState:function(e,i,a){e=e._reactInternals;var l=yn(),h=Dr(l);h.payload=i,a!=null&&(h.callback=a),i=Or(e,h,l),i!==null&&(rn(i,e,l),el(i,e,l))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var l=yn(),h=Dr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Or(e,h,l),i!==null&&(rn(i,e,l),el(i,e,l))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=yn(),l=Dr(a);l.tag=2,i!=null&&(l.callback=i),i=Or(e,l,a),i!==null&&(rn(i,e,a),el(i,e,a))}};function ay(e,i,a,l,h,d,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!zo(a,l)||!zo(h,d):!0}function oy(e,i,a,l){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==e&&Lf.enqueueReplaceState(i,i.state,null)}function xs(e,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(e=e.defaultProps){a===i&&(a=C({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}var ic=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function ly(e){ic(e)}function uy(e){console.error(e)}function cy(e){ic(e)}function rc(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function hy(e,i,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Uf(e,i,a){return a=Dr(a),a.tag=3,a.payload={element:null},a.callback=function(){rc(e,i)},a}function fy(e){return e=Dr(e),e.tag=3,e}function dy(e,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){hy(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){hy(i,a,l),typeof h!="function"&&(Pr===null?Pr=new Set([this]):Pr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function r1(e,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&tl(i,a,h,!0),a=On.current,a!==null){switch(a.tag){case 13:return oi===null?vd():a.alternate===null&&ce===0&&(ce=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===mf?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Td(e,l,h)),!1;case 22:return a.flags|=65536,l===mf?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Td(e,l,h)),!1}throw Error(s(435,a.tag))}return Td(e,l,h),vd(),!1}if(jt)return i=On.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==df&&(e=Error(s(422),{cause:l}),qo(In(e,a)))):(l!==df&&(i=Error(s(423),{cause:l}),qo(In(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=In(l,a),h=Uf(e.stateNode,l,h),Jf(e,h),ce!==4&&(ce=2)),!1;var d=Error(s(520),{cause:l});if(d=In(d,a),ul===null?ul=[d]:ul.push(d),ce!==4&&(ce=2),i===null)return!0;l=In(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=Uf(a.stateNode,l,e),Jf(a,e),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Pr===null||!Pr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=fy(h),dy(h,e,a,l),Jf(a,h),!1}a=a.return}while(a!==null);return!1}var my=Error(s(461)),Ve=!1;function Be(e,i,a,l){i.child=e===null?vg(i,null,a,l):Is(i,e.child,a,l)}function py(e,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return Vs(i),l=Tf(e,i,a,v,d,h),T=Af(),e!==null&&!Ve?(bf(e,i,h),ki(e,i,h)):(jt&&T&&hf(i),i.flags|=1,Be(e,i,l,h),i.child)}function gy(e,i,a,l,h){if(e===null){var d=a.type;return typeof d=="function"&&!od(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,yy(e,i,d,l,h)):(e=uc(a.type,null,l,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!Kf(e,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:zo,a(v,l)&&e.ref===i.ref)return ki(e,i,h)}return i.flags|=1,e=Vr(d,l),e.ref=i.ref,e.return=i,i.child=e}function yy(e,i,a,l,h){if(e!==null){var d=e.memoizedProps;if(zo(d,l)&&e.ref===i.ref)if(Ve=!1,i.pendingProps=l=d,Kf(e,h))(e.flags&131072)!==0&&(Ve=!0);else return i.lanes=e.lanes,ki(e,i,h)}return zf(e,i,a,l,h)}function _y(e,i,a){var l=i.pendingProps,h=l.children,d=(i.stateNode._pendingVisibility&2)!==0,v=e!==null?e.memoizedState:null;if(Jo(e,i),l.mode==="hidden"||d){if((i.flags&128)!==0){if(l=v!==null?v.baseLanes|a:a,e!==null){for(h=i.child=e.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return vy(e,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Yu(i,v!==null?v.cachePool:null),v!==null?Eg(i,v):pf(),Tg(i);else return i.lanes=i.childLanes=536870912,vy(e,i,v!==null?v.baseLanes|a:a,a)}else v!==null?(Yu(i,v.cachePool),Eg(i,v),wr(),i.memoizedState=null):(e!==null&&Yu(i,null),pf(),wr());return Be(e,i,h,a),i.child}function vy(e,i,a,l){var h=vf();return h=h===null?null:{parent:Ie._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},e!==null&&Yu(i,null),pf(),Tg(i),e!==null&&tl(e,i,l,!0),null}function Jo(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=2097664)}}function zf(e,i,a,l,h){return Vs(i),a=Tf(e,i,a,l,void 0,h),l=Af(),e!==null&&!Ve?(bf(e,i,h),ki(e,i,h)):(jt&&l&&hf(i),i.flags|=1,Be(e,i,a,h),i.child)}function Ey(e,i,a,l,h,d){return Vs(i),i.updateQueue=null,a=Rg(i,l,a,h),Sg(e),l=Af(),e!==null&&!Ve?(bf(e,i,d),ki(e,i,d)):(jt&&l&&hf(i),i.flags|=1,Be(e,i,a,d),i.child)}function Ty(e,i,a,l,h){if(Vs(i),i.stateNode===null){var d=ba,v=a.contextType;typeof v=="object"&&v!==null&&(d=Qe(v)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Lf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Zf(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?Qe(v):ba,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Pf(i,a,v,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Lf.enqueueReplaceState(d,d.state,null),il(i,l,d,h),nl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(e===null){d=i.stateNode;var T=i.memoizedProps,I=xs(a,T);d.props=I;var P=d.context,W=a.contextType;v=ba,typeof W=="object"&&W!==null&&(v=Qe(W));var et=a.getDerivedStateFromProps;W=typeof et=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,W||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||P!==v)&&oy(i,d,l,v),Cr=!1;var F=i.memoizedState;d.state=F,il(i,l,d,h),nl(),P=i.memoizedState,T||F!==P||Cr?(typeof et=="function"&&(Pf(i,a,et,l),P=i.memoizedState),(I=Cr||ay(i,a,I,l,F,P,v))?(W||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=P),d.props=l,d.state=P,d.context=v,l=I):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,$f(e,i),v=i.memoizedProps,W=xs(a,v),d.props=W,et=i.pendingProps,F=d.context,P=a.contextType,I=ba,typeof P=="object"&&P!==null&&(I=Qe(P)),T=a.getDerivedStateFromProps,(P=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==et||F!==I)&&oy(i,d,l,I),Cr=!1,F=i.memoizedState,d.state=F,il(i,l,d,h),nl();var X=i.memoizedState;v!==et||F!==X||Cr||e!==null&&e.dependencies!==null&&sc(e.dependencies)?(typeof T=="function"&&(Pf(i,a,T,l),X=i.memoizedState),(W=Cr||ay(i,a,W,l,F,X,I)||e!==null&&e.dependencies!==null&&sc(e.dependencies))?(P||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,X,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,X,I)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&F===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&F===e.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=X),d.props=l,d.state=X,d.context=I,l=W):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&F===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&F===e.memoizedState||(i.flags|=1024),l=!1)}return d=l,Jo(e,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&l?(i.child=Is(i,e.child,null,h),i.child=Is(i,null,a,h)):Be(e,i,a,h),i.memoizedState=d.state,e=i.child):e=ki(e,i,h),e}function Ay(e,i,a,l){return Ho(),i.flags|=256,Be(e,i,a,l),i.child}var Bf={dehydrated:null,treeContext:null,retryLane:0};function jf(e){return{baseLanes:e,cachePool:wg()}}function Hf(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=Vn),e}function by(e,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=e!==null&&e.memoizedState===null?!1:(Re.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,e===null){if(jt){if(h?br(i):wr(),jt){var T=ze,I;if(I=T){t:{for(I=T,T=ai;I.nodeType!==8;){if(!T){T=null;break t}if(I=Fn(I.nextSibling),I===null){T=null;break t}}T=I}T!==null?(i.memoizedState={dehydrated:T,treeContext:ws!==null?{id:Ni,overflow:xi}:null,retryLane:536870912},I=Mn(18,null,null,0),I.stateNode=T,I.return=i,i.child=I,nn=i,ze=null,I=!0):I=!1}I||Rs(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return T.data==="$!"?i.lanes=16:i.lanes=536870912,null;Mi(i)}return T=l.children,l=l.fallback,h?(wr(),h=i.mode,T=Ff({mode:"hidden",children:T},h),l=Ps(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,h=i.child,h.memoizedState=jf(a),h.childLanes=Hf(e,v,a),i.memoizedState=Bf,l):(br(i),qf(i,T))}if(I=e.memoizedState,I!==null&&(T=I.dehydrated,T!==null)){if(d)i.flags&256?(br(i),i.flags&=-257,i=Gf(e,i,a)):i.memoizedState!==null?(wr(),i.child=e.child,i.flags|=128,i=null):(wr(),h=l.fallback,T=i.mode,l=Ff({mode:"visible",children:l.children},T),h=Ps(h,T,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,Is(i,e.child,null,a),l=i.child,l.memoizedState=jf(a),l.childLanes=Hf(e,v,a),i.memoizedState=Bf,i=h);else if(br(i),T.data==="$!"){if(v=T.nextSibling&&T.nextSibling.dataset,v)var P=v.dgst;v=P,l=Error(s(419)),l.stack="",l.digest=v,qo({value:l,source:null,stack:null}),i=Gf(e,i,a)}else if(Ve||tl(e,i,a,!1),v=(a&e.childLanes)!==0,Ve||v){if(v=Zt,v!==null){if(l=a&-a,(l&42)!==0)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==I.retryLane)throw I.retryLane=l,Ar(e,l),rn(v,e,l),my}T.data==="$?"||vd(),i=Gf(e,i,a)}else T.data==="$?"?(i.flags|=128,i.child=e.child,i=v1.bind(null,e),T._reactRetry=i,i=null):(e=I.treeContext,ze=Fn(T.nextSibling),nn=i,jt=!0,Hn=null,ai=!1,e!==null&&(Cn[Dn++]=Ni,Cn[Dn++]=xi,Cn[Dn++]=ws,Ni=e.id,xi=e.overflow,ws=i),i=qf(i,l.children),i.flags|=4096);return i}return h?(wr(),h=l.fallback,T=i.mode,I=e.child,P=I.sibling,l=Vr(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&31457280,P!==null?h=Vr(P,h):(h=Ps(h,T,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,T=e.child.memoizedState,T===null?T=jf(a):(I=T.cachePool,I!==null?(P=Ie._currentValue,I=I.parent!==P?{parent:P,pool:P}:I):I=wg(),T={baseLanes:T.baseLanes|a,cachePool:I}),h.memoizedState=T,h.childLanes=Hf(e,v,a),i.memoizedState=Bf,l):(br(i),a=e.child,e=a.sibling,a=Vr(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,e!==null&&(v=i.deletions,v===null?(i.deletions=[e],i.flags|=16):v.push(e)),i.child=a,i.memoizedState=null,a)}function qf(e,i){return i=Ff({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function Ff(e,i){return Xy(e,i,0,null)}function Gf(e,i,a){return Is(i,e.child,null,a),e=qf(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function wy(e,i,a){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i),Xf(e.return,i,a)}function Qf(e,i,a,l,h){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function Sy(e,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(Be(e,i,l.children,a),l=Re.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&wy(e,a,i);else if(e.tag===19)wy(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(Kt(Re,l),h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&Ku(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Qf(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&Ku(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Qf(i,!0,a,null,d);break;case"together":Qf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function ki(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),kr|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(tl(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=Vr(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=Vr(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function Kf(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&sc(e)))}function s1(e,i,a){switch(i.tag){case 3:ar(i,i.stateNode.containerInfo),Ir(i,Ie,e.memoizedState.cache),Ho();break;case 27:case 5:_o(i);break;case 4:ar(i,i.stateNode.containerInfo);break;case 10:Ir(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(br(i),i.flags|=128,null):(a&i.child.childLanes)!==0?by(e,i,a):(br(i),e=ki(e,i,a),e!==null?e.sibling:null);br(i);break;case 19:var h=(e.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(tl(e,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return Sy(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Kt(Re,Re.current),l)break;return null;case 22:case 23:return i.lanes=0,_y(e,i,a);case 24:Ir(i,Ie,e.memoizedState.cache)}return ki(e,i,a)}function Ry(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)Ve=!0;else{if(!Kf(e,a)&&(i.flags&128)===0)return Ve=!1,s1(e,i,a);Ve=(e.flags&131072)!==0}else Ve=!1,jt&&(i.flags&1048576)!==0&&cg(i,Hu,i.index);switch(i.lanes=0,i.tag){case 16:t:{e=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")od(l)?(e=xs(l,e),i.tag=1,i=Ty(null,i,l,e,a)):(i.tag=0,i=zf(null,i,l,e,a));else{if(l!=null){if(h=l.$$typeof,h===V){i.tag=11,i=py(null,i,l,e,a);break t}else if(h===Q){i.tag=14,i=gy(null,i,l,e,a);break t}}throw i=R(l)||l,Error(s(306,i,""))}}return i;case 0:return zf(e,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=xs(l,i.pendingProps),Ty(e,i,l,h,a);case 3:t:{if(ar(i,i.stateNode.containerInfo),e===null)throw Error(s(387));var d=i.pendingProps;h=i.memoizedState,l=h.element,$f(e,i),il(i,d,null,a);var v=i.memoizedState;if(d=v.cache,Ir(i,Ie,d),d!==h.cache&&Wf(i,[Ie],a,!0),nl(),d=v.element,h.isDehydrated)if(h={element:d,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=h,i.memoizedState=h,i.flags&256){i=Ay(e,i,d,a);break t}else if(d!==l){l=In(Error(s(424)),i),qo(l),i=Ay(e,i,d,a);break t}else for(ze=Fn(i.stateNode.containerInfo.firstChild),nn=i,jt=!0,Hn=null,ai=!0,a=vg(i,null,d,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ho(),d===l){i=ki(e,i,a);break t}Be(e,i,d,a)}i=i.child}return i;case 26:return Jo(e,i),e===null?(a=D_(i.type,null,i.pendingProps,null))?i.memoizedState=a:jt||(a=i.type,e=i.pendingProps,l=Tc(vn.current).createElement(a),l[Ne]=i,l[be]=e,je(l,a,e),ne(l),i.stateNode=l):i.memoizedState=D_(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return _o(i),e===null&&jt&&(l=i.stateNode=R_(i.type,i.pendingProps,vn.current),nn=i,ai=!0,ze=Fn(l.firstChild)),l=i.pendingProps.children,e!==null||jt?Be(e,i,l,a):i.child=Is(i,null,l,a),Jo(e,i),i.child;case 5:return e===null&&jt&&((h=l=ze)&&(l=k1(l,i.type,i.pendingProps,ai),l!==null?(i.stateNode=l,nn=i,ze=Fn(l.firstChild),ai=!1,h=!0):h=!1),h||Rs(i)),_o(i),h=i.type,d=i.pendingProps,v=e!==null?e.memoizedProps:null,l=d.children,Md(h,d)?l=null:v!==null&&Md(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=Tf(e,i,$A,null,null,a),_l._currentValue=h),Jo(e,i),Be(e,i,l,a),i.child;case 6:return e===null&&jt&&((e=a=ze)&&(a=P1(a,i.pendingProps,ai),a!==null?(i.stateNode=a,nn=i,ze=null,e=!0):e=!1),e||Rs(i)),null;case 13:return by(e,i,a);case 4:return ar(i,i.stateNode.containerInfo),l=i.pendingProps,e===null?i.child=Is(i,null,l,a):Be(e,i,l,a),i.child;case 11:return py(e,i,i.type,i.pendingProps,a);case 7:return Be(e,i,i.pendingProps,a),i.child;case 8:return Be(e,i,i.pendingProps.children,a),i.child;case 12:return Be(e,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Ir(i,i.type,l.value),Be(e,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Vs(i),h=Qe(h),l=l(h),i.flags|=1,Be(e,i,l,a),i.child;case 14:return gy(e,i,i.type,i.pendingProps,a);case 15:return yy(e,i,i.type,i.pendingProps,a);case 19:return Sy(e,i,a);case 22:return _y(e,i,a);case 24:return Vs(i),l=Qe(Ie),e===null?(h=vf(),h===null&&(h=Zt,d=yf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Zf(i),Ir(i,Ie,h)):((e.lanes&a)!==0&&($f(e,i),il(i,null,null,a),nl()),h=e.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Ir(i,Ie,l)):(l=d.cache,Ir(i,Ie,l),l!==h.cache&&Wf(i,[Ie],a,!0))),Be(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}var Yf=zt(null),Ms=null,Pi=null;function Ir(e,i,a){Kt(Yf,i._currentValue),i._currentValue=a}function Li(e){e._currentValue=Yf.current,oe(Yf)}function Xf(e,i,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),e===a)break;e=e.return}}function Wf(e,i,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;t:for(;d!==null;){var T=d;d=h;for(var I=0;I<i.length;I++)if(T.context===i[I]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),Xf(d.return,a,e),l||(v=null);break t}d=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),Xf(v,a,e),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===e){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function tl(e,i,a,l){e=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=h.type;dn(h.pendingProps.value,v.value)||(e!==null?e.push(T):e=[T])}}else if(h===sr.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(_l):e=[_l])}h=h.return}e!==null&&Wf(i,e,a,l),i.flags|=262144}function sc(e){for(e=e.firstContext;e!==null;){if(!dn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Vs(e){Ms=e,Pi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Qe(e){return Iy(Ms,e)}function ac(e,i){return Ms===null&&Vs(e),Iy(e,i)}function Iy(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Pi===null){if(e===null)throw Error(s(308));Pi=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Pi=Pi.next=i;return a}var Cr=!1;function Zf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function $f(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Dr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Or(e,i,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(re&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Bu(e),lg(e,null,a),i}return zu(e,l,i,a),Bu(e)}function el(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194176)!==0)){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,fr(e,a)}}function Jf(e,i){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var td=!1;function nl(){if(td){var e=Da;if(e!==null)throw e}}function il(e,i,a,l){td=!1;var h=e.updateQueue;Cr=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var I=T,P=I.next;I.next=null,v===null?d=P:v.next=P,v=I;var W=e.alternate;W!==null&&(W=W.updateQueue,T=W.lastBaseUpdate,T!==v&&(T===null?W.firstBaseUpdate=P:T.next=P,W.lastBaseUpdate=I))}if(d!==null){var et=h.baseState;v=0,W=P=I=null,T=d;do{var F=T.lane&-536870913,X=F!==T.lane;if(X?(Lt&F)===F:(l&F)===F){F!==0&&F===Ca&&(td=!0),W!==null&&(W=W.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var dt=e,bt=T;F=i;var he=a;switch(bt.tag){case 1:if(dt=bt.payload,typeof dt=="function"){et=dt.call(he,et,F);break t}et=dt;break t;case 3:dt.flags=dt.flags&-65537|128;case 0:if(dt=bt.payload,F=typeof dt=="function"?dt.call(he,et,F):dt,F==null)break t;et=C({},et,F);break t;case 2:Cr=!0}}F=T.callback,F!==null&&(e.flags|=64,X&&(e.flags|=8192),X=h.callbacks,X===null?h.callbacks=[F]:X.push(F))}else X={lane:F,tag:T.tag,payload:T.payload,callback:T.callback,next:null},W===null?(P=W=X,I=et):W=W.next=X,v|=F;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;X=T,T=X.next,X.next=null,h.lastBaseUpdate=X,h.shared.pending=null}}while(!0);W===null&&(I=et),h.baseState=I,h.firstBaseUpdate=P,h.lastBaseUpdate=W,d===null&&(h.shared.lanes=0),kr|=v,e.lanes=v,e.memoizedState=et}}function Cy(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function Dy(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Cy(a[e],i)}function rl(e,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(T){Wt(i,i.return,T)}}function Nr(e,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=i;var I=a;try{T()}catch(P){Wt(h,I,P)}}}l=l.next}while(l!==d)}}catch(P){Wt(i,i.return,P)}}function Oy(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{Dy(i,a)}catch(l){Wt(e,e.return,l)}}}function Ny(e,i,a){a.props=xs(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){Wt(e,i,l)}}function ks(e,i){try{var a=e.ref;if(a!==null){var l=e.stateNode;switch(e.tag){case 26:case 27:case 5:var h=l;break;default:h=l}typeof a=="function"?e.refCleanup=a(h):a.current=h}}catch(d){Wt(e,i,d)}}function mn(e,i){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Wt(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Wt(e,i,h)}else a.current=null}function xy(e){var i=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Wt(e,e.return,h)}}function My(e,i,a){try{var l=e.stateNode;O1(l,e.type,a,i),l[be]=i}catch(h){Wt(e,e.return,h)}}function Vy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27||e.tag===4}function ed(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Vy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==27&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function nd(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(e,i):a.insertBefore(e,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(e,a)):(i=a,i.appendChild(e)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Ec));else if(l!==4&&l!==27&&(e=e.child,e!==null))for(nd(e,i,a),e=e.sibling;e!==null;)nd(e,i,a),e=e.sibling}function oc(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(l!==4&&l!==27&&(e=e.child,e!==null))for(oc(e,i,a),e=e.sibling;e!==null;)oc(e,i,a),e=e.sibling}var Ui=!1,ue=!1,id=!1,ky=typeof WeakSet=="function"?WeakSet:Set,ke=null,Py=!1;function a1(e,i){if(e=e.containerInfo,Nd=Ic,e=Jp(e),sf(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var v=0,T=-1,I=-1,P=0,W=0,et=e,F=null;e:for(;;){for(var X;et!==a||h!==0&&et.nodeType!==3||(T=v+h),et!==d||l!==0&&et.nodeType!==3||(I=v+l),et.nodeType===3&&(v+=et.nodeValue.length),(X=et.firstChild)!==null;)F=et,et=X;for(;;){if(et===e)break e;if(F===a&&++P===h&&(T=v),F===d&&++W===l&&(I=v),(X=et.nextSibling)!==null)break;et=F,F=et.parentNode}et=X}a=T===-1||I===-1?null:{start:T,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(xd={focusedElem:e,selectionRange:a},Ic=!1,ke=i;ke!==null;)if(i=ke,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,ke=e;else for(;ke!==null;){switch(i=ke,d=i.alternate,e=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var dt=xs(a.type,h,a.elementType===a.type);e=l.getSnapshotBeforeUpdate(dt,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(bt){Wt(a,a.return,bt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)Pd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Pd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,ke=e;break}ke=i.return}return dt=Py,Py=!1,dt}function Ly(e,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Bi(e,a),l&4&&rl(5,a);break;case 1:if(Bi(e,a),l&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(T){Wt(a,a.return,T)}else{var h=xs(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(T){Wt(a,a.return,T)}}l&64&&Oy(a),l&512&&ks(a,a.return);break;case 3:if(Bi(e,a),l&64&&(l=a.updateQueue,l!==null)){if(e=null,a.child!==null)switch(a.child.tag){case 27:case 5:e=a.child.stateNode;break;case 1:e=a.child.stateNode}try{Dy(l,e)}catch(T){Wt(a,a.return,T)}}break;case 26:Bi(e,a),l&512&&ks(a,a.return);break;case 27:case 5:Bi(e,a),i===null&&l&4&&xy(a),l&512&&ks(a,a.return);break;case 12:Bi(e,a);break;case 13:Bi(e,a),l&4&&By(e,a);break;case 22:if(h=a.memoizedState!==null||Ui,!h){i=i!==null&&i.memoizedState!==null||ue;var d=Ui,v=ue;Ui=h,(ue=i)&&!v?xr(e,a,(a.subtreeFlags&8772)!==0):Bi(e,a),Ui=d,ue=v}l&512&&(a.memoizedProps.mode==="manual"?ks(a,a.return):mn(a,a.return));break;default:Bi(e,a)}}function Uy(e){var i=e.alternate;i!==null&&(e.alternate=null,Uy(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&hs(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ve=null,pn=!1;function zi(e,i,a){for(a=a.child;a!==null;)zy(e,i,a),a=a.sibling}function zy(e,i,a){if(Ge&&typeof Ge.onCommitFiberUnmount=="function")try{Ge.onCommitFiberUnmount(or,a)}catch{}switch(a.tag){case 26:ue||mn(a,i),zi(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ue||mn(a,i);var l=ve,h=pn;for(ve=a.stateNode,zi(e,i,a),a=a.stateNode,i=a.attributes;i.length;)a.removeAttributeNode(i[0]);hs(a),ve=l,pn=h;break;case 5:ue||mn(a,i);case 6:h=ve;var d=pn;if(ve=null,zi(e,i,a),ve=h,pn=d,ve!==null)if(pn)try{e=ve,l=a.stateNode,e.nodeType===8?e.parentNode.removeChild(l):e.removeChild(l)}catch(v){Wt(a,i,v)}else try{ve.removeChild(a.stateNode)}catch(v){Wt(a,i,v)}break;case 18:ve!==null&&(pn?(i=ve,a=a.stateNode,i.nodeType===8?kd(i.parentNode,a):i.nodeType===1&&kd(i,a),Al(i)):kd(ve,a.stateNode));break;case 4:l=ve,h=pn,ve=a.stateNode.containerInfo,pn=!0,zi(e,i,a),ve=l,pn=h;break;case 0:case 11:case 14:case 15:ue||Nr(2,a,i),ue||Nr(4,a,i),zi(e,i,a);break;case 1:ue||(mn(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Ny(a,i,l)),zi(e,i,a);break;case 21:zi(e,i,a);break;case 22:ue||mn(a,i),ue=(l=ue)||a.memoizedState!==null,zi(e,i,a),ue=l;break;default:zi(e,i,a)}}function By(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Al(e)}catch(a){Wt(i,i.return,a)}}function o1(e){switch(e.tag){case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new ky),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new ky),i;default:throw Error(s(435,e.tag))}}function rd(e,i){var a=o1(e);i.forEach(function(l){var h=E1.bind(null,e,l);a.has(l)||(a.add(l),l.then(h,h))})}function Nn(e,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=e,v=i,T=v;t:for(;T!==null;){switch(T.tag){case 27:case 5:ve=T.stateNode,pn=!1;break t;case 3:ve=T.stateNode.containerInfo,pn=!0;break t;case 4:ve=T.stateNode.containerInfo,pn=!0;break t}T=T.return}if(ve===null)throw Error(s(160));zy(d,v,h),ve=null,pn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)jy(i,e),i=i.sibling}var qn=null;function jy(e,i){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Nn(i,e),xn(e),l&4&&(Nr(3,e,e.return),rl(3,e),Nr(5,e,e.return));break;case 1:Nn(i,e),xn(e),l&512&&(ue||a===null||mn(a,a.return)),l&64&&Ui&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=qn;if(Nn(i,e),xn(e),l&512&&(ue||a===null||mn(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[mr]||d[Ne]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),je(d,l,a),d[Ne]=e,ne(d),l=d;break t;case"link":var v=x_("link","href",h).get(l+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(a.href==null?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break e}}d=h.createElement(l),je(d,l,a),h.head.appendChild(d);break;case"meta":if(v=x_("meta","content",h).get(l+(a.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break e}}d=h.createElement(l),je(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Ne]=e,ne(d),l=d}e.stateNode=l}else M_(h,e.type,e.stateNode);else e.stateNode=N_(h,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?M_(h,e.type,e.stateNode):N_(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&My(e,e.memoizedProps,a.memoizedProps)}break;case 27:if(l&4&&e.alternate===null){h=e.stateNode,d=e.memoizedProps;try{for(var I=h.firstChild;I;){var P=I.nextSibling,W=I.nodeName;I[mr]||W==="HEAD"||W==="BODY"||W==="SCRIPT"||W==="STYLE"||W==="LINK"&&I.rel.toLowerCase()==="stylesheet"||h.removeChild(I),I=P}for(var et=e.type,F=h.attributes;F.length;)h.removeAttributeNode(F[0]);je(h,et,d),h[Ne]=e,h[be]=d}catch(dt){Wt(e,e.return,dt)}}case 5:if(Nn(i,e),xn(e),l&512&&(ue||a===null||mn(a,a.return)),e.flags&32){h=e.stateNode;try{An(h,"")}catch(dt){Wt(e,e.return,dt)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,My(e,h,a!==null?a.memoizedProps:h)),l&1024&&(id=!0);break;case 6:if(Nn(i,e),xn(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(dt){Wt(e,e.return,dt)}}break;case 3:if(wc=null,h=qn,qn=Ac(i.containerInfo),Nn(i,e),qn=h,xn(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Al(i.containerInfo)}catch(dt){Wt(e,e.return,dt)}id&&(id=!1,Hy(e));break;case 4:l=qn,qn=Ac(e.stateNode.containerInfo),Nn(i,e),xn(e),qn=l;break;case 12:Nn(i,e),xn(e);break;case 13:Nn(i,e),xn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(dd=on()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,rd(e,l)));break;case 22:if(l&512&&(ue||a===null||mn(a,a.return)),I=e.memoizedState!==null,P=a!==null&&a.memoizedState!==null,W=Ui,et=ue,Ui=W||I,ue=et||P,Nn(i,e),ue=et,Ui=W,xn(e),i=e.stateNode,i._current=e,i._visibility&=-3,i._visibility|=i._pendingVisibility&2,l&8192&&(i._visibility=I?i._visibility&-2:i._visibility|1,I&&(i=Ui||ue,a===null||P||i||Ma(e)),e.memoizedProps===null||e.memoizedProps.mode!=="manual"))t:for(a=null,i=e;;){if(i.tag===5||i.tag===26||i.tag===27){if(a===null){P=a=i;try{if(h=P.stateNode,I)d=h.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{v=P.stateNode,T=P.memoizedProps.style;var X=T!=null&&T.hasOwnProperty("display")?T.display:null;v.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(dt){Wt(P,P.return,dt)}}}else if(i.tag===6){if(a===null){P=i;try{P.stateNode.nodeValue=I?"":P.memoizedProps}catch(dt){Wt(P,P.return,dt)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,rd(e,a))));break;case 19:Nn(i,e),xn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,rd(e,l)));break;case 21:break;default:Nn(i,e),xn(e)}}function xn(e){var i=e.flags;if(i&2){try{if(e.tag!==27){t:{for(var a=e.return;a!==null;){if(Vy(a)){var l=a;break t}a=a.return}throw Error(s(160))}switch(l.tag){case 27:var h=l.stateNode,d=ed(e);oc(e,d,h);break;case 5:var v=l.stateNode;l.flags&32&&(An(v,""),l.flags&=-33);var T=ed(e);oc(e,T,v);break;case 3:case 4:var I=l.stateNode.containerInfo,P=ed(e);nd(e,P,I);break;default:throw Error(s(161))}}}catch(W){Wt(e,e.return,W)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function Hy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;Hy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function Bi(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Ly(e,i.alternate,i),i=i.sibling}function Ma(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Nr(4,i,i.return),Ma(i);break;case 1:mn(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Ny(i,i.return,a),Ma(i);break;case 26:case 27:case 5:mn(i,i.return),Ma(i);break;case 22:mn(i,i.return),i.memoizedState===null&&Ma(i);break;default:Ma(i)}e=e.sibling}}function xr(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=e,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:xr(h,d,a),rl(4,d);break;case 1:if(xr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){Wt(l,l.return,P)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)Cy(I[h],T)}catch(P){Wt(l,l.return,P)}}a&&v&64&&Oy(d),ks(d,d.return);break;case 26:case 27:case 5:xr(h,d,a),a&&l===null&&v&4&&xy(d),ks(d,d.return);break;case 12:xr(h,d,a);break;case 13:xr(h,d,a),a&&v&4&&By(h,d);break;case 22:d.memoizedState===null&&xr(h,d,a),ks(d,d.return);break;default:xr(h,d,a)}i=i.sibling}}function sd(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Yo(a))}function ad(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Yo(e))}function Mr(e,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)qy(e,i,a,l),i=i.sibling}function qy(e,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Mr(e,i,a,l),h&2048&&rl(9,i);break;case 3:Mr(e,i,a,l),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Yo(e)));break;case 12:if(h&2048){Mr(e,i,a,l),e=i.stateNode;try{var d=i.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(I){Wt(i,i.return,I)}}else Mr(e,i,a,l);break;case 23:break;case 22:d=i.stateNode,i.memoizedState!==null?d._visibility&4?Mr(e,i,a,l):sl(e,i):d._visibility&4?Mr(e,i,a,l):(d._visibility|=4,Va(e,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&sd(i.alternate,i);break;case 24:Mr(e,i,a,l),h&2048&&ad(i.alternate,i);break;default:Mr(e,i,a,l)}}function Va(e,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=e,v=i,T=a,I=l,P=v.flags;switch(v.tag){case 0:case 11:case 15:Va(d,v,T,I,h),rl(8,v);break;case 23:break;case 22:var W=v.stateNode;v.memoizedState!==null?W._visibility&4?Va(d,v,T,I,h):sl(d,v):(W._visibility|=4,Va(d,v,T,I,h)),h&&P&2048&&sd(v.alternate,v);break;case 24:Va(d,v,T,I,h),h&&P&2048&&ad(v.alternate,v);break;default:Va(d,v,T,I,h)}i=i.sibling}}function sl(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,l=i,h=l.flags;switch(l.tag){case 22:sl(a,l),h&2048&&sd(l.alternate,l);break;case 24:sl(a,l),h&2048&&ad(l.alternate,l);break;default:sl(a,l)}i=i.sibling}}var al=8192;function ka(e){if(e.subtreeFlags&al)for(e=e.child;e!==null;)Fy(e),e=e.sibling}function Fy(e){switch(e.tag){case 26:ka(e),e.flags&al&&e.memoizedState!==null&&X1(qn,e.memoizedState,e.memoizedProps);break;case 5:ka(e);break;case 3:case 4:var i=qn;qn=Ac(e.stateNode.containerInfo),ka(e),qn=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=al,al=16777216,ka(e),al=i):ka(e));break;default:ka(e)}}function Gy(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function ol(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];ke=l,Ky(l,e)}Gy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Qy(e),e=e.sibling}function Qy(e){switch(e.tag){case 0:case 11:case 15:ol(e),e.flags&2048&&Nr(9,e,e.return);break;case 3:ol(e);break;case 12:ol(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&4&&(e.return===null||e.return.tag!==13)?(i._visibility&=-5,lc(e)):ol(e);break;default:ol(e)}}function lc(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];ke=l,Ky(l,e)}Gy(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Nr(8,i,i.return),lc(i);break;case 22:a=i.stateNode,a._visibility&4&&(a._visibility&=-5,lc(i));break;default:lc(i)}e=e.sibling}}function Ky(e,i){for(;ke!==null;){var a=ke;switch(a.tag){case 0:case 11:case 15:Nr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Yo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,ke=l;else t:for(a=e;ke!==null;){l=ke;var h=l.sibling,d=l.return;if(Uy(l),l===a){ke=null;break t}if(h!==null){h.return=d,ke=h;break t}ke=d}}}function l1(e,i,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(e,i,a,l){return new l1(e,i,a,l)}function od(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Vr(e,i){var a=e.alternate;return a===null?(a=Mn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&31457280,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Yy(e,i){e.flags&=31457282;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function uc(e,i,a,l,h,d){var v=0;if(l=e,typeof e=="function")od(e)&&(v=1);else if(typeof e=="string")v=K1(e,a,$e.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case p:return Ps(a.children,h,d,i);case g:v=8,h|=24;break;case E:return e=Mn(12,a,i,h|2),e.elementType=E,e.lanes=d,e;case j:return e=Mn(13,a,i,h),e.elementType=j,e.lanes=d,e;case B:return e=Mn(19,a,i,h),e.elementType=B,e.lanes=d,e;case Y:return Xy(a,h,d,i);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case w:case M:v=10;break t;case b:v=9;break t;case V:v=11;break t;case Q:v=14;break t;case q:v=16,l=null;break t}v=29,a=Error(s(130,e===null?"null":typeof e,"")),l=null}return i=Mn(v,a,i,h),i.elementType=e,i.type=l,i.lanes=d,i}function Ps(e,i,a,l){return e=Mn(7,e,l,i),e.lanes=a,e}function Xy(e,i,a,l){e=Mn(22,e,l,i),e.elementType=Y,e.lanes=a;var h={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var d=h._current;if(d===null)throw Error(s(456));if((h._pendingVisibility&2)===0){var v=Ar(d,2);v!==null&&(h._pendingVisibility|=2,rn(v,d,2))}},attach:function(){var d=h._current;if(d===null)throw Error(s(456));if((h._pendingVisibility&2)!==0){var v=Ar(d,2);v!==null&&(h._pendingVisibility&=-3,rn(v,d,2))}}};return e.stateNode=h,e}function ld(e,i,a){return e=Mn(6,e,null,i),e.lanes=a,e}function ud(e,i,a){return i=Mn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}function ji(e){e.flags|=4}function Wy(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!V_(i)){if(i=On.current,i!==null&&((Lt&4194176)===Lt?oi!==null:(Lt&62914560)!==Lt&&(Lt&536870912)===0||i!==oi))throw Go=mf,dg;e.flags|=8192}}function cc(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?cr():536870912,e.lanes|=i,La|=i)}function ll(e,i){if(!jt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ie(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&31457280,l|=h.flags&31457280,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,i}function u1(e,i,a){var l=i.pendingProps;switch(ff(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ie(i),null;case 1:return ie(i),null;case 3:return a=i.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Li(Ie),Ei(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(jo(i)?ji(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Hn!==null&&(yd(Hn),Hn=null))),ie(i),null;case 26:return a=i.memoizedState,e===null?(ji(i),a!==null?(ie(i),Wy(i,a)):(ie(i),i.flags&=-16777217)):a?a!==e.memoizedState?(ji(i),ie(i),Wy(i,a)):(ie(i),i.flags&=-16777217):(e.memoizedProps!==l&&ji(i),ie(i),i.flags&=-16777217),null;case 27:na(i),a=vn.current;var h=i.type;if(e!==null&&i.stateNode!=null)e.memoizedProps!==l&&ji(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ie(i),null}e=$e.current,jo(i)?hg(i):(e=R_(h,l,a),i.stateNode=e,ji(i))}return ie(i),null;case 5:if(na(i),a=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&ji(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ie(i),null}if(e=$e.current,jo(i))hg(i);else{switch(h=Tc(vn.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}e[Ne]=i,e[be]=l;t:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break t;for(;h.sibling===null;){if(h.return===null||h.return===i)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=e;t:switch(je(e,a,l),a){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&ji(i)}}return ie(i),i.flags&=-16777217,null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==l&&ji(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(e=vn.current,jo(i)){if(e=i.stateNode,a=i.memoizedProps,l=null,h=nn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[Ne]=i,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||E_(e.nodeValue,a)),e||Rs(i)}else e=Tc(e).createTextNode(l),e[Ne]=i,i.stateNode=e}return ie(i),null;case 13:if(l=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=jo(i),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Ne]=i}else Ho(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ie(i),h=!1}else Hn!==null&&(yd(Hn),Hn=null),h=!0;if(!h)return i.flags&256?(Mi(i),i):(Mi(i),null)}if(Mi(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,e=e!==null&&e.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==e&&a&&(i.child.flags|=8192),cc(i,i.updateQueue),ie(i),null;case 4:return Ei(),e===null&&Cd(i.stateNode.containerInfo),ie(i),null;case 10:return Li(i.type),ie(i),null;case 19:if(oe(Re),h=i.memoizedState,h===null)return ie(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)ll(h,!1);else{if(ce!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=Ku(e),d!==null){for(i.flags|=128,ll(h,!1),e=d.updateQueue,i.updateQueue=e,cc(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)Yy(a,e),a=a.sibling;return Kt(Re,Re.current&1|2),i.child}e=e.sibling}h.tail!==null&&on()>hc&&(i.flags|=128,l=!0,ll(h,!1),i.lanes=4194304)}else{if(!l)if(e=Ku(d),e!==null){if(i.flags|=128,l=!0,e=e.updateQueue,i.updateQueue=e,cc(i,e),ll(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!jt)return ie(i),null}else 2*on()-h.renderingStartTime>hc&&a!==536870912&&(i.flags|=128,l=!0,ll(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(e=h.last,e!==null?e.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=on(),i.sibling=null,e=Re.current,Kt(Re,l?e&1|2:e&1),i):(ie(i),null);case 22:case 23:return Mi(i),gf(),l=i.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(ie(i),i.subtreeFlags&6&&(i.flags|=8192)):ie(i),a=i.updateQueue,a!==null&&cc(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),e!==null&&oe(Cs),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Li(Ie),ie(i),null;case 25:return null}throw Error(s(156,i.tag))}function c1(e,i){switch(ff(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Li(Ie),Ei(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return na(i),null;case 13:if(Mi(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Ho()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return oe(Re),null;case 4:return Ei(),null;case 10:return Li(i.type),null;case 22:case 23:return Mi(i),gf(),e!==null&&oe(Cs),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Li(Ie),null;case 25:return null;default:return null}}function Zy(e,i){switch(ff(i),i.tag){case 3:Li(Ie),Ei();break;case 26:case 27:case 5:na(i);break;case 4:Ei();break;case 13:Mi(i);break;case 19:oe(Re);break;case 10:Li(i.type);break;case 22:case 23:Mi(i),gf(),e!==null&&oe(Cs);break;case 24:Li(Ie)}}var h1={getCacheForType:function(e){var i=Qe(Ie),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a}},f1=typeof WeakMap=="function"?WeakMap:Map,re=0,Zt=null,Nt=null,Lt=0,$t=0,gn=null,Hi=!1,Pa=!1,cd=!1,qi=0,ce=0,kr=0,Ls=0,hd=0,Vn=0,La=0,ul=null,ui=null,fd=!1,dd=0,hc=1/0,fc=null,Pr=null,dc=!1,Us=null,cl=0,md=0,pd=null,hl=0,gd=null;function yn(){if((re&2)!==0&&Lt!==0)return Lt&-Lt;if(S.T!==null){var e=Ca;return e!==0?e:wd()}return vu()}function $y(){Vn===0&&(Vn=(Lt&536870912)===0||jt?bo():536870912);var e=On.current;return e!==null&&(e.flags|=32),Vn}function rn(e,i,a){(e===Zt&&$t===2||e.cancelPendingCommit!==null)&&(Ua(e,0),Fi(e,Lt,Vn,!1)),de(e,a),((re&2)===0||e!==Zt)&&(e===Zt&&((re&2)===0&&(Ls|=a),ce===4&&Fi(e,Lt,Vn,!1)),ci(e))}function Jy(e,i,a){if((re&6)!==0)throw Error(s(327));var l=!a&&(i&60)===0&&(i&e.expiredLanes)===0||ur(e,i),h=l?p1(e,i):Ed(e,i,!0),d=l;do{if(h===0){Pa&&!l&&Fi(e,i,0,!1);break}else if(h===6)Fi(e,i,0,!Hi);else{if(a=e.current.alternate,d&&!d1(a)){h=Ed(e,i,!1),d=!1;continue}if(h===2){if(d=i,e.errorRecoveryDisabledLanes&d)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;t:{var T=e;h=ul;var I=T.current.memoizedState.isDehydrated;if(I&&(Ua(T,v).flags|=256),v=Ed(T,v,!1),v!==2){if(cd&&!I){T.errorRecoveryDisabledLanes|=d,Ls|=d,h=4;break t}d=ui,ui=h,d!==null&&yd(d)}h=v}if(d=!1,h!==2)continue}}if(h===1){Ua(e,0),Fi(e,i,0,!0);break}t:{switch(l=e,h){case 0:case 1:throw Error(s(345));case 4:if((i&4194176)===i){Fi(l,i,Vn,!Hi);break t}break;case 2:ui=null;break;case 3:case 5:break;default:throw Error(s(329))}if(l.finishedWork=a,l.finishedLanes=i,(i&62914560)===i&&(d=dd+300-on(),10<d)){if(Fi(l,i,Vn,!Hi),En(l,0)!==0)break t;l.timeoutHandle=b_(t_.bind(null,l,a,ui,fc,fd,i,Vn,Ls,La,Hi,2,-0,0),d);break t}t_(l,a,ui,fc,fd,i,Vn,Ls,La,Hi,0,-0,0)}}break}while(!0);ci(e)}function yd(e){ui===null?ui=e:ui.push.apply(ui,e)}function t_(e,i,a,l,h,d,v,T,I,P,W,et,F){var X=i.subtreeFlags;if((X&8192||(X&16785408)===16785408)&&(yl={stylesheets:null,count:0,unsuspend:Y1},Fy(i),i=W1(),i!==null)){e.cancelPendingCommit=i(o_.bind(null,e,a,l,h,v,T,I,1,et,F)),Fi(e,d,v,!P);return}o_(e,a,l,h,v,T,I,W,et,F)}function d1(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!dn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Fi(e,i,a,l){i&=~hd,i&=~Ls,e.suspendedLanes|=i,e.pingedLanes&=~i,l&&(e.warmLanes|=i),l=e.expirationTimes;for(var h=i;0<h;){var d=31-Je(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&hr(e,a,i)}function mc(){return(re&6)===0?(fl(0),!1):!0}function _d(){if(Nt!==null){if($t===0)var e=Nt.return;else e=Nt,Pi=Ms=null,wf(e),Ra=null,Qo=0,e=Nt;for(;e!==null;)Zy(e.alternate,e),e=e.return;Nt=null}}function Ua(e,i){e.finishedWork=null,e.finishedLanes=0;var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,x1(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),_d(),Zt=e,Nt=a=Vr(e.current,null),Lt=i,$t=0,gn=null,Hi=!1,Pa=ur(e,i),cd=!1,La=Vn=hd=Ls=kr=ce=0,ui=ul=null,fd=!1,(i&8)!==0&&(i|=i&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=i;0<l;){var h=31-Je(l),d=1<<h;i|=e[h],l&=~d}return qi=i,Uu(),a}function e_(e,i){Ct=null,S.H=li,i===Fo?(i=gg(),$t=3):i===dg?(i=gg(),$t=4):$t=i===my?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,gn=i,Nt===null&&(ce=1,rc(e,In(i,e.current)))}function n_(){var e=S.H;return S.H=li,e===null?li:e}function i_(){var e=S.A;return S.A=h1,e}function vd(){ce=4,Hi||(Lt&4194176)!==Lt&&On.current!==null||(Pa=!0),(kr&134217727)===0&&(Ls&134217727)===0||Zt===null||Fi(Zt,Lt,Vn,!1)}function Ed(e,i,a){var l=re;re|=2;var h=n_(),d=i_();(Zt!==e||Lt!==i)&&(fc=null,Ua(e,i)),i=!1;var v=ce;t:do try{if($t!==0&&Nt!==null){var T=Nt,I=gn;switch($t){case 8:_d(),v=6;break t;case 3:case 2:case 6:On.current===null&&(i=!0);var P=$t;if($t=0,gn=null,za(e,T,I,P),a&&Pa){v=0;break t}break;default:P=$t,$t=0,gn=null,za(e,T,I,P)}}m1(),v=ce;break}catch(W){e_(e,W)}while(!0);return i&&e.shellSuspendCounter++,Pi=Ms=null,re=l,S.H=h,S.A=d,Nt===null&&(Zt=null,Lt=0,Uu()),v}function m1(){for(;Nt!==null;)r_(Nt)}function p1(e,i){var a=re;re|=2;var l=n_(),h=i_();Zt!==e||Lt!==i?(fc=null,hc=on()+500,Ua(e,i)):Pa=ur(e,i);t:do try{if($t!==0&&Nt!==null){i=Nt;var d=gn;e:switch($t){case 1:$t=0,gn=null,za(e,i,d,1);break;case 2:if(mg(d)){$t=0,gn=null,s_(i);break}i=function(){$t===2&&Zt===e&&($t=7),ci(e)},d.then(i,i);break t;case 3:$t=7;break t;case 4:$t=5;break t;case 7:mg(d)?($t=0,gn=null,s_(i)):($t=0,gn=null,za(e,i,d,7));break;case 5:var v=null;switch(Nt.tag){case 26:v=Nt.memoizedState;case 5:case 27:var T=Nt;if(!v||V_(v)){$t=0,gn=null;var I=T.sibling;if(I!==null)Nt=I;else{var P=T.return;P!==null?(Nt=P,pc(P)):Nt=null}break e}}$t=0,gn=null,za(e,i,d,5);break;case 6:$t=0,gn=null,za(e,i,d,6);break;case 8:_d(),ce=6;break t;default:throw Error(s(462))}}g1();break}catch(W){e_(e,W)}while(!0);return Pi=Ms=null,S.H=l,S.A=h,re=a,Nt!==null?0:(Zt=null,Lt=0,Uu(),ce)}function g1(){for(;Nt!==null&&!Kh();)r_(Nt)}function r_(e){var i=Ry(e.alternate,e,qi);e.memoizedProps=e.pendingProps,i===null?pc(e):Nt=i}function s_(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=Ey(a,i,i.pendingProps,i.type,void 0,Lt);break;case 11:i=Ey(a,i,i.pendingProps,i.type.render,i.ref,Lt);break;case 5:wf(i);default:Zy(a,i),i=Nt=Yy(i,qi),i=Ry(a,i,qi)}e.memoizedProps=e.pendingProps,i===null?pc(e):Nt=i}function za(e,i,a,l){Pi=Ms=null,wf(i),Ra=null,Qo=0;var h=i.return;try{if(r1(e,h,i,a,Lt)){ce=1,rc(e,In(a,e.current)),Nt=null;return}}catch(d){if(h!==null)throw Nt=h,d;ce=1,rc(e,In(a,e.current)),Nt=null;return}i.flags&32768?(jt||l===1?e=!0:Pa||(Lt&536870912)!==0?e=!1:(Hi=e=!0,(l===2||l===3||l===6)&&(l=On.current,l!==null&&l.tag===13&&(l.flags|=16384))),a_(i,e)):pc(i)}function pc(e){var i=e;do{if((i.flags&32768)!==0){a_(i,Hi);return}e=i.return;var a=u1(i.alternate,i,qi);if(a!==null){Nt=a;return}if(i=i.sibling,i!==null){Nt=i;return}Nt=i=e}while(i!==null);ce===0&&(ce=5)}function a_(e,i){do{var a=c1(e.alternate,e);if(a!==null){a.flags&=32767,Nt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Nt=e;return}Nt=e=a}while(e!==null);ce=6,Nt=null}function o_(e,i,a,l,h,d,v,T,I,P){var W=S.T,et=lt.p;try{lt.p=2,S.T=null,y1(e,i,a,l,et,h,d,v,T,I,P)}finally{S.T=W,lt.p=et}}function y1(e,i,a,l,h,d,v,T){do Ba();while(Us!==null);if((re&6)!==0)throw Error(s(327));var I=e.finishedWork;if(l=e.finishedLanes,I===null)return null;if(e.finishedWork=null,e.finishedLanes=0,I===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var P=I.lanes|I.childLanes;if(P|=uf,yu(e,l,P,d,v,T),e===Zt&&(Nt=Zt=null,Lt=0),(I.subtreeFlags&10256)===0&&(I.flags&10256)===0||dc||(dc=!0,md=P,pd=a,T1(Ti,function(){return Ba(),null})),a=(I.flags&15990)!==0,(I.subtreeFlags&15990)!==0||a?(a=S.T,S.T=null,d=lt.p,lt.p=2,v=re,re|=4,a1(e,I),jy(I,e),jA(xd,e.containerInfo),Ic=!!Nd,xd=Nd=null,e.current=I,Ly(e,I.alternate,I),vo(),re=v,lt.p=d,S.T=a):e.current=I,dc?(dc=!1,Us=e,cl=l):l_(e,P),P=e.pendingLanes,P===0&&(Pr=null),To(I.stateNode),ci(e),i!==null)for(h=e.onRecoverableError,I=0;I<i.length;I++)P=i[I],h(P.value,{componentStack:P.stack});return(cl&3)!==0&&Ba(),P=e.pendingLanes,(l&4194218)!==0&&(P&42)!==0?e===gd?hl++:(hl=0,gd=e):hl=0,fl(0),null}function l_(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Yo(i)))}function Ba(){if(Us!==null){var e=Us,i=md;md=0;var a=_u(cl),l=S.T,h=lt.p;try{if(lt.p=32>a?32:a,S.T=null,Us===null)var d=!1;else{a=pd,pd=null;var v=Us,T=cl;if(Us=null,cl=0,(re&6)!==0)throw Error(s(331));var I=re;if(re|=4,Qy(v.current),qy(v,v.current,T,a),re=I,fl(0,!1),Ge&&typeof Ge.onPostCommitFiberRoot=="function")try{Ge.onPostCommitFiberRoot(or,v)}catch{}d=!0}return d}finally{lt.p=h,S.T=l,l_(e,i)}}return!1}function u_(e,i,a){i=In(a,i),i=Uf(e.stateNode,i,2),e=Or(e,i,2),e!==null&&(de(e,2),ci(e))}function Wt(e,i,a){if(e.tag===3)u_(e,e,a);else for(;i!==null;){if(i.tag===3){u_(i,e,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Pr===null||!Pr.has(l))){e=In(a,e),a=fy(2),l=Or(i,a,2),l!==null&&(dy(a,l,i,e),de(l,2),ci(l));break}}i=i.return}}function Td(e,i,a){var l=e.pingCache;if(l===null){l=e.pingCache=new f1;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(cd=!0,h.add(a),e=_1.bind(null,e,i,a),i.then(e,e))}function _1(e,i,a){var l=e.pingCache;l!==null&&l.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Zt===e&&(Lt&a)===a&&(ce===4||ce===3&&(Lt&62914560)===Lt&&300>on()-dd?(re&2)===0&&Ua(e,0):hd|=a,La===Lt&&(La=0)),ci(e)}function c_(e,i){i===0&&(i=cr()),e=Ar(e,i),e!==null&&(de(e,i),ci(e))}function v1(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),c_(e,a)}function E1(e,i){var a=0;switch(e.tag){case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),c_(e,a)}function T1(e,i){return ls(e,i)}var gc=null,ja=null,Ad=!1,yc=!1,bd=!1,zs=0;function ci(e){e!==ja&&e.next===null&&(ja===null?gc=ja=e:ja=ja.next=e),yc=!0,Ad||(Ad=!0,b1(A1))}function fl(e,i){if(!bd&&yc){bd=!0;do for(var a=!1,l=gc;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-Je(42|e)+1)-1,d&=h&~(v&~T),d=d&201326677?d&201326677|1:d?d|2:0}d!==0&&(a=!0,d_(l,d))}else d=Lt,d=En(l,l===Zt?d:0),(d&3)===0||ur(l,d)||(a=!0,d_(l,d));l=l.next}while(a);bd=!1}}function A1(){yc=Ad=!1;var e=0;zs!==0&&(N1()&&(e=zs),zs=0);for(var i=on(),a=null,l=gc;l!==null;){var h=l.next,d=h_(l,i);d===0?(l.next=null,a===null?gc=h:a.next=h,h===null&&(ja=a)):(a=l,(e!==0||(d&3)!==0)&&(yc=!0)),l=h}fl(e)}function h_(e,i){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var v=31-Je(d),T=1<<v,I=h[v];I===-1?((T&a)===0||(T&l)!==0)&&(h[v]=sa(T,i)):I<=i&&(e.expiredLanes|=T),d&=~T}if(i=Zt,a=Lt,a=En(e,e===i?a:0),l=e.callbackNode,a===0||e===i&&$t===2||e.cancelPendingCommit!==null)return l!==null&&l!==null&&ra(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||ur(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(l!==null&&ra(l),_u(a)){case 2:case 8:a=Oe;break;case 32:a=Ti;break;case 268435456:a=Eo;break;default:a=Ti}return l=f_.bind(null,e),a=ls(a,l),e.callbackPriority=i,e.callbackNode=a,i}return l!==null&&l!==null&&ra(l),e.callbackPriority=2,e.callbackNode=null,2}function f_(e,i){var a=e.callbackNode;if(Ba()&&e.callbackNode!==a)return null;var l=Lt;return l=En(e,e===Zt?l:0),l===0?null:(Jy(e,l,i),h_(e,on()),e.callbackNode!=null&&e.callbackNode===a?f_.bind(null,e):null)}function d_(e,i){if(Ba())return null;Jy(e,i,!0)}function b1(e){M1(function(){(re&6)!==0?ls(Ae,e):e()})}function wd(){return zs===0&&(zs=bo()),zs}function m_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Jn(""+e)}function p_(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function w1(e,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=m_((h[be]||null).action),v=l.submitter;v&&(i=(i=v[be]||null)?m_(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var T=new fa("action","action",null,l,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(zs!==0){var I=v?p_(h,v):new FormData(h);Mf(a,{pending:!0,data:I,method:h.method,action:d},null,I)}}else typeof d=="function"&&(T.preventDefault(),I=v?p_(h,v):new FormData(h),Mf(a,{pending:!0,data:I,method:h.method,action:d},d,I))},currentTarget:h}]})}}for(var Sd=0;Sd<og.length;Sd++){var Rd=og[Sd],S1=Rd.toLowerCase(),R1=Rd[0].toUpperCase()+Rd.slice(1);jn(S1,"on"+R1)}jn(ng,"onAnimationEnd"),jn(ig,"onAnimationIteration"),jn(rg,"onAnimationStart"),jn("dblclick","onDoubleClick"),jn("focusin","onFocus"),jn("focusout","onBlur"),jn(qA,"onTransitionRun"),jn(FA,"onTransitionStart"),jn(GA,"onTransitionCancel"),jn(sg,"onTransitionEnd"),ln("onMouseEnter",["mouseout","mouseover"]),ln("onMouseLeave",["mouseout","mouseover"]),ln("onPointerEnter",["pointerout","pointerover"]),ln("onPointerLeave",["pointerout","pointerover"]),hn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),hn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),hn("onBeforeInput",["compositionend","keypress","textInput","paste"]),hn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),hn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),hn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),I1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(dl));function g_(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;t:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var T=l[v],I=T.instance,P=T.currentTarget;if(T=T.listener,I!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=P;try{d(h)}catch(W){ic(W)}h.currentTarget=null,d=I}else for(v=0;v<l.length;v++){if(T=l[v],I=T.instance,P=T.currentTarget,T=T.listener,I!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=P;try{d(h)}catch(W){ic(W)}h.currentTarget=null,d=I}}}}function Vt(e,i){var a=i[cs];a===void 0&&(a=i[cs]=new Set);var l=e+"__bubble";a.has(l)||(y_(i,e,2,!1),a.add(l))}function Id(e,i,a){var l=0;i&&(l|=4),y_(a,e,l,i)}var _c="_reactListening"+Math.random().toString(36).slice(2);function Cd(e){if(!e[_c]){e[_c]=!0,So.forEach(function(a){a!=="selectionchange"&&(I1.has(a)||Id(a,!1,e),Id(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[_c]||(i[_c]=!0,Id("selectionchange",!1,i))}}function y_(e,i,a,l){switch(B_(i)){case 2:var h=J1;break;case 8:h=tb;break;default:h=jd}a=h.bind(null,i,a,e),h=void 0,!wn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function Dd(e,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===h||T.nodeType===8&&T.parentNode===h)break;if(v===4)for(v=l.return;v!==null;){var I=v.tag;if((I===3||I===4)&&(I=v.stateNode.containerInfo,I===h||I.nodeType===8&&I.parentNode===h))return;v=v.return}for(;T!==null;){if(v=Bn(T),v===null)return;if(I=v.tag,I===5||I===6||I===26||I===27){l=d=v;continue t}T=T.parentNode}}l=l.return}bu(function(){var P=d,W=ha(a),et=[];t:{var F=ag.get(e);if(F!==void 0){var X=fa,dt=e;switch(e){case"keypress":if(ei(a)===0)break t;case"keydown":case"keyup":X=_a;break;case"focusin":dt="focus",X=pa;break;case"focusout":dt="blur",X=pa;break;case"beforeblur":case"afterblur":X=pa;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=Sn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=tf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=Nu;break;case ng:case ig:case rg:X=ga;break;case sg:X=Mu;break;case"scroll":case"scrollend":X=wu;break;case"wheel":X=va;break;case"copy":case"cut":case"paste":X=ya;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=Lo;break;case"toggle":case"beforetoggle":X=ku}var bt=(i&4)!==0,he=!bt&&(e==="scroll"||e==="scrollend"),U=bt?F!==null?F+"Capture":null:F;bt=[];for(var k=P,H;k!==null;){var $=k;if(H=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||H===null||U===null||($=ps(k,U),$!=null&&bt.push(ml(k,$,H))),he)break;k=k.return}0<bt.length&&(F=new X(F,dt,null,a,W),et.push({event:F,listeners:bt}))}}if((i&7)===0){t:{if(F=e==="mouseover"||e==="pointerover",X=e==="mouseout"||e==="pointerout",F&&a!==bn&&(dt=a.relatedTarget||a.fromElement)&&(Bn(dt)||dt[Ai]))break t;if((X||F)&&(F=W.window===W?W:(F=W.ownerDocument)?F.defaultView||F.parentWindow:window,X?(dt=a.relatedTarget||a.toElement,X=P,dt=dt?Bn(dt):null,dt!==null&&(he=ft(dt),bt=dt.tag,dt!==he||bt!==5&&bt!==27&&bt!==6)&&(dt=null)):(X=null,dt=P),X!==dt)){if(bt=Sn,$="onMouseLeave",U="onMouseEnter",k="mouse",(e==="pointerout"||e==="pointerover")&&(bt=Lo,$="onPointerLeave",U="onPointerEnter",k="pointer"),he=X==null?F:pr(X),H=dt==null?F:pr(dt),F=new bt($,k+"leave",X,a,W),F.target=he,F.relatedTarget=H,$=null,Bn(W)===P&&(bt=new bt(U,k+"enter",dt,a,W),bt.target=H,bt.relatedTarget=he,$=bt),he=$,X&&dt)e:{for(bt=X,U=dt,k=0,H=bt;H;H=Ha(H))k++;for(H=0,$=U;$;$=Ha($))H++;for(;0<k-H;)bt=Ha(bt),k--;for(;0<H-k;)U=Ha(U),H--;for(;k--;){if(bt===U||U!==null&&bt===U.alternate)break e;bt=Ha(bt),U=Ha(U)}bt=null}else bt=null;X!==null&&__(et,F,X,bt,!1),dt!==null&&he!==null&&__(et,he,dt,bt,!0)}}t:{if(F=P?pr(P):window,X=F.nodeName&&F.nodeName.toLowerCase(),X==="select"||X==="input"&&F.type==="file")var ct=Gp;else if(Se(F))if(Qp)ct=zA;else{ct=LA;var Ot=PA}else X=F.nodeName,!X||X.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?P&&Oo(P.elementType)&&(ct=Gp):ct=UA;if(ct&&(ct=ct(e,P))){Oi(et,ct,a,W);break t}Ot&&Ot(e,F,P),e==="focusout"&&P&&F.type==="number"&&P.memoizedProps.value!=null&&ca(F,"number",F.value)}switch(Ot=P?pr(P):window,e){case"focusin":(Se(Ot)||Ot.contentEditable==="true")&&(Ea=Ot,af=P,Bo=null);break;case"focusout":Bo=af=Ea=null;break;case"mousedown":of=!0;break;case"contextmenu":case"mouseup":case"dragend":of=!1,tg(et,a,W);break;case"selectionchange":if(HA)break;case"keydown":case"keyup":tg(et,a,W)}var gt;if(ri)t:{switch(e){case"compositionstart":var vt="onCompositionStart";break t;case"compositionend":vt="onCompositionEnd";break t;case"compositionupdate":vt="onCompositionUpdate";break t}vt=void 0}else kt?K(e,a)&&(vt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(vt="onCompositionStart");vt&&(_&&a.locale!=="ko"&&(kt||vt!=="onCompositionStart"?vt==="onCompositionEnd"&&kt&&(gt=xo()):(ti=W,Tr="value"in ti?ti.value:ti.textContent,kt=!0)),Ot=vc(P,vt),0<Ot.length&&(vt=new ko(vt,e,null,a,W),et.push({event:vt,listeners:Ot}),gt?vt.data=gt:(gt=rt(a),gt!==null&&(vt.data=gt)))),(gt=y?we(e,a):Pt(e,a))&&(vt=vc(P,"onBeforeInput"),0<vt.length&&(Ot=new ko("onBeforeInput","beforeinput",null,a,W),et.push({event:Ot,listeners:vt}),Ot.data=gt)),w1(et,e,P,a,W)}g_(et,i)})}function ml(e,i,a){return{instance:e,listener:i,currentTarget:a}}function vc(e,i){for(var a=i+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=ps(e,a),h!=null&&l.unshift(ml(e,h,d)),h=ps(e,i),h!=null&&l.push(ml(e,h,d))),e=e.return}return l}function Ha(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function __(e,i,a,l,h){for(var d=i._reactName,v=[];a!==null&&a!==l;){var T=a,I=T.alternate,P=T.stateNode;if(T=T.tag,I!==null&&I===l)break;T!==5&&T!==26&&T!==27||P===null||(I=P,h?(P=ps(a,d),P!=null&&v.unshift(ml(a,P,I))):h||(P=ps(a,d),P!=null&&v.push(ml(a,P,I)))),a=a.return}v.length!==0&&e.push({event:i,listeners:v})}var C1=/\r\n?/g,D1=/\u0000|\uFFFD/g;function v_(e){return(typeof e=="string"?e:""+e).replace(C1,`
`).replace(D1,"")}function E_(e,i){return i=v_(i),v_(e)===i}function Ec(){}function Xt(e,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||An(e,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&An(e,""+l);break;case"className":_r(e,"class",l);break;case"tabIndex":_r(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":_r(e,a,l);break;case"style":Au(e,l,d);break;case"data":if(i!=="object"){_r(e,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Jn(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Xt(e,i,"name",h.name,h,null),Xt(e,i,"formEncType",h.formEncType,h,null),Xt(e,i,"formMethod",h.formMethod,h,null),Xt(e,i,"formTarget",h.formTarget,h,null)):(Xt(e,i,"encType",h.encType,h,null),Xt(e,i,"method",h.method,h,null),Xt(e,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Jn(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=Ec);break;case"onScroll":l!=null&&Vt("scroll",e);break;case"onScrollEnd":l!=null&&Vt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=Jn(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Vt("beforetoggle",e),Vt("toggle",e),yr(e,"popover",l);break;case"xlinkActuate":Tn(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Tn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Tn(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Tn(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Tn(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Tn(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Tn(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Tn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Tn(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":yr(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=$h.get(a)||a,yr(e,a,l))}}function Od(e,i,a,l,h,d){switch(a){case"style":Au(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof l=="string"?An(e,l):(typeof l=="number"||typeof l=="bigint")&&An(e,""+l);break;case"onScroll":l!=null&&Vt("scroll",e);break;case"onScrollEnd":l!=null&&Vt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Ec);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!la.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=e[be]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,l,h);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):yr(e,a,l)}}}function je(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Vt("error",e),Vt("load",e);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Xt(e,i,d,v,a,null)}}h&&Xt(e,i,"srcSet",a.srcSet,a,null),l&&Xt(e,i,"src",a.src,a,null);return;case"input":Vt("invalid",e);var T=d=v=h=null,I=null,P=null;for(l in a)if(a.hasOwnProperty(l)){var W=a[l];if(W!=null)switch(l){case"name":h=W;break;case"type":v=W;break;case"checked":I=W;break;case"defaultChecked":P=W;break;case"value":d=W;break;case"defaultValue":T=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,i));break;default:Xt(e,i,l,W,a,null)}}ds(e,d,T,I,P,v,h,!1),fs(e);return;case"select":Vt("invalid",e),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:Xt(e,i,h,T,a,null)}i=d,a=v,e.multiple=!!l,i!=null?Bt(e,!!l,i,!1):a!=null&&Bt(e,!!l,a,!0);return;case"textarea":Vt("invalid",e),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Xt(e,i,v,T,a,null)}Er(e,l,h,d),fs(e);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(l=a[I],l!=null))switch(I){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Xt(e,i,I,l,a,null)}return;case"dialog":Vt("cancel",e),Vt("close",e);break;case"iframe":case"object":Vt("load",e);break;case"video":case"audio":for(l=0;l<dl.length;l++)Vt(dl[l],e);break;case"image":Vt("error",e),Vt("load",e);break;case"details":Vt("toggle",e);break;case"embed":case"source":case"link":Vt("error",e),Vt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in a)if(a.hasOwnProperty(P)&&(l=a[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Xt(e,i,P,l,a,null)}return;default:if(Oo(i)){for(W in a)a.hasOwnProperty(W)&&(l=a[W],l!==void 0&&Od(e,i,W,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Xt(e,i,T,l,a,null))}function O1(e,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,T=null,I=null,P=null,W=null;for(X in a){var et=a[X];if(a.hasOwnProperty(X)&&et!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":I=et;default:l.hasOwnProperty(X)||Xt(e,i,X,null,l,et)}}for(var F in l){var X=l[F];if(et=a[F],l.hasOwnProperty(F)&&(X!=null||et!=null))switch(F){case"type":d=X;break;case"name":h=X;break;case"checked":P=X;break;case"defaultChecked":W=X;break;case"value":v=X;break;case"defaultValue":T=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,i));break;default:X!==et&&Xt(e,i,F,X,l,et)}}vr(e,v,T,I,P,W,d,h);return;case"select":X=v=T=F=null;for(d in a)if(I=a[d],a.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":X=I;default:l.hasOwnProperty(d)||Xt(e,i,d,null,l,I)}for(h in l)if(d=l[h],I=a[h],l.hasOwnProperty(h)&&(d!=null||I!=null))switch(h){case"value":F=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==I&&Xt(e,i,h,d,l,I)}i=T,a=v,l=X,F!=null?Bt(e,!!a,F,!1):!!l!=!!a&&(i!=null?Bt(e,!!a,i,!0):Bt(e,!!a,a?[]:"",!1));return;case"textarea":X=F=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Xt(e,i,T,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":F=h;break;case"defaultValue":X=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Xt(e,i,v,h,l,d)}ms(e,F,X);return;case"option":for(var dt in a)if(F=a[dt],a.hasOwnProperty(dt)&&F!=null&&!l.hasOwnProperty(dt))switch(dt){case"selected":e.selected=!1;break;default:Xt(e,i,dt,null,l,F)}for(I in l)if(F=l[I],X=a[I],l.hasOwnProperty(I)&&F!==X&&(F!=null||X!=null))switch(I){case"selected":e.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:Xt(e,i,I,F,l,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var bt in a)F=a[bt],a.hasOwnProperty(bt)&&F!=null&&!l.hasOwnProperty(bt)&&Xt(e,i,bt,null,l,F);for(P in l)if(F=l[P],X=a[P],l.hasOwnProperty(P)&&F!==X&&(F!=null||X!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:Xt(e,i,P,F,l,X)}return;default:if(Oo(i)){for(var he in a)F=a[he],a.hasOwnProperty(he)&&F!==void 0&&!l.hasOwnProperty(he)&&Od(e,i,he,void 0,l,F);for(W in l)F=l[W],X=a[W],!l.hasOwnProperty(W)||F===X||F===void 0&&X===void 0||Od(e,i,W,F,l,X);return}}for(var U in a)F=a[U],a.hasOwnProperty(U)&&F!=null&&!l.hasOwnProperty(U)&&Xt(e,i,U,null,l,F);for(et in l)F=l[et],X=a[et],!l.hasOwnProperty(et)||F===X||F==null&&X==null||Xt(e,i,et,F,l,X)}var Nd=null,xd=null;function Tc(e){return e.nodeType===9?e:e.ownerDocument}function T_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function A_(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function Md(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Vd=null;function N1(){var e=window.event;return e&&e.type==="popstate"?e===Vd?!1:(Vd=e,!0):(Vd=null,!1)}var b_=typeof setTimeout=="function"?setTimeout:void 0,x1=typeof clearTimeout=="function"?clearTimeout:void 0,w_=typeof Promise=="function"?Promise:void 0,M1=typeof queueMicrotask=="function"?queueMicrotask:typeof w_<"u"?function(e){return w_.resolve(null).then(e).catch(V1)}:b_;function V1(e){setTimeout(function(){throw e})}function kd(e,i){var a=i,l=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(l===0){e.removeChild(h),Al(i);return}l--}else a!=="$"&&a!=="$?"&&a!=="$!"||l++;a=h}while(a);Al(i)}function Pd(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Pd(a),hs(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function k1(e,i,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[mr])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Fn(e.nextSibling),e===null)break}return null}function P1(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Fn(e.nextSibling),e===null))return null;return e}function Fn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return e}function S_(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return e;i--}else a==="/$"&&i++}e=e.previousSibling}return null}function R_(e,i,a){switch(i=Tc(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}var kn=new Map,I_=new Set;function Ac(e){return typeof e.getRootNode=="function"?e.getRootNode():e.ownerDocument}var Gi=lt.d;lt.d={f:L1,r:U1,D:z1,C:B1,L:j1,m:H1,X:F1,S:q1,M:G1};function L1(){var e=Gi.f(),i=mc();return e||i}function U1(e){var i=bi(e);i!==null&&i.tag===5&&i.type==="form"?ty(i):Gi.r(e)}var qa=typeof document>"u"?null:document;function C_(e,i,a){var l=qa;if(l&&typeof i=="string"&&i){var h=le(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),I_.has(h)||(I_.add(h),e={rel:e,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),je(i,"link",e),ne(i),l.head.appendChild(i)))}}function z1(e){Gi.D(e),C_("dns-prefetch",e,null)}function B1(e,i){Gi.C(e,i),C_("preconnect",e,i)}function j1(e,i,a){Gi.L(e,i,a);var l=qa;if(l&&e&&i){var h='link[rel="preload"][as="'+le(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+le(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+le(a.imageSizes)+'"]')):h+='[href="'+le(e)+'"]';var d=h;switch(i){case"style":d=Fa(e);break;case"script":d=Ga(e)}kn.has(d)||(e=C({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),kn.set(d,e),l.querySelector(h)!==null||i==="style"&&l.querySelector(pl(d))||i==="script"&&l.querySelector(gl(d))||(i=l.createElement("link"),je(i,"link",e),ne(i),l.head.appendChild(i)))}}function H1(e,i){Gi.m(e,i);var a=qa;if(a&&e){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+le(l)+'"][href="'+le(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ga(e)}if(!kn.has(d)&&(e=C({rel:"modulepreload",href:e},i),kn.set(d,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(gl(d)))return}l=a.createElement("link"),je(l,"link",e),ne(l),a.head.appendChild(l)}}}function q1(e,i,a){Gi.S(e,i,a);var l=qa;if(l&&e){var h=gr(l).hoistableStyles,d=Fa(e);i=i||"default";var v=h.get(d);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(pl(d)))T.loading=5;else{e=C({rel:"stylesheet",href:e,"data-precedence":i},a),(a=kn.get(d))&&Ld(e,a);var I=v=l.createElement("link");ne(I),je(I,"link",e),I._p=new Promise(function(P,W){I.onload=P,I.onerror=W}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,bc(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(d,v)}}}function F1(e,i){Gi.X(e,i);var a=qa;if(a&&e){var l=gr(a).hoistableScripts,h=Ga(e),d=l.get(h);d||(d=a.querySelector(gl(h)),d||(e=C({src:e,async:!0},i),(i=kn.get(h))&&Ud(e,i),d=a.createElement("script"),ne(d),je(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function G1(e,i){Gi.M(e,i);var a=qa;if(a&&e){var l=gr(a).hoistableScripts,h=Ga(e),d=l.get(h);d||(d=a.querySelector(gl(h)),d||(e=C({src:e,async:!0,type:"module"},i),(i=kn.get(h))&&Ud(e,i),d=a.createElement("script"),ne(d),je(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function D_(e,i,a,l){var h=(h=vn.current)?Ac(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Fa(a.href),a=gr(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Fa(a.href);var d=gr(h).hoistableStyles,v=d.get(e);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,v),(d=h.querySelector(pl(e)))&&!d._p&&(v.instance=d,v.state.loading=5),kn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},kn.set(e,a),d||Q1(h,e,a,v.state))),i&&l===null)throw Error(s(528,""));return v}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ga(a),a=gr(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Fa(e){return'href="'+le(e)+'"'}function pl(e){return'link[rel="stylesheet"]['+e+"]"}function O_(e){return C({},e,{"data-precedence":e.precedence,precedence:null})}function Q1(e,i,a,l){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=e.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),je(i,"link",a),ne(i),e.head.appendChild(i))}function Ga(e){return'[src="'+le(e)+'"]'}function gl(e){return"script[async]"+e}function N_(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=e.querySelector('style[data-href~="'+le(a.href)+'"]');if(l)return i.instance=l,ne(l),l;var h=C({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),ne(l),je(l,"style",h),bc(l,a.precedence,e),i.instance=l;case"stylesheet":h=Fa(a.href);var d=e.querySelector(pl(h));if(d)return i.state.loading|=4,i.instance=d,ne(d),d;l=O_(a),(h=kn.get(h))&&Ld(l,h),d=(e.ownerDocument||e).createElement("link"),ne(d);var v=d;return v._p=new Promise(function(T,I){v.onload=T,v.onerror=I}),je(d,"link",l),i.state.loading|=4,bc(d,a.precedence,e),i.instance=d;case"script":return d=Ga(a.src),(h=e.querySelector(gl(d)))?(i.instance=h,ne(h),h):(l=a,(h=kn.get(d))&&(l=C({},a),Ud(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),ne(h),je(h,"link",l),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,bc(l,a.precedence,e));return i.instance}function bc(e,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function Ld(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function Ud(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var wc=null;function x_(e,i,a){if(wc===null){var l=new Map,h=wc=new Map;h.set(a,l)}else h=wc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[mr]||d[Ne]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=e+v;var T=l.get(v);T?T.push(d):l.set(v,[d])}}return l}function M_(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function K1(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function V_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var yl=null;function Y1(){}function X1(e,i,a){if(yl===null)throw Error(s(475));var l=yl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=Fa(a.href),d=e.querySelector(pl(h));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=Sc.bind(l),e.then(l,l)),i.state.loading|=4,i.instance=d,ne(d);return}d=e.ownerDocument||e,a=O_(a),(h=kn.get(h))&&Ld(a,h),d=d.createElement("link"),ne(d);var v=d;v._p=new Promise(function(T,I){v.onload=T,v.onerror=I}),je(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=Sc.bind(l),e.addEventListener("load",i),e.addEventListener("error",i))}}function W1(){if(yl===null)throw Error(s(475));var e=yl;return e.stylesheets&&e.count===0&&zd(e,e.stylesheets),0<e.count?function(i){var a=setTimeout(function(){if(e.stylesheets&&zd(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(a)}}:null}function Sc(){if(this.count--,this.count===0){if(this.stylesheets)zd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Rc=null;function zd(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Rc=new Map,i.forEach(Z1,e),Rc=null,Sc.call(e))}function Z1(e,i){if(!(i.state.loading&4)){var a=Rc.get(e);if(a)var l=a.get(null);else{a=new Map,Rc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=Sc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var _l={$$typeof:M,Provider:null,Consumer:null,_currentValue:It,_currentValue2:It,_threadCount:0};function $1(e,i,a,l,h,d,v,T){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=aa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=aa(0),this.hiddenUpdates=aa(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function k_(e,i,a,l,h,d,v,T,I,P,W,et){return e=new $1(e,i,a,v,T,I,P,et),i=1,d===!0&&(i|=24),d=Mn(3,null,null,i),e.current=d,d.stateNode=e,i=yf(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Zf(d),e}function P_(e){return e?(e=ba,e):ba}function L_(e,i,a,l,h,d){h=P_(h),l.context===null?l.context=h:l.pendingContext=h,l=Dr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Or(e,l,i),a!==null&&(rn(a,e,i),el(a,e,i))}function U_(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function Bd(e,i){U_(e,i),(e=e.alternate)&&U_(e,i)}function z_(e){if(e.tag===13){var i=Ar(e,67108864);i!==null&&rn(i,e,67108864),Bd(e,67108864)}}var Ic=!0;function J1(e,i,a,l){var h=S.T;S.T=null;var d=lt.p;try{lt.p=2,jd(e,i,a,l)}finally{lt.p=d,S.T=h}}function tb(e,i,a,l){var h=S.T;S.T=null;var d=lt.p;try{lt.p=8,jd(e,i,a,l)}finally{lt.p=d,S.T=h}}function jd(e,i,a,l){if(Ic){var h=Hd(l);if(h===null)Dd(e,i,l,Cc,a),j_(e,l);else if(nb(h,e,i,a,l))l.stopPropagation();else if(j_(e,l),i&4&&-1<eb.indexOf(e)){for(;h!==null;){var d=bi(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=zn(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var I=1<<31-Je(v);T.entanglements[1]|=I,v&=~I}ci(d),(re&6)===0&&(hc=on()+500,fl(0))}}break;case 13:T=Ar(d,2),T!==null&&rn(T,d,2),mc(),Bd(d,2)}if(d=Hd(l),d===null&&Dd(e,i,l,Cc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Dd(e,i,l,null,a)}}function Hd(e){return e=ha(e),qd(e)}var Cc=null;function qd(e){if(Cc=null,e=Bn(e),e!==null){var i=ft(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=qt(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Cc=e,null}function B_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(du()){case Ae:return 2;case Oe:return 8;case Ti:case mu:return 32;case Eo:return 268435456;default:return 32}default:return 32}}var Fd=!1,Lr=null,Ur=null,zr=null,vl=new Map,El=new Map,Br=[],eb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function j_(e,i){switch(e){case"focusin":case"focusout":Lr=null;break;case"dragenter":case"dragleave":Ur=null;break;case"mouseover":case"mouseout":zr=null;break;case"pointerover":case"pointerout":vl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":El.delete(i.pointerId)}}function Tl(e,i,a,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=bi(i),i!==null&&z_(i)),e):(e.eventSystemFlags|=l,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function nb(e,i,a,l,h){switch(i){case"focusin":return Lr=Tl(Lr,e,i,a,l,h),!0;case"dragenter":return Ur=Tl(Ur,e,i,a,l,h),!0;case"mouseover":return zr=Tl(zr,e,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return vl.set(d,Tl(vl.get(d)||null,e,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,El.set(d,Tl(El.get(d)||null,e,i,a,l,h)),!0}return!1}function H_(e){var i=Bn(e.target);if(i!==null){var a=ft(i);if(a!==null){if(i=a.tag,i===13){if(i=qt(a),i!==null){e.blockedOn=i,dr(e.priority,function(){if(a.tag===13){var l=yn(),h=Ar(a,l);h!==null&&rn(h,a,l),Bd(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Dc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=Hd(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);bn=l,a.target.dispatchEvent(l),bn=null}else return i=bi(a),i!==null&&z_(i),e.blockedOn=a,!1;i.shift()}return!0}function q_(e,i,a){Dc(e)&&a.delete(i)}function ib(){Fd=!1,Lr!==null&&Dc(Lr)&&(Lr=null),Ur!==null&&Dc(Ur)&&(Ur=null),zr!==null&&Dc(zr)&&(zr=null),vl.forEach(q_),El.forEach(q_)}function Oc(e,i){e.blockedOn===i&&(e.blockedOn=null,Fd||(Fd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,ib)))}var Nc=null;function F_(e){Nc!==e&&(Nc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Nc===e&&(Nc=null);for(var i=0;i<e.length;i+=3){var a=e[i],l=e[i+1],h=e[i+2];if(typeof l!="function"){if(qd(l||a)===null)continue;break}var d=bi(a);d!==null&&(e.splice(i,3),i-=3,Mf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Al(e){function i(I){return Oc(I,e)}Lr!==null&&Oc(Lr,e),Ur!==null&&Oc(Ur,e),zr!==null&&Oc(zr,e),vl.forEach(i),El.forEach(i);for(var a=0;a<Br.length;a++){var l=Br[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Br.length&&(a=Br[0],a.blockedOn===null);)H_(a),a.blockedOn===null&&Br.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[be]||null;if(typeof d=="function")v||F_(a);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[be]||null)T=v.formAction;else if(qd(h)!==null)continue}else T=v.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),F_(a)}}}function Gd(e){this._internalRoot=e}xc.prototype.render=Gd.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=yn();L_(a,l,e,i,null,null)},xc.prototype.unmount=Gd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;e.tag===0&&Ba(),L_(e.current,2,null,e,null,null),mc(),i[Ai]=null}};function xc(e){this._internalRoot=e}xc.prototype.unstable_scheduleHydration=function(e){if(e){var i=vu();e={blockedOn:null,target:e,priority:i};for(var a=0;a<Br.length&&i!==0&&i<Br[a].priority;a++);Br.splice(a,0,e),a===0&&H_(e)}};var G_=t.version;if(G_!=="19.0.0")throw Error(s(527,G_,"19.0.0"));lt.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=nt(i),e=e!==null?pt(e):null,e=e===null?null:e.stateNode,e};var rb={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:S,findFiberByHostInstance:Bn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mc.isDisabled&&Mc.supportsFiber)try{or=Mc.inject(rb),Ge=Mc}catch{}}return wl.createRoot=function(e,i){if(!o(e))throw Error(s(299));var a=!1,l="",h=ly,d=uy,v=cy,T=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=k_(e,1,!1,null,null,a,l,h,d,v,T,null),e[Ai]=i.current,Cd(e.nodeType===8?e.parentNode:e),new Gd(i)},wl.hydrateRoot=function(e,i,a){if(!o(e))throw Error(s(299));var l=!1,h="",d=ly,v=uy,T=cy,I=null,P=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(I=a.unstable_transitionCallbacks),a.formState!==void 0&&(P=a.formState)),i=k_(e,1,!0,i,a??null,l,h,d,v,T,I,P),i.context=P_(null),a=i.current,l=yn(),h=Dr(l),h.callback=null,Or(a,h,l),i.current.lanes=l,de(i,l),ci(i),e[Ai]=i.current,Cd(e),new xc(i)},wl.version="19.0.0",wl}var ev;function pb(){if(ev)return Yd.exports;ev=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Yd.exports=mb(),Yd.exports}var gb=pb(),Sl={},nv;function yb(){if(nv)return Sl;nv=1,Object.defineProperty(Sl,"__esModule",{value:!0}),Sl.parse=f,Sl.serialize=g;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function f(b,M){const V=new u,j=b.length;if(j<2)return V;const B=(M==null?void 0:M.decode)||E;let Q=0;do{const q=b.indexOf("=",Q);if(q===-1)break;const Y=b.indexOf(";",Q),it=Y===-1?j:Y;if(q>it){Q=b.lastIndexOf(";",q-1)+1;continue}const st=m(b,Q,q),mt=p(b,q,st),O=b.slice(st,mt);if(V[O]===void 0){let R=m(b,q+1,it),S=p(b,it,R);const C=B(b.slice(R,S));V[O]=C}Q=it+1}while(Q<j);return V}function m(b,M,V){do{const j=b.charCodeAt(M);if(j!==32&&j!==9)return M}while(++M<V);return V}function p(b,M,V){for(;M>V;){const j=b.charCodeAt(--M);if(j!==32&&j!==9)return M+1}return V}function g(b,M,V){const j=(V==null?void 0:V.encode)||encodeURIComponent;if(!r.test(b))throw new TypeError(`argument name is invalid: ${b}`);const B=j(M);if(!t.test(B))throw new TypeError(`argument val is invalid: ${M}`);let Q=b+"="+B;if(!V)return Q;if(V.maxAge!==void 0){if(!Number.isInteger(V.maxAge))throw new TypeError(`option maxAge is invalid: ${V.maxAge}`);Q+="; Max-Age="+V.maxAge}if(V.domain){if(!n.test(V.domain))throw new TypeError(`option domain is invalid: ${V.domain}`);Q+="; Domain="+V.domain}if(V.path){if(!s.test(V.path))throw new TypeError(`option path is invalid: ${V.path}`);Q+="; Path="+V.path}if(V.expires){if(!w(V.expires)||!Number.isFinite(V.expires.valueOf()))throw new TypeError(`option expires is invalid: ${V.expires}`);Q+="; Expires="+V.expires.toUTCString()}if(V.httpOnly&&(Q+="; HttpOnly"),V.secure&&(Q+="; Secure"),V.partitioned&&(Q+="; Partitioned"),V.priority)switch(typeof V.priority=="string"?V.priority.toLowerCase():void 0){case"low":Q+="; Priority=Low";break;case"medium":Q+="; Priority=Medium";break;case"high":Q+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${V.priority}`)}if(V.sameSite)switch(typeof V.sameSite=="string"?V.sameSite.toLowerCase():V.sameSite){case!0:case"strict":Q+="; SameSite=Strict";break;case"lax":Q+="; SameSite=Lax";break;case"none":Q+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${V.sameSite}`)}return Q}function E(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function w(b){return o.call(b)==="[object Date]"}return Sl}yb();var iv="popstate";function _b(r={}){function t(s,o){let{pathname:u,search:f,hash:m}=s.location;return hm("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Ul(o)}return Eb(t,n,null,r)}function se(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function pi(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function vb(){return Math.random().toString(36).substring(2,10)}function rv(r,t){return{usr:r.state,key:r.key,idx:t}}function hm(r,t,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof t=="string"?lo(t):t,state:n,key:t&&t.key||s||vb()}}function Ul({pathname:r="/",search:t="",hash:n=""}){return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function lo(r){let t={};if(r){let n=r.indexOf("#");n>=0&&(t.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(t.search=r.substring(s),r=r.substring(0,s)),r&&(t.pathname=r)}return t}function Eb(r,t,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,g=E();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function E(){return(f.state||{idx:null}).idx}function w(){m="POP";let B=E(),Q=B==null?null:B-g;g=B,p&&p({action:m,location:j.location,delta:Q})}function b(B,Q){m="PUSH";let q=hm(j.location,B,Q);g=E()+1;let Y=rv(q,g),it=j.createHref(q);try{f.pushState(Y,"",it)}catch(st){if(st instanceof DOMException&&st.name==="DataCloneError")throw st;o.location.assign(it)}u&&p&&p({action:m,location:j.location,delta:1})}function M(B,Q){m="REPLACE";let q=hm(j.location,B,Q);g=E();let Y=rv(q,g),it=j.createHref(q);f.replaceState(Y,"",it),u&&p&&p({action:m,location:j.location,delta:0})}function V(B){return Tb(B)}let j={get action(){return m},get location(){return r(o,f)},listen(B){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(iv,w),p=B,()=>{o.removeEventListener(iv,w),p=null}},createHref(B){return t(o,B)},createURL:V,encodeLocation(B){let Q=V(B);return{pathname:Q.pathname,search:Q.search,hash:Q.hash}},push:b,replace:M,go(B){return f.go(B)}};return j}function Tb(r,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),se(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:Ul(r);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function z0(r,t,n="/"){return Ab(r,t,n,!1)}function Ab(r,t,n,s){let o=typeof t=="string"?lo(t):t,u=$i(o.pathname||"/",n);if(u==null)return null;let f=B0(r);bb(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=Vb(u);m=xb(f[p],g,s)}return m}function B0(r,t=[],n=[],s=""){let o=(u,f,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(se(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=Xi([s,p.relativePath]),E=n.concat(p);u.children&&u.children.length>0&&(se(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),B0(u.children,t,E,g)),!(u.path==null&&!u.index)&&t.push({path:g,score:Ob(g,u.index),routesMeta:E})};return r.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,f);else for(let p of j0(u.path))o(u,f,p)}),t}function j0(r){let t=r.split("/");if(t.length===0)return[];let[n,...s]=t,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=j0(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function bb(r){r.sort((t,n)=>t.score!==n.score?n.score-t.score:Nb(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var wb=/^:[\w-]+$/,Sb=3,Rb=2,Ib=1,Cb=10,Db=-2,sv=r=>r==="*";function Ob(r,t){let n=r.split("/"),s=n.length;return n.some(sv)&&(s+=Db),t&&(s+=Rb),n.filter(o=>!sv(o)).reduce((o,u)=>o+(wb.test(u)?Sb:u===""?Ib:Cb),s)}function Nb(r,t){return r.length===t.length&&r.slice(0,-1).every((s,o)=>s===t[o])?r[r.length-1]-t[t.length-1]:0}function xb(r,t,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?t:t.slice(u.length)||"/",w=nh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),b=p.route;if(!w&&g&&n&&!s[s.length-1].route.index&&(w=nh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!w)return null;Object.assign(o,w.params),f.push({params:o,pathname:Xi([u,w.pathname]),pathnameBase:Ub(Xi([u,w.pathnameBase])),route:b}),w.pathnameBase!=="/"&&(u=Xi([u,w.pathnameBase]))}return f}function nh(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=Mb(r.path,r.caseSensitive,r.end),o=t.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:w},b)=>{if(E==="*"){let V=m[b]||"";f=u.slice(0,u.length-V.length).replace(/(.)\/+$/,"$1")}const M=m[b];return w&&!M?g[E]=void 0:g[E]=(M||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:r}}function Mb(r,t=!1,n=!0){pi(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),s]}function Vb(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return pi(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),r}}function $i(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function kb(r,t="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?lo(r):r;return{pathname:n?n.startsWith("/")?n:Pb(n,t):t,search:zb(s),hash:Bb(o)}}function Pb(r,t){let n=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function $d(r,t,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Lb(r){return r.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function H0(r){let t=Lb(r);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function q0(r,t,n,s=!1){let o;typeof r=="string"?o=lo(r):(o={...r},se(!o.pathname||!o.pathname.includes("?"),$d("?","pathname","search",o)),se(!o.pathname||!o.pathname.includes("#"),$d("#","pathname","hash",o)),se(!o.search||!o.search.includes("#"),$d("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let w=t.length-1;if(!s&&f.startsWith("..")){let b=f.split("/");for(;b[0]==="..";)b.shift(),w-=1;o.pathname=b.join("/")}m=w>=0?t[w]:"/"}let p=kb(o,m),g=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var Xi=r=>r.join("/").replace(/\/\/+/g,"/"),Ub=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),zb=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Bb=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function jb(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var F0=["POST","PUT","PATCH","DELETE"];new Set(F0);var Hb=["GET",...F0];new Set(Hb);var uo=G.createContext(null);uo.displayName="DataRouter";var wh=G.createContext(null);wh.displayName="DataRouterState";var G0=G.createContext({isTransitioning:!1});G0.displayName="ViewTransition";var qb=G.createContext(new Map);qb.displayName="Fetchers";var Fb=G.createContext(null);Fb.displayName="Await";var yi=G.createContext(null);yi.displayName="Navigation";var Xl=G.createContext(null);Xl.displayName="Location";var _i=G.createContext({outlet:null,matches:[],isDataRoute:!1});_i.displayName="Route";var Qm=G.createContext(null);Qm.displayName="RouteError";function Gb(r,{relative:t}={}){se(Wl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=G.useContext(yi),{hash:o,pathname:u,search:f}=Zl(r,{relative:t}),m=u;return n!=="/"&&(m=u==="/"?n:Xi([n,u])),s.createHref({pathname:m,search:f,hash:o})}function Wl(){return G.useContext(Xl)!=null}function Zs(){return se(Wl(),"useLocation() may be used only in the context of a <Router> component."),G.useContext(Xl).location}var Q0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function K0(r){G.useContext(yi).static||G.useLayoutEffect(r)}function Km(){let{isDataRoute:r}=G.useContext(_i);return r?sw():Qb()}function Qb(){se(Wl(),"useNavigate() may be used only in the context of a <Router> component.");let r=G.useContext(uo),{basename:t,navigator:n}=G.useContext(yi),{matches:s}=G.useContext(_i),{pathname:o}=Zs(),u=JSON.stringify(H0(s)),f=G.useRef(!1);return K0(()=>{f.current=!0}),G.useCallback((p,g={})=>{if(pi(f.current,Q0),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=q0(p,JSON.parse(u),o,g.relative==="path");r==null&&t!=="/"&&(E.pathname=E.pathname==="/"?t:Xi([t,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[t,n,u,o,r])}G.createContext(null);function Kb(){let{matches:r}=G.useContext(_i),t=r[r.length-1];return t?t.params:{}}function Zl(r,{relative:t}={}){let{matches:n}=G.useContext(_i),{pathname:s}=Zs(),o=JSON.stringify(H0(n));return G.useMemo(()=>q0(r,JSON.parse(o),s,t==="path"),[r,o,s,t])}function Yb(r,t){return Y0(r,t)}function Y0(r,t,n,s){var Q;se(Wl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=G.useContext(yi),{matches:u}=G.useContext(_i),f=u[u.length-1],m=f?f.params:{},p=f?f.pathname:"/",g=f?f.pathnameBase:"/",E=f&&f.route;{let q=E&&E.path||"";X0(p,!E||q.endsWith("*")||q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${q}"> to <Route path="${q==="/"?"*":`${q}/*`}">.`)}let w=Zs(),b;if(t){let q=typeof t=="string"?lo(t):t;se(g==="/"||((Q=q.pathname)==null?void 0:Q.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${q.pathname}" was given in the \`location\` prop.`),b=q}else b=w;let M=b.pathname||"/",V=M;if(g!=="/"){let q=g.replace(/^\//,"").split("/");V="/"+M.replace(/^\//,"").split("/").slice(q.length).join("/")}let j=z0(r,{pathname:V});pi(E||j!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),pi(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let B=Jb(j&&j.map(q=>Object.assign({},q,{params:Object.assign({},m,q.params),pathname:Xi([g,o.encodeLocation?o.encodeLocation(q.pathname).pathname:q.pathname]),pathnameBase:q.pathnameBase==="/"?g:Xi([g,o.encodeLocation?o.encodeLocation(q.pathnameBase).pathname:q.pathnameBase])})),u,n,s);return t&&B?G.createElement(Xl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},B):B}function Xb(){let r=rw(),t=jb(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=G.createElement(G.Fragment,null,G.createElement("p",null," Hey developer "),G.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",G.createElement("code",{style:u},"ErrorBoundary")," or"," ",G.createElement("code",{style:u},"errorElement")," prop on your route.")),G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},t),n?G.createElement("pre",{style:o},n):null,f)}var Wb=G.createElement(Xb,null),Zb=class extends G.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){console.error("React Router caught the following error during render",r,t)}render(){return this.state.error!==void 0?G.createElement(_i.Provider,{value:this.props.routeContext},G.createElement(Qm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function $b({routeContext:r,match:t,children:n}){let s=G.useContext(uo);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),G.createElement(_i.Provider,{value:r},n)}function Jb(r,t=[],n=null,s=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,u=n==null?void 0:n.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);se(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,m=-1;if(n)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=p),g.route.id){let{loaderData:E,errors:w}=n,b=g.route.loader&&!E.hasOwnProperty(g.route.id)&&(!w||w[g.route.id]===void 0);if(g.route.lazy||b){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,g,E)=>{let w,b=!1,M=null,V=null;n&&(w=u&&g.route.id?u[g.route.id]:void 0,M=g.route.errorElement||Wb,f&&(m<0&&E===0?(X0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,V=null):m===E&&(b=!0,V=g.route.hydrateFallbackElement||null)));let j=t.concat(o.slice(0,E+1)),B=()=>{let Q;return w?Q=M:b?Q=V:g.route.Component?Q=G.createElement(g.route.Component,null):g.route.element?Q=g.route.element:Q=p,G.createElement($b,{match:g,routeContext:{outlet:p,matches:j,isDataRoute:n!=null},children:Q})};return n&&(g.route.ErrorBoundary||g.route.errorElement||E===0)?G.createElement(Zb,{location:n.location,revalidation:n.revalidation,component:M,error:w,children:B(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):B()},null)}function Ym(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tw(r){let t=G.useContext(uo);return se(t,Ym(r)),t}function ew(r){let t=G.useContext(wh);return se(t,Ym(r)),t}function nw(r){let t=G.useContext(_i);return se(t,Ym(r)),t}function Xm(r){let t=nw(r),n=t.matches[t.matches.length-1];return se(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function iw(){return Xm("useRouteId")}function rw(){var s;let r=G.useContext(Qm),t=ew("useRouteError"),n=Xm("useRouteError");return r!==void 0?r:(s=t.errors)==null?void 0:s[n]}function sw(){let{router:r}=tw("useNavigate"),t=Xm("useNavigate"),n=G.useRef(!1);return K0(()=>{n.current=!0}),G.useCallback(async(o,u={})=>{pi(n.current,Q0),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:t,...u}))},[r,t])}var av={};function X0(r,t,n){!t&&!av[r]&&(av[r]=!0,pi(!1,n))}G.memo(aw);function aw({routes:r,future:t,state:n}){return Y0(r,void 0,n,t)}function qc(r){se(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ow({basename:r="/",children:t=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){se(!Wl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=G.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=lo(n));let{pathname:p="/",search:g="",hash:E="",state:w=null,key:b="default"}=n,M=G.useMemo(()=>{let V=$i(p,f);return V==null?null:{location:{pathname:V,search:g,hash:E,state:w,key:b},navigationType:s}},[f,p,g,E,w,b,s]);return pi(M!=null,`<Router basename="${f}"> is not able to match the URL "${p}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),M==null?null:G.createElement(yi.Provider,{value:m},G.createElement(Xl.Provider,{children:t,value:M}))}function lw({children:r,location:t}){return Yb(fm(r),t)}function fm(r,t=[]){let n=[];return G.Children.forEach(r,(s,o)=>{if(!G.isValidElement(s))return;let u=[...t,o];if(s.type===G.Fragment){n.push.apply(n,fm(s.props.children,u));return}se(s.type===qc,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),se(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=fm(s.props.children,u)),n.push(f)}),n}var Fc="get",Gc="application/x-www-form-urlencoded";function Sh(r){return r!=null&&typeof r.tagName=="string"}function uw(r){return Sh(r)&&r.tagName.toLowerCase()==="button"}function cw(r){return Sh(r)&&r.tagName.toLowerCase()==="form"}function hw(r){return Sh(r)&&r.tagName.toLowerCase()==="input"}function fw(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function dw(r,t){return r.button===0&&(!t||t==="_self")&&!fw(r)}var Vc=null;function mw(){if(Vc===null)try{new FormData(document.createElement("form"),0),Vc=!1}catch{Vc=!0}return Vc}var pw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Jd(r){return r!=null&&!pw.has(r)?(pi(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Gc}"`),null):r}function gw(r,t){let n,s,o,u,f;if(cw(r)){let m=r.getAttribute("action");s=m?$i(m,t):null,n=r.getAttribute("method")||Fc,o=Jd(r.getAttribute("enctype"))||Gc,u=new FormData(r)}else if(uw(r)||hw(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?$i(p,t):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||Fc,o=Jd(r.getAttribute("formenctype"))||Jd(m.getAttribute("enctype"))||Gc,u=new FormData(m,r),!mw()){let{name:g,type:E,value:w}=r;if(E==="image"){let b=g?`${g}.`:"";u.append(`${b}x`,"0"),u.append(`${b}y`,"0")}else g&&u.append(g,w)}}else{if(Sh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Fc,s=null,o=Gc,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}function Wm(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}async function yw(r,t){if(r.id in t)return t[r.id];try{let n=await import(r.module);return t[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function _w(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function vw(r,t,n){let s=await Promise.all(r.map(async o=>{let u=t.routes[o.route.id];if(u){let f=await yw(u,n);return f.links?f.links():[]}return[]}));return bw(s.flat(1).filter(_w).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function ov(r,t,n,s,o,u){let f=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>{var E;return n[g].pathname!==p.pathname||((E=n[g].route.path)==null?void 0:E.endsWith("*"))&&n[g].params["*"]!==p.params["*"]};return u==="assets"?t.filter((p,g)=>f(p,g)||m(p,g)):u==="data"?t.filter((p,g)=>{var w;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let b=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((w=n[0])==null?void 0:w.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function Ew(r,t,{includeHydrateFallback:n}={}){return Tw(r.map(s=>{let o=t.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function Tw(r){return[...new Set(r)]}function Aw(r){let t={},n=Object.keys(r).sort();for(let s of n)t[s]=r[s];return t}function bw(r,t){let n=new Set;return new Set(t),r.reduce((s,o)=>{let u=JSON.stringify(Aw(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var ww=new Set([100,101,204,205]);function Sw(r,t){let n=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n.pathname==="/"?n.pathname="_root.data":t&&$i(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function W0(){let r=G.useContext(uo);return Wm(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Rw(){let r=G.useContext(wh);return Wm(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Zm=G.createContext(void 0);Zm.displayName="FrameworkContext";function Z0(){let r=G.useContext(Zm);return Wm(r,"You must render this element inside a <HydratedRouter> element"),r}function Iw(r,t){let n=G.useContext(Zm),[s,o]=G.useState(!1),[u,f]=G.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:w}=t,b=G.useRef(null);G.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let j=Q=>{Q.forEach(q=>{f(q.isIntersecting)})},B=new IntersectionObserver(j,{threshold:.5});return b.current&&B.observe(b.current),()=>{B.disconnect()}}},[r]),G.useEffect(()=>{if(s){let j=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(j)}}},[s]);let M=()=>{o(!0)},V=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,b,{}]:[u,b,{onFocus:Rl(m,M),onBlur:Rl(p,V),onMouseEnter:Rl(g,M),onMouseLeave:Rl(E,V),onTouchStart:Rl(w,M)}]:[!1,b,{}]}function Rl(r,t){return n=>{r&&r(n),n.defaultPrevented||t(n)}}function Cw({page:r,...t}){let{router:n}=W0(),s=G.useMemo(()=>z0(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?G.createElement(Ow,{page:r,matches:s,...t}):null}function Dw(r){let{manifest:t,routeModules:n}=Z0(),[s,o]=G.useState([]);return G.useEffect(()=>{let u=!1;return vw(r,t,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,t,n]),s}function Ow({page:r,matches:t,...n}){let s=Zs(),{manifest:o,routeModules:u}=Z0(),{basename:f}=W0(),{loaderData:m,matches:p}=Rw(),g=G.useMemo(()=>ov(r,t,p,o,s,"data"),[r,t,p,o,s]),E=G.useMemo(()=>ov(r,t,p,o,s,"assets"),[r,t,p,o,s]),w=G.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let V=new Set,j=!1;if(t.forEach(Q=>{var Y;let q=o.routes[Q.route.id];!q||!q.hasLoader||(!g.some(it=>it.route.id===Q.route.id)&&Q.route.id in m&&((Y=u[Q.route.id])!=null&&Y.shouldRevalidate)||q.hasClientLoader?j=!0:V.add(Q.route.id))}),V.size===0)return[];let B=Sw(r,f);return j&&V.size>0&&B.searchParams.set("_routes",t.filter(Q=>V.has(Q.route.id)).map(Q=>Q.route.id).join(",")),[B.pathname+B.search]},[f,m,s,o,g,t,r,u]),b=G.useMemo(()=>Ew(E,o),[E,o]),M=Dw(E);return G.createElement(G.Fragment,null,w.map(V=>G.createElement("link",{key:V,rel:"prefetch",as:"fetch",href:V,...n})),b.map(V=>G.createElement("link",{key:V,rel:"modulepreload",href:V,...n})),M.map(({key:V,link:j})=>G.createElement("link",{key:V,...j})))}function Nw(...r){return t=>{r.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var $0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{$0&&(window.__reactRouterVersion="7.6.1")}catch{}function xw({basename:r,children:t,window:n}){let s=G.useRef();s.current==null&&(s.current=_b({window:n,v5Compat:!0}));let o=s.current,[u,f]=G.useState({action:o.action,location:o.location}),m=G.useCallback(p=>{G.startTransition(()=>f(p))},[f]);return G.useLayoutEffect(()=>o.listen(m),[o,m]),G.createElement(ow,{basename:r,children:t,location:u.location,navigationType:u.action,navigator:o})}var J0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$m=G.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:g,preventScrollReset:E,viewTransition:w,...b},M){let{basename:V}=G.useContext(yi),j=typeof g=="string"&&J0.test(g),B,Q=!1;if(typeof g=="string"&&j&&(B=g,$0))try{let S=new URL(window.location.href),C=g.startsWith("//")?new URL(S.protocol+g):new URL(g),N=$i(C.pathname,V);C.origin===S.origin&&N!=null?g=N+C.search+C.hash:Q=!0}catch{pi(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let q=Gb(g,{relative:o}),[Y,it,st]=Iw(s,b),mt=kw(g,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:w});function O(S){t&&t(S),S.defaultPrevented||mt(S)}let R=G.createElement("a",{...b,...st,href:B||q,onClick:Q||u?t:O,ref:Nw(M,it),target:p,"data-discover":!j&&n==="render"?"true":void 0});return Y&&!j?G.createElement(G.Fragment,null,R,G.createElement(Cw,{page:q})):R});$m.displayName="Link";var tE=G.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...g},E){let w=Zl(f,{relative:g.relative}),b=Zs(),M=G.useContext(wh),{navigator:V,basename:j}=G.useContext(yi),B=M!=null&&Bw(w)&&m===!0,Q=V.encodeLocation?V.encodeLocation(w).pathname:w.pathname,q=b.pathname,Y=M&&M.navigation&&M.navigation.location?M.navigation.location.pathname:null;n||(q=q.toLowerCase(),Y=Y?Y.toLowerCase():null,Q=Q.toLowerCase()),Y&&j&&(Y=$i(Y,j)||Y);const it=Q!=="/"&&Q.endsWith("/")?Q.length-1:Q.length;let st=q===Q||!o&&q.startsWith(Q)&&q.charAt(it)==="/",mt=Y!=null&&(Y===Q||!o&&Y.startsWith(Q)&&Y.charAt(Q.length)==="/"),O={isActive:st,isPending:mt,isTransitioning:B},R=st?t:void 0,S;typeof s=="function"?S=s(O):S=[s,st?"active":null,mt?"pending":null,B?"transitioning":null].filter(Boolean).join(" ");let C=typeof u=="function"?u(O):u;return G.createElement($m,{...g,"aria-current":R,className:S,ref:E,style:C,to:f,viewTransition:m},typeof p=="function"?p(O):p)});tE.displayName="NavLink";var Mw=G.forwardRef(({discover:r="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:o,state:u,method:f=Fc,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:w,...b},M)=>{let V=Uw(),j=zw(m,{relative:g}),B=f.toLowerCase()==="get"?"get":"post",Q=typeof m=="string"&&J0.test(m),q=Y=>{if(p&&p(Y),Y.defaultPrevented)return;Y.preventDefault();let it=Y.nativeEvent.submitter,st=(it==null?void 0:it.getAttribute("formmethod"))||f;V(it||Y.currentTarget,{fetcherKey:t,method:st,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:w})};return G.createElement("form",{ref:M,method:B,action:j,onSubmit:s?p:q,...b,"data-discover":!Q&&r==="render"?"true":void 0})});Mw.displayName="Form";function Vw(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function eE(r){let t=G.useContext(uo);return se(t,Vw(r)),t}function kw(r,{target:t,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=Km(),p=Zs(),g=Zl(r,{relative:u});return G.useCallback(E=>{if(dw(E,t)){E.preventDefault();let w=n!==void 0?n:Ul(p)===Ul(g);m(r,{replace:w,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,g,n,s,t,r,o,u,f])}var Pw=0,Lw=()=>`__${String(++Pw)}__`;function Uw(){let{router:r}=eE("useSubmit"),{basename:t}=G.useContext(yi),n=iw();return G.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:p,body:g}=gw(s,t);if(o.navigate===!1){let E=o.fetcherKey||Lw();await r.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,t,n])}function zw(r,{relative:t}={}){let{basename:n}=G.useContext(yi),s=G.useContext(_i);se(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Zl(r||".",{relative:t})},f=Zs();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(w=>w).forEach(w=>m.append("index",w));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Xi([n,u.pathname])),Ul(u)}function Bw(r,t={}){let n=G.useContext(G0);se(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=eE("useViewTransitionState"),o=Zl(r,{relative:t.relative});if(!n.isTransitioning)return!1;let u=$i(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=$i(n.nextLocation.pathname,s)||n.nextLocation.pathname;return nh(o.pathname,f)!=null||nh(o.pathname,u)!=null}[...ww];const nE=""+new URL("logo-COGC8jhl.png",import.meta.url).href,jw="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='16'%20width='16'%20viewBox='0%200%20512%20512'%3e%3c!--!Font%20Awesome%20Free%206.5.1%20by%20@fontawesome%20-%20https://fontawesome.com%20License%20-%20https://fontawesome.com/license/free%20Copyright%202023%20Fonticons,%20Inc.--%3e%3cpath%20fill='%23ffffff'%20d='M416%20208c0%2045.9-14.9%2088.3-40%20122.7L502.6%20457.4c12.5%2012.5%2012.5%2032.8%200%2045.3s-32.8%2012.5-45.3%200L330.7%20376c-34.4%2025.2-76.8%2040-122.7%2040C93.1%20416%200%20322.9%200%20208S93.1%200%20208%200S416%2093.1%20416%20208zM208%20352a144%20144%200%201%200%200-288%20144%20144%200%201%200%200%20288z'/%3e%3c/svg%3e",Hw="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='16'%20width='14'%20viewBox='0%200%20448%20512'%3e%3c!--!Font%20Awesome%20Free%206.5.1%20by%20@fontawesome%20-%20https://fontawesome.com%20License%20-%20https://fontawesome.com/license/free%20Copyright%202023%20Fonticons,%20Inc.--%3e%3cpath%20fill='%23ffffff'%20d='M224%200c-17.7%200-32%2014.3-32%2032V51.2C119%2066%2064%20130.6%2064%20208v25.4c0%2045.4-15.5%2089.5-43.8%20124.9L5.3%20377c-5.8%207.2-6.9%2017.1-2.9%2025.4S14.8%20416%2024%20416H424c9.2%200%2017.6-5.3%2021.6-13.6s2.9-18.2-2.9-25.4l-14.9-18.6C399.5%20322.9%20384%20278.8%20384%20233.4V208c0-77.4-55-142-128-156.8V32c0-17.7-14.3-32-32-32zm0%2096c61.9%200%20112%2050.1%20112%20112v25.4c0%2047.9%2013.9%2094.6%2039.7%20134.6H72.3C98.1%20328%20112%20281.3%20112%20233.4V208c0-61.9%2050.1-112%20112-112zm64%20352H224%20160c0%2017%206.7%2033.3%2018.7%2045.3s28.3%2018.7%2045.3%2018.7s33.3-6.7%2045.3-18.7s18.7-28.3%2018.7-45.3z'/%3e%3c/svg%3e",qw="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAE+UlEQVRYw42X32scVRTHP+fMZDebbNJuEmza2jbBVtKKBQXBVsXigw99EKSI7yLFxwoiiNCXKgiCIvgi6pPaf8AnEXyqlhZBa9HSktbWQmvS/HCTdLOT3Znjw8xs7t6dbXphmHvn3vM953zPj5mRyqk7Rj4ku5sz90e+597xzvt7RZjZftijuGiNJ+gAFCruZ5j7PLtrl7A/94V9r+gFxDxDKMBy8PSBNG7FRj8ji2SK8Cw3wPXOt5wtAP2R0H8UyGihQBHNW7HjJ+aDktRxuisHBIgNtgewO4SKQGKObL/K8IGzWwKUFXYHUFNIxIHohCBXLtAEJgO4G8HsghEZbFPY8HUXhcljrQWMCIjB7KJxpwmTmuoQhxXNgVoGOwP4Z8U4/ojywUtl2gbzEYxpykwPrX7GZ2sDtissbMByDGeOlXl1l3KrbuxSaDnnwxxgUuB2w3jzYMinb01QrSivH4s48MkSkcGQQNN6Pe1JYKDsxPbPUzUOTQ+yHiW89/Uin11usa+qzMcpkGoAKlArCfxnvHZkiGpFaUYJ+/eUOX24RH3FGAvTcyqgmirorLNY5s9qCnNrxqmDIYemB4k2jEpZOXF0CJaNbWF2VtMLFWgkBiPChWsRAINlZXk15qebLRgVGlagXJ27Qu7MOkBV+OF2zL3lNuVSSs3FqxGMCk3bND4MJN2cj2GqJpw+v0Fsizyzv8R355ucWzSmqsJSGwL1qHfneXgU1g32hXBlzTj5xRJvPF/h8q0W75+L2FtT5mIINC0JGX/3bieqLWBC4caKwZrBuDJVhqUYBoqakxXMs3XL0lDcioDFBKrC9KiwFEPovE9C16sAWDWYGVMqE1BvGSsJVAIwJ8kkm5trjNeUQoH7BtODsH1fQGywEBulIDuaV0Eg0lPT9SS9EGEg6C33mqYNpmmw2k4bTGdTN+eqmSKFa1Fa82MBtG3TiDD0FPQbubcBcKVusGFQFWaGheFAMCBODMuaS5B10d82DP5NmNmhDAXC35ExomA5A2FupRUrFWdvRIU/VhJ+PjnKcFn5/Mc1vrrRhkaSpXSGlVjHzWd3BrzzcpUTL47w/S9rvHJ2lf2TAQttywwIpEtjJ9QFfT9QoCTcqyccfW6ILw8M8vFqzPU7LW7OtZirJ2y0jWpZ2D0e8vieAR7bVQLg99kmZ39tMj4R0DAIJe1WcvDMXL8Xaw8zRtrlLi0lPDGuvP10mSMzg+zdMUC1ol2icQIL9TaXrkd8e2Gdb2bbMKocLkGUEYaAPPnhvJFRbZ4p7rM8FAkwGsBiC66uJBADw8LxmrKnqgworLWMv+oJF5ey/RHhhYrQSFLl4uDLUx/Nm9vKzXVXCkscIy2zIU3X92O414abcRrDYYW9oTAepv1jPVPsh1WAMFTpm4RFYXDXjQxUFXaW4VGRzndAbOlrPMr7QlCM3b8M/a8c3xj1zpGynT8TgaCAWj/UYagF1DsKuvIg33bB+uRMB0sLnHBGGoIidlywHORhxlafbZ6OtBFtAVZUIQ/KDX+Y9fYWM8eADq1OT8/p7eAWvP1EN5kWn6ncaPdcwS9fGKik1jiHpIAVcwzr53GP7EOEI8w7Uq6k06FwaC/6D6RbrsNA9qDDntNPigwPVbspdylUcQC0F9iVEccY99+gp7qkWy4MJH015q3W/G7lrEW91symkXmiqpew4si6SZUb+j+Y7wjzSYgAMAAAAABJRU5ErkJggg==",Fw="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='16'%20width='10'%20viewBox='0%200%20320%20512'%3e%3c!--!Font%20Awesome%20Free%206.5.1%20by%20@fontawesome%20-%20https://fontawesome.com%20License%20-%20https://fontawesome.com/license/free%20Copyright%202023%20Fonticons,%20Inc.--%3e%3cpath%20fill='%23ffffff'%20d='M137.4%20374.6c12.5%2012.5%2032.8%2012.5%2045.3%200l128-128c9.2-9.2%2011.9-22.9%206.9-34.9s-16.6-19.8-29.6-19.8L32%20192c-12.9%200-24.6%207.8-29.6%2019.8s-2.2%2025.7%206.9%2034.9l128%20128z'/%3e%3c/svg%3e",Gw=()=>{};var lv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},Qw=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},rE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,E=u>>2,w=(u&3)<<4|m>>4;let b=(m&15)<<2|g>>6,M=g&63;p||(M=64,f||(b=64)),s.push(n[E],n[w],n[b],n[M])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(iE(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):Qw(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const w=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||w==null)throw new Kw;const b=u<<2|m>>4;if(s.push(b),g!==64){const M=m<<4&240|g>>2;if(s.push(M),w!==64){const V=g<<6&192|w;s.push(V)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Kw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Yw=function(r){const t=iE(r);return rE.encodeByteArray(t,!0)},ih=function(r){return Yw(r).replace(/\./g,"")},sE=function(r){try{return rE.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww=()=>Xw().__FIREBASE_DEFAULTS__,Zw=()=>{if(typeof process>"u"||typeof lv>"u")return;const r=lv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},$w=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&sE(r[1]);return t&&JSON.parse(t)},Rh=()=>{try{return Gw()||Ww()||Zw()||$w()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},aE=r=>{var t,n;return(n=(t=Rh())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[r]},Jw=r=>{const t=aE(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},oE=()=>{var r;return(r=Rh())===null||r===void 0?void 0:r.config},lE=r=>{var t;return(t=Rh())===null||t===void 0?void 0:t[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $l(r){return r.endsWith(".cloudworkstations.dev")}async function uE(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eS(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[ih(JSON.stringify(n)),ih(JSON.stringify(f)),""].join(".")}const xl={};function nS(){const r={prod:[],emulator:[]};for(const t of Object.keys(xl))xl[t]?r.emulator.push(t):r.prod.push(t);return r}function iS(r){let t=document.getElementById(r),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),n=!0),{created:n,element:t}}let uv=!1;function cE(r,t){if(typeof window>"u"||typeof document>"u"||!$l(window.location.host)||xl[r]===t||xl[r]||uv)return;xl[r]=t;function n(b){return`__firebase__banner__${b}`}const s="__firebase__banner",u=nS().prod.length>0;function f(){const b=document.getElementById(s);b&&b.remove()}function m(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function p(b,M){b.setAttribute("width","24"),b.setAttribute("id",M),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function g(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{uv=!0,f()},b}function E(b,M){b.setAttribute("id",M),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function w(){const b=iS(s),M=n("text"),V=document.getElementById(M)||document.createElement("span"),j=n("learnmore"),B=document.getElementById(j)||document.createElement("a"),Q=n("preprendIcon"),q=document.getElementById(Q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const Y=b.element;m(Y),E(B,j);const it=g();p(q,Q),Y.append(q,V,B,it),document.body.appendChild(Y)}u?(V.innerText="Preview backend disconnected.",q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,V.innerText="Preview backend running in this workspace."),V.setAttribute("id",M)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ze(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function rS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ze())}function sS(){var r;const t=(r=Rh())===null||r===void 0?void 0:r.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function aS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function oS(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function lS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function uS(){const r=Ze();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function cS(){return!sS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function hS(){try{return typeof indexedDB=="object"}catch{return!1}}function fS(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;t(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dS="FirebaseError";class rr extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=dS,Object.setPrototypeOf(this,rr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Jl.prototype.create)}}class Jl{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?mS(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new rr(o,m,s)}}function mS(r,t){return r.replace(pS,(n,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const pS=/\{\$([^}]+)}/g;function gS(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Fs(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=t[o];if(cv(u)&&cv(f)){if(!Fs(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function cv(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tu(r){const t=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function Il(r){const t={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");t[decodeURIComponent(o)]=decodeURIComponent(u)}}),t}function Cl(r){const t=r.indexOf("?");if(!t)return"";const n=r.indexOf("#",t);return r.substring(t,n>0?n:void 0)}function yS(r,t){const n=new _S(r,t);return n.subscribe.bind(n)}class _S{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let o;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");vS(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:s},o.next===void 0&&(o.next=tm),o.error===void 0&&(o.error=tm),o.complete===void 0&&(o.complete=tm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function vS(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function tm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(r){return r&&r._delegate?r._delegate:r}class Gs{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new tS;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(AS(t))try{this.getOrInitializeService({instanceIdentifier:Bs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=Bs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Bs){return this.instances.has(t)}getOptions(t=Bs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(t,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(t),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&t(f,o),()=>{u.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:TS(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Bs){return this.component?this.component.multipleInstances?t:Bs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function TS(r){return r===Bs?void 0:r}function AS(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new ES(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(xt||(xt={}));const wS={debug:xt.DEBUG,verbose:xt.VERBOSE,info:xt.INFO,warn:xt.WARN,error:xt.ERROR,silent:xt.SILENT},SS=xt.INFO,RS={[xt.DEBUG]:"log",[xt.VERBOSE]:"log",[xt.INFO]:"info",[xt.WARN]:"warn",[xt.ERROR]:"error"},IS=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),o=RS[t];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Jm{constructor(t){this.name=t,this._logLevel=SS,this._logHandler=IS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in xt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?wS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,xt.DEBUG,...t),this._logHandler(this,xt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,xt.VERBOSE,...t),this._logHandler(this,xt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,xt.INFO,...t),this._logHandler(this,xt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,xt.WARN,...t),this._logHandler(this,xt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,xt.ERROR,...t),this._logHandler(this,xt.ERROR,...t)}}const CS=(r,t)=>t.some(n=>r instanceof n);let hv,fv;function DS(){return hv||(hv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function OS(){return fv||(fv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const hE=new WeakMap,dm=new WeakMap,fE=new WeakMap,em=new WeakMap,tp=new WeakMap;function NS(r){const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Kr(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&hE.set(n,r)}).catch(()=>{}),tp.set(t,r),t}function xS(r){if(dm.has(r))return;const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});dm.set(r,t)}let mm={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return dm.get(r);if(t==="objectStoreNames")return r.objectStoreNames||fE.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Kr(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function MS(r){mm=r(mm)}function VS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call(nm(this),t,...n);return fE.set(s,t.sort?t.sort():[t]),Kr(s)}:OS().includes(r)?function(...t){return r.apply(nm(this),t),Kr(hE.get(this))}:function(...t){return Kr(r.apply(nm(this),t))}}function kS(r){return typeof r=="function"?VS(r):(r instanceof IDBTransaction&&xS(r),CS(r,DS())?new Proxy(r,mm):r)}function Kr(r){if(r instanceof IDBRequest)return NS(r);if(em.has(r))return em.get(r);const t=kS(r);return t!==r&&(em.set(r,t),tp.set(t,r)),t}const nm=r=>tp.get(r);function PS(r,t,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,t),m=Kr(f);return s&&f.addEventListener("upgradeneeded",p=>{s(Kr(f.result),p.oldVersion,p.newVersion,Kr(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const LS=["get","getKey","getAll","getAllKeys","count"],US=["put","add","delete","clear"],im=new Map;function dv(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(im.get(t))return im.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=US.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||LS.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return im.set(t,u),u}MS(r=>({...r,get:(t,n,s)=>dv(t,n)||r.get(t,n,s),has:(t,n)=>!!dv(t,n)||r.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(BS(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function BS(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const pm="@firebase/app",mv="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ji=new Jm("@firebase/app"),jS="@firebase/app-compat",HS="@firebase/analytics-compat",qS="@firebase/analytics",FS="@firebase/app-check-compat",GS="@firebase/app-check",QS="@firebase/auth",KS="@firebase/auth-compat",YS="@firebase/database",XS="@firebase/data-connect",WS="@firebase/database-compat",ZS="@firebase/functions",$S="@firebase/functions-compat",JS="@firebase/installations",tR="@firebase/installations-compat",eR="@firebase/messaging",nR="@firebase/messaging-compat",iR="@firebase/performance",rR="@firebase/performance-compat",sR="@firebase/remote-config",aR="@firebase/remote-config-compat",oR="@firebase/storage",lR="@firebase/storage-compat",uR="@firebase/firestore",cR="@firebase/ai",hR="@firebase/firestore-compat",fR="firebase",dR="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gm="[DEFAULT]",mR={[pm]:"fire-core",[jS]:"fire-core-compat",[qS]:"fire-analytics",[HS]:"fire-analytics-compat",[GS]:"fire-app-check",[FS]:"fire-app-check-compat",[QS]:"fire-auth",[KS]:"fire-auth-compat",[YS]:"fire-rtdb",[XS]:"fire-data-connect",[WS]:"fire-rtdb-compat",[ZS]:"fire-fn",[$S]:"fire-fn-compat",[JS]:"fire-iid",[tR]:"fire-iid-compat",[eR]:"fire-fcm",[nR]:"fire-fcm-compat",[iR]:"fire-perf",[rR]:"fire-perf-compat",[sR]:"fire-rc",[aR]:"fire-rc-compat",[oR]:"fire-gcs",[lR]:"fire-gcs-compat",[uR]:"fire-fst",[hR]:"fire-fst-compat",[cR]:"fire-vertex","fire-js":"fire-js",[fR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rh=new Map,pR=new Map,ym=new Map;function pv(r,t){try{r.container.addComponent(t)}catch(n){Ji.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function to(r){const t=r.name;if(ym.has(t))return Ji.debug(`There were multiple attempts to register component ${t}.`),!1;ym.set(t,r);for(const n of rh.values())pv(n,r);for(const n of pR.values())pv(n,r);return!0}function ep(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function _n(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Yr=new Jl("app","Firebase",gR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(t,n,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Gs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Yr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const co=dR;function dE(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s=Object.assign({name:gm,automaticDataCollectionEnabled:!0},t),o=s.name;if(typeof o!="string"||!o)throw Yr.create("bad-app-name",{appName:String(o)});if(n||(n=oE()),!n)throw Yr.create("no-options");const u=rh.get(o);if(u){if(Fs(n,u.options)&&Fs(s,u.config))return u;throw Yr.create("duplicate-app",{appName:o})}const f=new bS(o);for(const p of ym.values())f.addComponent(p);const m=new yR(n,s,f);return rh.set(o,m),m}function mE(r=gm){const t=rh.get(r);if(!t&&r===gm&&oE())return dE();if(!t)throw Yr.create("no-app",{appName:r});return t}function Xr(r,t,n){var s;let o=(s=mR[r])!==null&&s!==void 0?s:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=t.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${t}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ji.warn(m.join(" "));return}to(new Gs(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R="firebase-heartbeat-database",vR=1,zl="firebase-heartbeat-store";let rm=null;function pE(){return rm||(rm=PS(_R,vR,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(zl)}catch(n){console.warn(n)}}}}).catch(r=>{throw Yr.create("idb-open",{originalErrorMessage:r.message})})),rm}async function ER(r){try{const n=(await pE()).transaction(zl),s=await n.objectStore(zl).get(gE(r));return await n.done,s}catch(t){if(t instanceof rr)Ji.warn(t.message);else{const n=Yr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Ji.warn(n.message)}}}async function gv(r,t){try{const s=(await pE()).transaction(zl,"readwrite");await s.objectStore(zl).put(t,gE(r)),await s.done}catch(n){if(n instanceof rr)Ji.warn(n.message);else{const s=Yr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ji.warn(s.message)}}}function gE(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TR=1024,AR=30;class bR{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new SR(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=yv();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>AR){const f=RR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Ji.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=yv(),{heartbeatsToSend:s,unsentEntries:o}=wR(this._heartbeatsCache.heartbeats),u=ih(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return Ji.warn(n),""}}}function yv(){return new Date().toISOString().substring(0,10)}function wR(r,t=TR){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),_v(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),_v(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class SR{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return hS()?fS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await ER(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return gv(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return gv(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function _v(r){return ih(JSON.stringify({version:2,heartbeats:r})).length}function RR(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IR(r){to(new Gs("platform-logger",t=>new zS(t),"PRIVATE")),to(new Gs("heartbeat",t=>new bR(t),"PRIVATE")),Xr(pm,mv,r),Xr(pm,mv,"esm2017"),Xr("fire-js","")}IR("");var CR="firebase",DR="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xr(CR,DR,"app");function np(r,t){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&t.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n}function yE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const OR=yE,_E=new Jl("auth","Firebase",yE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sh=new Jm("@firebase/auth");function NR(r,...t){sh.logLevel<=xt.WARN&&sh.warn(`Auth (${co}): ${r}`,...t)}function Qc(r,...t){sh.logLevel<=xt.ERROR&&sh.error(`Auth (${co}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(r,...t){throw rp(r,...t)}function Kn(r,...t){return rp(r,...t)}function ip(r,t,n){const s=Object.assign(Object.assign({},OR()),{[t]:n});return new Jl("auth","Firebase",s).create(t,{appName:r.name})}function Wi(r){return ip(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function xR(r,t,n){const s=n;if(!(t instanceof s))throw s.name!==t.constructor.name&&Un(r,"argument-error"),ip(r,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function rp(r,...t){if(typeof r!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return _E.create(r,...t)}function Et(r,t,...n){if(!r)throw rp(t,...n)}function Ki(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Qc(t),new Error(t)}function tr(r,t){r||Ki(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _m(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function MR(){return vv()==="http:"||vv()==="https:"}function vv(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(MR()||oS()||"connection"in navigator)?navigator.onLine:!0}function kR(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(t,n){this.shortDelay=t,this.longDelay=n,tr(n>t,"Short delay should be less than long delay!"),this.isMobile=rS()||lS()}get(){return VR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sp(r,t){tr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ki("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ki("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ki("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],UR=new eu(3e4,6e4);function ss(r,t){return r.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:r.tenantId}):t}async function as(r,t,n,s,o={}){return EE(r,o,async()=>{let u={},f={};s&&(t==="GET"?f=s:u={body:JSON.stringify(s)});const m=tu(Object.assign({key:r.config.apiKey},f)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g=Object.assign({method:t,headers:p},u);return aS()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&$l(r.emulatorConfig.host)&&(g.credentials="include"),vE.fetch()(await TE(r,r.config.apiHost,n,m),g)})}async function EE(r,t,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},PR),t);try{const o=new BR(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw kc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw kc(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw kc(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw kc(r,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw ip(r,E,g);Un(r,E)}}catch(o){if(o instanceof rr)throw o;Un(r,"network-request-failed",{message:String(o)})}}async function nu(r,t,n,s,o={}){const u=await as(r,t,n,s,o);return"mfaPendingCredential"in u&&Un(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function TE(r,t,n,s){const o=`${t}${n}?${s}`,u=r,f=u.config.emulator?sp(r.config,o):`${r.config.apiScheme}://${o}`;return LR.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function zR(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class BR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Kn(this.auth,"network-request-failed")),UR.get())})}}function kc(r,t,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Kn(r,t,s);return o.customData._tokenResponse=n,o}function Ev(r){return r!==void 0&&r.enterprise!==void 0}class jR{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return zR(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function HR(r,t){return as(r,"GET","/v2/recaptchaConfig",ss(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qR(r,t){return as(r,"POST","/v1/accounts:delete",t)}async function ah(r,t){return as(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ml(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function FR(r,t=!1){const n=an(r),s=await n.getIdToken(t),o=ap(s);Et(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Ml(sm(o.auth_time)),issuedAtTime:Ml(sm(o.iat)),expirationTime:Ml(sm(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function sm(r){return Number(r)*1e3}function ap(r){const[t,n,s]=r.split(".");if(t===void 0||n===void 0||s===void 0)return Qc("JWT malformed, contained fewer than 3 sections"),null;try{const o=sE(n);return o?JSON.parse(o):(Qc("Failed to decode base64 JWT payload"),null)}catch(o){return Qc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Tv(r){const t=ap(r);return Et(t,"internal-error"),Et(typeof t.exp<"u","internal-error"),Et(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bl(r,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof rr&&GR(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function GR({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ml(this.lastLoginAt),this.creationTime=Ml(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oh(r){var t;const n=r.auth,s=await r.getIdToken(),o=await Bl(r,ah(n,{idToken:s}));Et(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const f=!((t=u.providerUserInfo)===null||t===void 0)&&t.length?AE(u.providerUserInfo):[],m=YR(r.providerData,f),p=r.isAnonymous,g=!(r.email&&u.passwordHash)&&!(m!=null&&m.length),E=p?g:!1,w={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new vm(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(r,w)}async function KR(r){const t=an(r);await oh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function YR(r,t){return[...r.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function AE(r){return r.map(t=>{var{providerId:n}=t,s=np(t,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XR(r,t){const n=await EE(r,{},async()=>{const s=tu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await TE(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",vE.fetch()(f,{method:"POST",headers:m,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function WR(r,t){return as(r,"POST","/v2/accounts:revokeToken",ss(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Et(t.idToken,"internal-error"),Et(typeof t.idToken<"u","internal-error"),Et(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Tv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Et(t.length!==0,"internal-error");const n=Tv(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Et(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await XR(t,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new Wa;return s&&(Et(typeof s=="string","internal-error",{appName:t}),f.refreshToken=s),o&&(Et(typeof o=="string","internal-error",{appName:t}),f.accessToken=o),u&&(Et(typeof u=="number","internal-error",{appName:t}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Wa,this.toJSON())}_performRefresh(){return Ki("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hr(r,t){Et(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Gn{constructor(t){var{uid:n,auth:s,stsTokenManager:o}=t,u=np(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new QR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new vm(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(t){const n=await Bl(this,this.stsTokenManager.getToken(this.auth,t));return Et(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return FR(this,t)}reload(){return KR(this)}_assign(t){this!==t&&(Et(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Gn(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){Et(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await oh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_n(this.auth.app))return Promise.reject(Wi(this.auth));const t=await this.getIdToken();return await Bl(this,qR(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var s,o,u,f,m,p,g,E;const w=(s=n.displayName)!==null&&s!==void 0?s:void 0,b=(o=n.email)!==null&&o!==void 0?o:void 0,M=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,V=(f=n.photoURL)!==null&&f!==void 0?f:void 0,j=(m=n.tenantId)!==null&&m!==void 0?m:void 0,B=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,Q=(g=n.createdAt)!==null&&g!==void 0?g:void 0,q=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:Y,emailVerified:it,isAnonymous:st,providerData:mt,stsTokenManager:O}=n;Et(Y&&O,t,"internal-error");const R=Wa.fromJSON(this.name,O);Et(typeof Y=="string",t,"internal-error"),Hr(w,t.name),Hr(b,t.name),Et(typeof it=="boolean",t,"internal-error"),Et(typeof st=="boolean",t,"internal-error"),Hr(M,t.name),Hr(V,t.name),Hr(j,t.name),Hr(B,t.name),Hr(Q,t.name),Hr(q,t.name);const S=new Gn({uid:Y,auth:t,email:b,emailVerified:it,displayName:w,isAnonymous:st,photoURL:V,phoneNumber:M,tenantId:j,stsTokenManager:R,createdAt:Q,lastLoginAt:q});return mt&&Array.isArray(mt)&&(S.providerData=mt.map(C=>Object.assign({},C))),B&&(S._redirectEventId=B),S}static async _fromIdTokenResponse(t,n,s=!1){const o=new Wa;o.updateFromServerResponse(n);const u=new Gn({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await oh(u),u}static async _fromGetAccountInfoResponse(t,n,s){const o=n.users[0];Et(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?AE(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new Wa;m.updateFromIdToken(s);const p=new Gn({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new vm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av=new Map;function Yi(r){tr(r instanceof Function,"Expected a class definition");let t=Av.get(r);return t?(tr(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,Av.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}bE.type="NONE";const bv=bE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kc(r,t,n){return`firebase:${r}:${t}:${n}`}class Za{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Kc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Kc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await ah(this.auth,{idToken:t}).catch(()=>{});return n?Gn._fromGetAccountInfoResponse(this.auth,n,t):null}return Gn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new Za(Yi(bv),t,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Yi(bv);const f=Kc(s,t.config.apiKey,t.name);let m=null;for(const g of n)try{const E=await g._get(f);if(E){let w;if(typeof E=="string"){const b=await ah(t,{idToken:E}).catch(()=>{});if(!b)break;w=await Gn._fromGetAccountInfoResponse(t,b,E)}else w=Gn._fromJSON(t,E);g!==u&&(m=w),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Za(u,t,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new Za(u,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wv(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(IE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(wE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(DE(t))return"Blackberry";if(OE(t))return"Webos";if(SE(t))return"Safari";if((t.includes("chrome/")||RE(t))&&!t.includes("edge/"))return"Chrome";if(CE(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function wE(r=Ze()){return/firefox\//i.test(r)}function SE(r=Ze()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function RE(r=Ze()){return/crios\//i.test(r)}function IE(r=Ze()){return/iemobile/i.test(r)}function CE(r=Ze()){return/android/i.test(r)}function DE(r=Ze()){return/blackberry/i.test(r)}function OE(r=Ze()){return/webos/i.test(r)}function op(r=Ze()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function ZR(r=Ze()){var t;return op(r)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function $R(){return uS()&&document.documentMode===10}function NE(r=Ze()){return op(r)||CE(r)||OE(r)||DE(r)||/windows phone/i.test(r)||IE(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xE(r,t=[]){let n;switch(r){case"Browser":n=wv(Ze());break;case"Worker":n=`${wv(Ze())}-${r}`;break;default:n=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${co}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=u=>new Promise((f,m)=>{try{const p=t(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t2(r,t={}){return as(r,"GET","/v2/passwordPolicy",ss(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e2=6;class n2{constructor(t){var n,s,o,u;const f=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:e2,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=t.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=t.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,s,o,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,p),this.validatePasswordCharacterOptions(t,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(t,n,s,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Sv(this),this.idTokenSubscription=new Sv(this),this.beforeStateQueue=new JR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_E,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Yi(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await Za.create(this,t),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await ah(this,{idToken:t}),s=await Gn._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(_n(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(t);(!f||f===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Et(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await oh(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=kR()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(_n(this.app))return Promise.reject(Wi(this));const n=t?an(t):null;return n&&Et(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Et(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return _n(this.app)?Promise.reject(Wi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return _n(this.app)?Promise.reject(Wi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Yi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await t2(this),n=new n2(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Jl("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await WR(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Yi(t)||this._popupRedirectResolver;Et(n,this,"argument-error"),this.redirectPersistenceManager=await Za.create(this,[Yi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Et(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=t.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=t.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Et(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=xE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var t;if(_n(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&NR(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function os(r){return an(r)}class Sv{constructor(t){this.auth=t,this.observer=null,this.addObserver=yS(n=>this.observer=n)}get next(){return Et(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ih={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function r2(r){Ih=r}function ME(r){return Ih.loadJS(r)}function s2(){return Ih.recaptchaEnterpriseScript}function a2(){return Ih.gapiScript}function o2(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class l2{constructor(){this.enterprise=new u2}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class u2{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const c2="recaptcha-enterprise",VE="NO_RECAPTCHA";class h2{constructor(t){this.type=c2,this.auth=os(t)}async verify(t="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{HR(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new jR(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,f(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;Ev(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:t}).then(g=>{f(g)}).catch(()=>{f(VE)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new l2().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&Ev(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=s2();p.length!==0&&(p+=m),ME(p).then(()=>{o(m,u,f)}).catch(g=>{f(g)})}}).catch(m=>{f(m)})})}}async function Rv(r,t,n,s=!1,o=!1){const u=new h2(r);let f;if(o)f=VE;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m=Object.assign({},t);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Em(r,t,n,s,o){var u;if(!((u=r._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await Rv(r,t,n,n==="getOobCode");return s(r,f)}else return s(r,t).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await Rv(r,t,n,n==="getOobCode");return s(r,m)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f2(r,t){const n=ep(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Fs(u,t??{}))return o;Un(o,"already-initialized")}return n.initialize({options:t})}function d2(r,t){const n=(t==null?void 0:t.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Yi);t!=null&&t.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t==null?void 0:t.popupRedirectResolver)}function m2(r,t,n){const s=os(r);Et(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,u=kE(t),{host:f,port:m}=p2(t),p=m===null?"":`:${m}`,g={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Et(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Et(Fs(g,s.config.emulator)&&Fs(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,$l(f)?(uE(`${u}//${f}${p}`),cE("Auth",!0)):g2()}function kE(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function p2(r){const t=kE(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:Iv(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:Iv(f)}}}function Iv(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function g2(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Ki("not implemented")}_getIdTokenResponse(t){return Ki("not implemented")}_linkToIdToken(t,n){return Ki("not implemented")}_getReauthenticationResolver(t){return Ki("not implemented")}}async function y2(r,t){return as(r,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _2(r,t){return nu(r,"POST","/v1/accounts:signInWithPassword",ss(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v2(r,t){return nu(r,"POST","/v1/accounts:signInWithEmailLink",ss(r,t))}async function E2(r,t){return nu(r,"POST","/v1/accounts:signInWithEmailLink",ss(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl extends lp{constructor(t,n,s,o=null){super("password",s),this._email=t,this._password=n,this._tenantId=o}static _fromEmailAndPassword(t,n){return new jl(t,n,"password")}static _fromEmailAndCode(t,n,s=null){return new jl(t,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Em(t,n,"signInWithPassword",_2);case"emailLink":return v2(t,{email:this._email,oobCode:this._password});default:Un(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Em(t,s,"signUpPassword",y2);case"emailLink":return E2(t,{idToken:n,email:this._email,oobCode:this._password});default:Un(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $a(r,t){return nu(r,"POST","/v1/accounts:signInWithIdp",ss(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T2="http://localhost";class Qs extends lp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Qs(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Un("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o}=n,u=np(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new Qs(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return $a(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,$a(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,$a(t,n)}buildRequest(){const t={requestUri:T2,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=tu(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A2(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function b2(r){const t=Il(Cl(r)).link,n=t?Il(Cl(t)).deep_link_id:null,s=Il(Cl(r)).deep_link_id;return(s?Il(Cl(s)).link:null)||s||n||t||r}class up{constructor(t){var n,s,o,u,f,m;const p=Il(Cl(t)),g=(n=p.apiKey)!==null&&n!==void 0?n:null,E=(s=p.oobCode)!==null&&s!==void 0?s:null,w=A2((o=p.mode)!==null&&o!==void 0?o:null);Et(g&&E&&w,"argument-error"),this.apiKey=g,this.operation=w,this.code=E,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=p.lang)!==null&&f!==void 0?f:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(t){const n=b2(t);try{return new up(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(){this.providerId=ho.PROVIDER_ID}static credential(t,n){return jl._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const s=up.parseLink(n);return Et(s,"argument-error"),jl._fromEmailAndCode(t,s.code,s.tenantId)}}ho.PROVIDER_ID="password";ho.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ho.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu extends cp{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr extends iu{constructor(){super("facebook.com")}static credential(t){return Qs._fromParams({providerId:qr.PROVIDER_ID,signInMethod:qr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return qr.credentialFromTaggedObject(t)}static credentialFromError(t){return qr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return qr.credential(t.oauthAccessToken)}catch{return null}}}qr.FACEBOOK_SIGN_IN_METHOD="facebook.com";qr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi extends iu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Qs._fromParams({providerId:Qi.PROVIDER_ID,signInMethod:Qi.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Qi.credentialFromTaggedObject(t)}static credentialFromError(t){return Qi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return Qi.credential(n,s)}catch{return null}}}Qi.GOOGLE_SIGN_IN_METHOD="google.com";Qi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr extends iu{constructor(){super("github.com")}static credential(t){return Qs._fromParams({providerId:Fr.PROVIDER_ID,signInMethod:Fr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Fr.credentialFromTaggedObject(t)}static credentialFromError(t){return Fr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Fr.credential(t.oauthAccessToken)}catch{return null}}}Fr.GITHUB_SIGN_IN_METHOD="github.com";Fr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr extends iu{constructor(){super("twitter.com")}static credential(t,n){return Qs._fromParams({providerId:Gr.PROVIDER_ID,signInMethod:Gr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Gr.credentialFromTaggedObject(t)}static credentialFromError(t){return Gr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return Gr.credential(n,s)}catch{return null}}}Gr.TWITTER_SIGN_IN_METHOD="twitter.com";Gr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w2(r,t){return nu(r,"POST","/v1/accounts:signUp",ss(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,o=!1){const u=await Gn._fromIdTokenResponse(t,s,o),f=Cv(s);return new Ks({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const o=Cv(s);return new Ks({user:t,providerId:o,_tokenResponse:s,operationType:n})}}function Cv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh extends rr{constructor(t,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,lh.prototype),this.customData={appName:t.name,tenantId:(u=t.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,o){return new lh(t,n,s,o)}}function PE(r,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?lh._fromErrorAndOperation(r,u,t,s):u})}async function S2(r,t,n=!1){const s=await Bl(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return Ks._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R2(r,t,n=!1){const{auth:s}=r;if(_n(s.app))return Promise.reject(Wi(s));const o="reauthenticate";try{const u=await Bl(r,PE(s,o,t,r),n);Et(u.idToken,s,"internal-error");const f=ap(u.idToken);Et(f,s,"internal-error");const{sub:m}=f;return Et(r.uid===m,s,"user-mismatch"),Ks._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Un(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LE(r,t,n=!1){if(_n(r.app))return Promise.reject(Wi(r));const s="signIn",o=await PE(r,s,t),u=await Ks._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function I2(r,t){return LE(os(r),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UE(r){const t=os(r);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function C2(r,t,n){if(_n(r.app))return Promise.reject(Wi(r));const s=os(r),f=await Em(s,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",w2).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&UE(r),p}),m=await Ks._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function D2(r,t,n){return _n(r.app)?Promise.reject(Wi(r)):I2(an(r),ho.credential(t,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&UE(r),s})}function O2(r,t,n,s){return an(r).onIdTokenChanged(t,n,s)}function N2(r,t,n){return an(r).beforeAuthStateChanged(t,n)}function x2(r,t,n,s){return an(r).onAuthStateChanged(t,n,s)}function M2(r){return an(r).signOut()}const uh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(uh,"1"),this.storage.removeItem(uh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V2=1e3,k2=10;class BE extends zE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=NE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&t(n,o,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);$R()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,k2):o()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},V2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}BE.type="LOCAL";const P2=BE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE extends zE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}jE.type="SESSION";const HE=jE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L2(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const s=new Ch(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),p=await L2(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ch.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hp(r="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const g=hp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(w){const b=w;if(b.data.eventId===g)switch(b.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(b.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fi(){return window}function z2(r){fi().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qE(){return typeof fi().WorkerGlobalScope<"u"&&typeof fi().importScripts=="function"}async function B2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function j2(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function H2(){return qE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE="firebaseLocalStorageDb",q2=1,ch="firebaseLocalStorage",GE="fbase_key";class ru{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Dh(r,t){return r.transaction([ch],t?"readwrite":"readonly").objectStore(ch)}function F2(){const r=indexedDB.deleteDatabase(FE);return new ru(r).toPromise()}function Tm(){const r=indexedDB.open(FE,q2);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(ch,{keyPath:GE})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(ch)?t(s):(s.close(),await F2(),t(await Tm()))})})}async function Dv(r,t,n){const s=Dh(r,!0).put({[GE]:t,value:n});return new ru(s).toPromise()}async function G2(r,t){const n=Dh(r,!1).get(t),s=await new ru(n).toPromise();return s===void 0?null:s.value}function Ov(r,t){const n=Dh(r,!0).delete(t);return new ru(n).toPromise()}const Q2=800,K2=3;class QE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Tm(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>K2)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return qE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ch._getInstance(H2()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await B2(),!this.activeServiceWorker)return;this.sender=new U2(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((t=s[0])===null||t===void 0)&&t.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||j2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Tm();return await Dv(t,uh,"1"),await Ov(t,uh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Dv(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>G2(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Ov(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=Dh(o,!1).getAll();return new ru(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Q2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}QE.type="LOCAL";const Y2=QE;new eu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KE(r,t){return t?Yi(t):(Et(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp extends lp{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return $a(t,this._buildIdpRequest())}_linkToIdToken(t,n){return $a(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return $a(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function X2(r){return LE(r.auth,new fp(r),r.bypassAuthState)}function W2(r){const{auth:t,user:n}=r;return Et(n,t,"internal-error"),R2(n,new fp(r),r.bypassAuthState)}async function Z2(r){const{auth:t,user:n}=r;return Et(n,t,"internal-error"),S2(n,new fp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(t,n,s,o,u=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=t;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return X2;case"linkViaPopup":case"linkViaRedirect":return Z2;case"reauthViaPopup":case"reauthViaRedirect":return W2;default:Un(this.auth,"internal-error")}}resolve(t){tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2=new eu(2e3,1e4);async function J2(r,t,n){if(_n(r.app))return Promise.reject(Kn(r,"operation-not-supported-in-this-environment"));const s=os(r);xR(r,t,cp);const o=KE(s,n);return new js(s,"signInViaPopup",t,o).executeNotNull()}class js extends YE{constructor(t,n,s,o,u){super(t,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,js.currentPopupAction&&js.currentPopupAction.cancel(),js.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Et(t,this.auth,"internal-error"),t}async onExecution(){tr(this.filter.length===1,"Popup operations only handle one event");const t=hp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Kn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Kn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,js.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Kn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,$2.get())};t()}}js.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI="pendingRedirect",Yc=new Map;class eI extends YE{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=Yc.get(this.auth._key());if(!t){try{const s=await nI(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}Yc.set(this.auth._key(),t)}return this.bypassAuthState||Yc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function nI(r,t){const n=sI(t),s=rI(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function iI(r,t){Yc.set(r._key(),t)}function rI(r){return Yi(r._redirectPersistence)}function sI(r){return Kc(tI,r.config.apiKey,r.name)}async function aI(r,t,n=!1){if(_n(r.app))return Promise.reject(Wi(r));const s=os(r),o=KE(s,t),f=await new eI(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,t)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oI=10*60*1e3;class lI{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!uI(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var s;if(t.error&&!XE(t)){const o=((s=t.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(Kn(this.auth,o))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=oI&&this.cachedEventUids.clear(),this.cachedEventUids.has(Nv(t))}saveEventToCache(t){this.cachedEventUids.add(Nv(t)),this.lastProcessedEventTime=Date.now()}}function Nv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function XE({type:r,error:t}){return r==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function uI(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return XE(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cI(r,t={}){return as(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fI=/^https?/;async function dI(r){if(r.config.emulator)return;const{authorizedDomains:t}=await cI(r);for(const n of t)try{if(mI(n))return}catch{}Un(r,"unauthorized-domain")}function mI(r){const t=_m(),{protocol:n,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!fI.test(n))return!1;if(hI.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pI=new eu(3e4,6e4);function xv(){const r=fi().___jsl;if(r!=null&&r.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function gI(r){return new Promise((t,n)=>{var s,o,u;function f(){xv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{xv(),n(Kn(r,"network-request-failed"))},timeout:pI.get()})}if(!((o=(s=fi().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)t(gapi.iframes.getContext());else if(!((u=fi().gapi)===null||u===void 0)&&u.load)f();else{const m=o2("iframefcb");return fi()[m]=()=>{gapi.load?f():n(Kn(r,"network-request-failed"))},ME(`${a2()}?onload=${m}`).catch(p=>n(p))}}).catch(t=>{throw Xc=null,t})}let Xc=null;function yI(r){return Xc=Xc||gI(r),Xc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _I=new eu(5e3,15e3),vI="__/auth/iframe",EI="emulator/auth/iframe",TI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},AI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bI(r){const t=r.config;Et(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?sp(t,EI):`https://${r.config.authDomain}/${vI}`,s={apiKey:t.apiKey,appName:r.name,v:co},o=AI.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${tu(s).slice(1)}`}async function wI(r){const t=await yI(r),n=fi().gapi;return Et(n,r,"internal-error"),t.open({where:document.body,url:bI(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:TI,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Kn(r,"network-request-failed"),m=fi().setTimeout(()=>{u(f)},_I.get());function p(){fi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},RI=500,II=600,CI="_blank",DI="http://localhost";class Mv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function OI(r,t,n,s=RI,o=II){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},SI),{width:s.toString(),height:o.toString(),top:u,left:f}),g=Ze().toLowerCase();n&&(m=RE(g)?CI:n),wE(g)&&(t=t||DI,p.scrollbars="yes");const E=Object.entries(p).reduce((b,[M,V])=>`${b}${M}=${V},`,"");if(ZR(g)&&m!=="_self")return NI(t||"",m),new Mv(null);const w=window.open(t||"",m,E);Et(w,r,"popup-blocked");try{w.focus()}catch{}return new Mv(w)}function NI(r,t){const n=document.createElement("a");n.href=r,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xI="__/auth/handler",MI="emulator/auth/handler",VI=encodeURIComponent("fac");async function Vv(r,t,n,s,o,u){Et(r.config.authDomain,r,"auth-domain-config-required"),Et(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:co,eventId:o};if(t instanceof cp){t.setDefaultLanguage(r.languageCode),f.providerId=t.providerId||"",gS(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,w]of Object.entries({}))f[E]=w}if(t instanceof iu){const E=t.getScopes().filter(w=>w!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),g=p?`#${VI}=${encodeURIComponent(p)}`:"";return`${kI(r)}?${tu(m).slice(1)}${g}`}function kI({config:r}){return r.emulator?sp(r,MI):`https://${r.authDomain}/${xI}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const am="webStorageSupport";class PI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=HE,this._completeRedirectFn=aI,this._overrideRedirectResult=iI}async _openPopup(t,n,s,o){var u;tr((u=this.eventManagers[t._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await Vv(t,n,s,_m(),o);return OI(t,f,hp())}async _openRedirect(t,n,s,o){await this._originValidation(t);const u=await Vv(t,n,s,_m(),o);return z2(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(tr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await wI(t),s=new lI(t);return n.register("authEvent",o=>(Et(o==null?void 0:o.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(am,{type:am},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[am];f!==void 0&&n(!!f),Un(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=dI(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return NE()||SE()||op()}}const LI=PI;var kv="@firebase/auth",Pv="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Et(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zI(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function BI(r){to(new Gs("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Et(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xE(r)},g=new i2(s,o,u,p);return d2(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),to(new Gs("auth-internal",t=>{const n=os(t.getProvider("auth").getImmediate());return(s=>new UI(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xr(kv,Pv,zI(r)),Xr(kv,Pv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jI=5*60,HI=lE("authIdTokenMaxAge")||jI;let Lv=null;const qI=r=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>HI)return;const o=n==null?void 0:n.token;Lv!==o&&(Lv=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function FI(r=mE()){const t=ep(r,"auth");if(t.isInitialized())return t.getImmediate();const n=f2(r,{popupRedirectResolver:LI,persistence:[Y2,P2,HE]}),s=lE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=qI(u.toString());N2(n,f,()=>f(n.currentUser)),O2(n,m=>f(m))}}const o=aE("auth");return o&&m2(n,`http://${o}`),n}function GI(){var r,t;return(t=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&t!==void 0?t:document}r2({loadJS(r){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=o=>{const u=Kn("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",GI().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});BI("Browser");var Uv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Wr,WE;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(O,R){function S(){}S.prototype=R.prototype,O.D=R.prototype,O.prototype=new S,O.prototype.constructor=O,O.C=function(C,N,L){for(var D=Array(arguments.length-2),fe=2;fe<arguments.length;fe++)D[fe-2]=arguments[fe];return R.prototype[N].apply(C,D)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(O,R,S){S||(S=0);var C=Array(16);if(typeof R=="string")for(var N=0;16>N;++N)C[N]=R.charCodeAt(S++)|R.charCodeAt(S++)<<8|R.charCodeAt(S++)<<16|R.charCodeAt(S++)<<24;else for(N=0;16>N;++N)C[N]=R[S++]|R[S++]<<8|R[S++]<<16|R[S++]<<24;R=O.g[0],S=O.g[1],N=O.g[2];var L=O.g[3],D=R+(L^S&(N^L))+C[0]+3614090360&4294967295;R=S+(D<<7&4294967295|D>>>25),D=L+(N^R&(S^N))+C[1]+3905402710&4294967295,L=R+(D<<12&4294967295|D>>>20),D=N+(S^L&(R^S))+C[2]+606105819&4294967295,N=L+(D<<17&4294967295|D>>>15),D=S+(R^N&(L^R))+C[3]+3250441966&4294967295,S=N+(D<<22&4294967295|D>>>10),D=R+(L^S&(N^L))+C[4]+4118548399&4294967295,R=S+(D<<7&4294967295|D>>>25),D=L+(N^R&(S^N))+C[5]+1200080426&4294967295,L=R+(D<<12&4294967295|D>>>20),D=N+(S^L&(R^S))+C[6]+2821735955&4294967295,N=L+(D<<17&4294967295|D>>>15),D=S+(R^N&(L^R))+C[7]+4249261313&4294967295,S=N+(D<<22&4294967295|D>>>10),D=R+(L^S&(N^L))+C[8]+1770035416&4294967295,R=S+(D<<7&4294967295|D>>>25),D=L+(N^R&(S^N))+C[9]+2336552879&4294967295,L=R+(D<<12&4294967295|D>>>20),D=N+(S^L&(R^S))+C[10]+4294925233&4294967295,N=L+(D<<17&4294967295|D>>>15),D=S+(R^N&(L^R))+C[11]+2304563134&4294967295,S=N+(D<<22&4294967295|D>>>10),D=R+(L^S&(N^L))+C[12]+1804603682&4294967295,R=S+(D<<7&4294967295|D>>>25),D=L+(N^R&(S^N))+C[13]+4254626195&4294967295,L=R+(D<<12&4294967295|D>>>20),D=N+(S^L&(R^S))+C[14]+2792965006&4294967295,N=L+(D<<17&4294967295|D>>>15),D=S+(R^N&(L^R))+C[15]+1236535329&4294967295,S=N+(D<<22&4294967295|D>>>10),D=R+(N^L&(S^N))+C[1]+4129170786&4294967295,R=S+(D<<5&4294967295|D>>>27),D=L+(S^N&(R^S))+C[6]+3225465664&4294967295,L=R+(D<<9&4294967295|D>>>23),D=N+(R^S&(L^R))+C[11]+643717713&4294967295,N=L+(D<<14&4294967295|D>>>18),D=S+(L^R&(N^L))+C[0]+3921069994&4294967295,S=N+(D<<20&4294967295|D>>>12),D=R+(N^L&(S^N))+C[5]+3593408605&4294967295,R=S+(D<<5&4294967295|D>>>27),D=L+(S^N&(R^S))+C[10]+38016083&4294967295,L=R+(D<<9&4294967295|D>>>23),D=N+(R^S&(L^R))+C[15]+3634488961&4294967295,N=L+(D<<14&4294967295|D>>>18),D=S+(L^R&(N^L))+C[4]+3889429448&4294967295,S=N+(D<<20&4294967295|D>>>12),D=R+(N^L&(S^N))+C[9]+568446438&4294967295,R=S+(D<<5&4294967295|D>>>27),D=L+(S^N&(R^S))+C[14]+3275163606&4294967295,L=R+(D<<9&4294967295|D>>>23),D=N+(R^S&(L^R))+C[3]+4107603335&4294967295,N=L+(D<<14&4294967295|D>>>18),D=S+(L^R&(N^L))+C[8]+1163531501&4294967295,S=N+(D<<20&4294967295|D>>>12),D=R+(N^L&(S^N))+C[13]+2850285829&4294967295,R=S+(D<<5&4294967295|D>>>27),D=L+(S^N&(R^S))+C[2]+4243563512&4294967295,L=R+(D<<9&4294967295|D>>>23),D=N+(R^S&(L^R))+C[7]+1735328473&4294967295,N=L+(D<<14&4294967295|D>>>18),D=S+(L^R&(N^L))+C[12]+2368359562&4294967295,S=N+(D<<20&4294967295|D>>>12),D=R+(S^N^L)+C[5]+4294588738&4294967295,R=S+(D<<4&4294967295|D>>>28),D=L+(R^S^N)+C[8]+2272392833&4294967295,L=R+(D<<11&4294967295|D>>>21),D=N+(L^R^S)+C[11]+1839030562&4294967295,N=L+(D<<16&4294967295|D>>>16),D=S+(N^L^R)+C[14]+4259657740&4294967295,S=N+(D<<23&4294967295|D>>>9),D=R+(S^N^L)+C[1]+2763975236&4294967295,R=S+(D<<4&4294967295|D>>>28),D=L+(R^S^N)+C[4]+1272893353&4294967295,L=R+(D<<11&4294967295|D>>>21),D=N+(L^R^S)+C[7]+4139469664&4294967295,N=L+(D<<16&4294967295|D>>>16),D=S+(N^L^R)+C[10]+3200236656&4294967295,S=N+(D<<23&4294967295|D>>>9),D=R+(S^N^L)+C[13]+681279174&4294967295,R=S+(D<<4&4294967295|D>>>28),D=L+(R^S^N)+C[0]+3936430074&4294967295,L=R+(D<<11&4294967295|D>>>21),D=N+(L^R^S)+C[3]+3572445317&4294967295,N=L+(D<<16&4294967295|D>>>16),D=S+(N^L^R)+C[6]+76029189&4294967295,S=N+(D<<23&4294967295|D>>>9),D=R+(S^N^L)+C[9]+3654602809&4294967295,R=S+(D<<4&4294967295|D>>>28),D=L+(R^S^N)+C[12]+3873151461&4294967295,L=R+(D<<11&4294967295|D>>>21),D=N+(L^R^S)+C[15]+530742520&4294967295,N=L+(D<<16&4294967295|D>>>16),D=S+(N^L^R)+C[2]+3299628645&4294967295,S=N+(D<<23&4294967295|D>>>9),D=R+(N^(S|~L))+C[0]+4096336452&4294967295,R=S+(D<<6&4294967295|D>>>26),D=L+(S^(R|~N))+C[7]+1126891415&4294967295,L=R+(D<<10&4294967295|D>>>22),D=N+(R^(L|~S))+C[14]+2878612391&4294967295,N=L+(D<<15&4294967295|D>>>17),D=S+(L^(N|~R))+C[5]+4237533241&4294967295,S=N+(D<<21&4294967295|D>>>11),D=R+(N^(S|~L))+C[12]+1700485571&4294967295,R=S+(D<<6&4294967295|D>>>26),D=L+(S^(R|~N))+C[3]+2399980690&4294967295,L=R+(D<<10&4294967295|D>>>22),D=N+(R^(L|~S))+C[10]+4293915773&4294967295,N=L+(D<<15&4294967295|D>>>17),D=S+(L^(N|~R))+C[1]+2240044497&4294967295,S=N+(D<<21&4294967295|D>>>11),D=R+(N^(S|~L))+C[8]+1873313359&4294967295,R=S+(D<<6&4294967295|D>>>26),D=L+(S^(R|~N))+C[15]+4264355552&4294967295,L=R+(D<<10&4294967295|D>>>22),D=N+(R^(L|~S))+C[6]+2734768916&4294967295,N=L+(D<<15&4294967295|D>>>17),D=S+(L^(N|~R))+C[13]+1309151649&4294967295,S=N+(D<<21&4294967295|D>>>11),D=R+(N^(S|~L))+C[4]+4149444226&4294967295,R=S+(D<<6&4294967295|D>>>26),D=L+(S^(R|~N))+C[11]+3174756917&4294967295,L=R+(D<<10&4294967295|D>>>22),D=N+(R^(L|~S))+C[2]+718787259&4294967295,N=L+(D<<15&4294967295|D>>>17),D=S+(L^(N|~R))+C[9]+3951481745&4294967295,O.g[0]=O.g[0]+R&4294967295,O.g[1]=O.g[1]+(N+(D<<21&4294967295|D>>>11))&4294967295,O.g[2]=O.g[2]+N&4294967295,O.g[3]=O.g[3]+L&4294967295}s.prototype.u=function(O,R){R===void 0&&(R=O.length);for(var S=R-this.blockSize,C=this.B,N=this.h,L=0;L<R;){if(N==0)for(;L<=S;)o(this,O,L),L+=this.blockSize;if(typeof O=="string"){for(;L<R;)if(C[N++]=O.charCodeAt(L++),N==this.blockSize){o(this,C),N=0;break}}else for(;L<R;)if(C[N++]=O[L++],N==this.blockSize){o(this,C),N=0;break}}this.h=N,this.o+=R},s.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var R=1;R<O.length-8;++R)O[R]=0;var S=8*this.o;for(R=O.length-8;R<O.length;++R)O[R]=S&255,S/=256;for(this.u(O),O=Array(16),R=S=0;4>R;++R)for(var C=0;32>C;C+=8)O[S++]=this.g[R]>>>C&255;return O};function u(O,R){var S=m;return Object.prototype.hasOwnProperty.call(S,O)?S[O]:S[O]=R(O)}function f(O,R){this.h=R;for(var S=[],C=!0,N=O.length-1;0<=N;N--){var L=O[N]|0;C&&L==R||(S[N]=L,C=!1)}this.g=S}var m={};function p(O){return-128<=O&&128>O?u(O,function(R){return new f([R|0],0>R?-1:0)}):new f([O|0],0>O?-1:0)}function g(O){if(isNaN(O)||!isFinite(O))return w;if(0>O)return B(g(-O));for(var R=[],S=1,C=0;O>=S;C++)R[C]=O/S|0,S*=4294967296;return new f(R,0)}function E(O,R){if(O.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(O.charAt(0)=="-")return B(E(O.substring(1),R));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=g(Math.pow(R,8)),C=w,N=0;N<O.length;N+=8){var L=Math.min(8,O.length-N),D=parseInt(O.substring(N,N+L),R);8>L?(L=g(Math.pow(R,L)),C=C.j(L).add(g(D))):(C=C.j(S),C=C.add(g(D)))}return C}var w=p(0),b=p(1),M=p(16777216);r=f.prototype,r.m=function(){if(j(this))return-B(this).m();for(var O=0,R=1,S=0;S<this.g.length;S++){var C=this.i(S);O+=(0<=C?C:4294967296+C)*R,R*=4294967296}return O},r.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(V(this))return"0";if(j(this))return"-"+B(this).toString(O);for(var R=g(Math.pow(O,6)),S=this,C="";;){var N=it(S,R).g;S=Q(S,N.j(R));var L=((0<S.g.length?S.g[0]:S.h)>>>0).toString(O);if(S=N,V(S))return L+C;for(;6>L.length;)L="0"+L;C=L+C}},r.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function V(O){if(O.h!=0)return!1;for(var R=0;R<O.g.length;R++)if(O.g[R]!=0)return!1;return!0}function j(O){return O.h==-1}r.l=function(O){return O=Q(this,O),j(O)?-1:V(O)?0:1};function B(O){for(var R=O.g.length,S=[],C=0;C<R;C++)S[C]=~O.g[C];return new f(S,~O.h).add(b)}r.abs=function(){return j(this)?B(this):this},r.add=function(O){for(var R=Math.max(this.g.length,O.g.length),S=[],C=0,N=0;N<=R;N++){var L=C+(this.i(N)&65535)+(O.i(N)&65535),D=(L>>>16)+(this.i(N)>>>16)+(O.i(N)>>>16);C=D>>>16,L&=65535,D&=65535,S[N]=D<<16|L}return new f(S,S[S.length-1]&-2147483648?-1:0)};function Q(O,R){return O.add(B(R))}r.j=function(O){if(V(this)||V(O))return w;if(j(this))return j(O)?B(this).j(B(O)):B(B(this).j(O));if(j(O))return B(this.j(B(O)));if(0>this.l(M)&&0>O.l(M))return g(this.m()*O.m());for(var R=this.g.length+O.g.length,S=[],C=0;C<2*R;C++)S[C]=0;for(C=0;C<this.g.length;C++)for(var N=0;N<O.g.length;N++){var L=this.i(C)>>>16,D=this.i(C)&65535,fe=O.i(N)>>>16,ee=O.i(N)&65535;S[2*C+2*N]+=D*ee,q(S,2*C+2*N),S[2*C+2*N+1]+=L*ee,q(S,2*C+2*N+1),S[2*C+2*N+1]+=D*fe,q(S,2*C+2*N+1),S[2*C+2*N+2]+=L*fe,q(S,2*C+2*N+2)}for(C=0;C<R;C++)S[C]=S[2*C+1]<<16|S[2*C];for(C=R;C<2*R;C++)S[C]=0;return new f(S,0)};function q(O,R){for(;(O[R]&65535)!=O[R];)O[R+1]+=O[R]>>>16,O[R]&=65535,R++}function Y(O,R){this.g=O,this.h=R}function it(O,R){if(V(R))throw Error("division by zero");if(V(O))return new Y(w,w);if(j(O))return R=it(B(O),R),new Y(B(R.g),B(R.h));if(j(R))return R=it(O,B(R)),new Y(B(R.g),R.h);if(30<O.g.length){if(j(O)||j(R))throw Error("slowDivide_ only works with positive integers.");for(var S=b,C=R;0>=C.l(O);)S=st(S),C=st(C);var N=mt(S,1),L=mt(C,1);for(C=mt(C,2),S=mt(S,2);!V(C);){var D=L.add(C);0>=D.l(O)&&(N=N.add(S),L=D),C=mt(C,1),S=mt(S,1)}return R=Q(O,N.j(R)),new Y(N,R)}for(N=w;0<=O.l(R);){for(S=Math.max(1,Math.floor(O.m()/R.m())),C=Math.ceil(Math.log(S)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),L=g(S),D=L.j(R);j(D)||0<D.l(O);)S-=C,L=g(S),D=L.j(R);V(L)&&(L=b),N=N.add(L),O=Q(O,D)}return new Y(N,O)}r.A=function(O){return it(this,O).h},r.and=function(O){for(var R=Math.max(this.g.length,O.g.length),S=[],C=0;C<R;C++)S[C]=this.i(C)&O.i(C);return new f(S,this.h&O.h)},r.or=function(O){for(var R=Math.max(this.g.length,O.g.length),S=[],C=0;C<R;C++)S[C]=this.i(C)|O.i(C);return new f(S,this.h|O.h)},r.xor=function(O){for(var R=Math.max(this.g.length,O.g.length),S=[],C=0;C<R;C++)S[C]=this.i(C)^O.i(C);return new f(S,this.h^O.h)};function st(O){for(var R=O.g.length+1,S=[],C=0;C<R;C++)S[C]=O.i(C)<<1|O.i(C-1)>>>31;return new f(S,O.h)}function mt(O,R){var S=R>>5;R%=32;for(var C=O.g.length-S,N=[],L=0;L<C;L++)N[L]=0<R?O.i(L+S)>>>R|O.i(L+S+1)<<32-R:O.i(L+S);return new f(N,O.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,WE=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=E,Wr=f}).apply(typeof Uv<"u"?Uv:typeof self<"u"?self:typeof window<"u"?window:{});var Pc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ZE,Dl,$E,Wc,Am,JE,tT,eT;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Pc=="object"&&Pc];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)t:{var _=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var z=c[A];if(!(z in _))break t;_=_[z]}c=c[c.length-1],A=_[c],y=y(A),y!=A&&y!=null&&t(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,A=!1,z={next:function(){if(!A&&_<c.length){var K=_++;return{value:y(K,c[K]),done:!1}}return A=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,_){return c.call.apply(c.bind,arguments)}function w(c,y,_){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,A),c.apply(y,z)}}return function(){return c.apply(y,arguments)}}function b(c,y,_){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:w,b.apply(null,arguments)}function M(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function V(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(A,z,K){for(var rt=Array(arguments.length-2),kt=2;kt<arguments.length;kt++)rt[kt-2]=arguments[kt];return y.prototype[z].apply(A,rt)}}function j(c){const y=c.length;if(0<y){const _=Array(y);for(let A=0;A<y;A++)_[A]=c[A];return _}return[]}function B(c,y){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(p(A)){const z=c.length||0,K=A.length||0;c.length=z+K;for(let rt=0;rt<K;rt++)c[z+rt]=A[rt]}else c.push(A)}}class Q{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function q(c){return/^[\s\xa0]*$/.test(c)}function Y(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function it(c){return it[" "](c),c}it[" "]=function(){};var st=Y().indexOf("Gecko")!=-1&&!(Y().toLowerCase().indexOf("webkit")!=-1&&Y().indexOf("Edge")==-1)&&!(Y().indexOf("Trident")!=-1||Y().indexOf("MSIE")!=-1)&&Y().indexOf("Edge")==-1;function mt(c,y,_){for(const A in c)y.call(_,c[A],A,c)}function O(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function R(c){const y={};for(const _ in c)y[_]=c[_];return y}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(c,y){let _,A;for(let z=1;z<arguments.length;z++){A=arguments[z];for(_ in A)c[_]=A[_];for(let K=0;K<S.length;K++)_=S[K],Object.prototype.hasOwnProperty.call(A,_)&&(c[_]=A[_])}}function N(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function L(c){m.setTimeout(()=>{throw c},0)}function D(){var c=qt;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class fe{constructor(){this.h=this.g=null}add(y,_){const A=ee.get();A.set(y,_),this.h?this.h.next=A:this.g=A,this.h=A}}var ee=new Q(()=>new at,c=>c.reset());class at{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let _t,ft=!1,qt=new fe,x=()=>{const c=m.Promise.resolve(void 0);_t=()=>{c.then(nt)}};var nt=()=>{for(var c;c=D();){try{c.h.call(c.g)}catch(_){L(_)}var y=ee;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}ft=!1};function pt(){this.s=this.s,this.C=this.C}pt.prototype.s=!1,pt.prototype.ma=function(){this.s||(this.s=!0,this.N())},pt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ot(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}ot.prototype.h=function(){this.defaultPrevented=!0};var lt=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,y),m.removeEventListener("test",_,y)}catch{}return c}();function It(c,y){if(ot.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(st){t:{try{it(y.nodeName);var z=!0;break t}catch{}z=!1}z||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:St[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&It.aa.h.call(this)}}V(It,ot);var St={2:"touch",3:"pen",4:"mouse"};It.prototype.h=function(){It.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ge="closure_listenable_"+(1e6*Math.random()|0),zt=0;function oe(c,y,_,A,z){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!A,this.ha=z,this.key=++zt,this.da=this.fa=!1}function Kt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function $e(c){this.src=c,this.g={},this.h=0}$e.prototype.add=function(c,y,_,A,z){var K=c.toString();c=this.g[K],c||(c=this.g[K]=[],this.h++);var rt=vn(c,y,A,z);return-1<rt?(y=c[rt],_||(y.fa=!1)):(y=new oe(y,this.src,K,!!A,z),y.fa=_,c.push(y)),y};function vi(c,y){var _=y.type;if(_ in c.g){var A=c.g[_],z=Array.prototype.indexOf.call(A,y,void 0),K;(K=0<=z)&&Array.prototype.splice.call(A,z,1),K&&(Kt(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function vn(c,y,_,A){for(var z=0;z<c.length;++z){var K=c[z];if(!K.da&&K.listener==y&&K.capture==!!_&&K.ha==A)return z}return-1}var sr="closure_lm_"+(1e6*Math.random()|0),ar={};function Ei(c,y,_,A,z){if(Array.isArray(y)){for(var K=0;K<y.length;K++)Ei(c,y[K],_,A,z);return null}return _=du(_),c&&c[ge]?c.K(y,_,g(A)?!!A.capture:!1,z):_o(c,y,_,!1,A,z)}function _o(c,y,_,A,z,K){if(!y)throw Error("Invalid event type");var rt=g(z)?!!z.capture:!!z,kt=vo(c);if(kt||(c[sr]=kt=new $e(c)),_=kt.add(y,_,A,rt,K),_.proxy)return _;if(A=na(),_.proxy=A,A.src=c,A.listener=_,c.addEventListener)lt||(z=rt),z===void 0&&(z=!1),c.addEventListener(y.toString(),A,z);else if(c.attachEvent)c.attachEvent(ra(y.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function na(){function c(_){return y.call(c.src,c.listener,_)}const y=Kh;return c}function ia(c,y,_,A,z){if(Array.isArray(y))for(var K=0;K<y.length;K++)ia(c,y[K],_,A,z);else A=g(A)?!!A.capture:!!A,_=du(_),c&&c[ge]?(c=c.i,y=String(y).toString(),y in c.g&&(K=c.g[y],_=vn(K,_,A,z),-1<_&&(Kt(K[_]),Array.prototype.splice.call(K,_,1),K.length==0&&(delete c.g[y],c.h--)))):c&&(c=vo(c))&&(y=c.g[y.toString()],c=-1,y&&(c=vn(y,_,A,z)),(_=-1<c?y[c]:null)&&ls(_))}function ls(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[ge])vi(y.i,c);else{var _=c.type,A=c.proxy;y.removeEventListener?y.removeEventListener(_,A,c.capture):y.detachEvent?y.detachEvent(ra(_),A):y.addListener&&y.removeListener&&y.removeListener(A),(_=vo(y))?(vi(_,c),_.h==0&&(_.src=null,y[sr]=null)):Kt(c)}}}function ra(c){return c in ar?ar[c]:ar[c]="on"+c}function Kh(c,y){if(c.da)c=!0;else{y=new It(y,this);var _=c.listener,A=c.ha||c.src;c.fa&&ls(c),c=_.call(A,y)}return c}function vo(c){return c=c[sr],c instanceof $e?c:null}var on="__closure_events_fn_"+(1e9*Math.random()>>>0);function du(c){return typeof c=="function"?c:(c[on]||(c[on]=function(y){return c.handleEvent(y)}),c[on])}function Ae(){pt.call(this),this.i=new $e(this),this.M=this,this.F=null}V(Ae,pt),Ae.prototype[ge]=!0,Ae.prototype.removeEventListener=function(c,y,_,A){ia(this,c,y,_,A)};function Oe(c,y){var _,A=c.F;if(A)for(_=[];A;A=A.F)_.push(A);if(c=c.M,A=y.type||y,typeof y=="string")y=new ot(y,c);else if(y instanceof ot)y.target=y.target||c;else{var z=y;y=new ot(A,c),C(y,z)}if(z=!0,_)for(var K=_.length-1;0<=K;K--){var rt=y.g=_[K];z=Ti(rt,A,!0,y)&&z}if(rt=y.g=c,z=Ti(rt,A,!0,y)&&z,z=Ti(rt,A,!1,y)&&z,_)for(K=0;K<_.length;K++)rt=y.g=_[K],z=Ti(rt,A,!1,y)&&z}Ae.prototype.N=function(){if(Ae.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],A=0;A<_.length;A++)Kt(_[A]);delete c.g[y],c.h--}}this.F=null},Ae.prototype.K=function(c,y,_,A){return this.i.add(String(c),y,!1,_,A)},Ae.prototype.L=function(c,y,_,A){return this.i.add(String(c),y,!0,_,A)};function Ti(c,y,_,A){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var z=!0,K=0;K<y.length;++K){var rt=y[K];if(rt&&!rt.da&&rt.capture==_){var kt=rt.listener,we=rt.ha||rt.src;rt.fa&&vi(c.i,rt),z=kt.call(we,A)!==!1&&z}}return z&&!A.defaultPrevented}function mu(c,y,_){if(typeof c=="function")_&&(c=b(c,_));else if(c&&typeof c.handleEvent=="function")c=b(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function Eo(c){c.g=mu(()=>{c.g=null,c.i&&(c.i=!1,Eo(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Yh extends pt{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Eo(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function us(c){pt.call(this),this.h=c,this.g={}}V(us,pt);var or=[];function Ge(c){mt(c.g,function(y,_){this.g.hasOwnProperty(_)&&ls(y)},c),c.g={}}us.prototype.N=function(){us.aa.N.call(this),Ge(this)},us.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var To=m.JSON.stringify,Xn=m.JSON.parse,Je=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Ao(){}Ao.prototype.h=null;function pu(c){return c.h||(c.h=c.i())}function gu(){}var Wn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function lr(){ot.call(this,"d")}V(lr,ot);function zn(){ot.call(this,"c")}V(zn,ot);var En={},ur=null;function sa(){return ur=ur||new Ae}En.La="serverreachability";function bo(c){ot.call(this,En.La,c)}V(bo,ot);function cr(c){const y=sa();Oe(y,new bo(y))}En.STAT_EVENT="statevent";function aa(c,y){ot.call(this,En.STAT_EVENT,c),this.stat=y}V(aa,ot);function de(c){const y=sa();Oe(y,new aa(y,c))}En.Ma="timingevent";function yu(c,y){ot.call(this,En.Ma,c),this.size=y}V(yu,ot);function hr(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function fr(){this.g=!0}fr.prototype.xa=function(){this.g=!1};function _u(c,y,_,A,z,K){c.info(function(){if(c.g)if(K)for(var rt="",kt=K.split("&"),we=0;we<kt.length;we++){var Pt=kt[we].split("=");if(1<Pt.length){var Me=Pt[0];Pt=Pt[1];var Se=Me.split("_");rt=2<=Se.length&&Se[1]=="type"?rt+(Me+"="+Pt+"&"):rt+(Me+"=redacted&")}}else rt=null;else rt=K;return"XMLHTTP REQ ("+A+") [attempt "+z+"]: "+y+`
`+_+`
`+rt})}function vu(c,y,_,A,z,K,rt){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+z+"]: "+y+`
`+_+`
`+K+" "+rt})}function dr(c,y,_,A){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Ne(c,_)+(A?" "+A:"")})}function Zn(c,y){c.info(function(){return"TIMEOUT: "+y})}fr.prototype.info=function(){};function Ne(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var A=_[c];if(!(2>A.length)){var z=A[1];if(Array.isArray(z)&&!(1>z.length)){var K=z[0];if(K!="noop"&&K!="stop"&&K!="close")for(var rt=1;rt<z.length;rt++)z[rt]=""}}}}return To(_)}catch{return y}}var be={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ai={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},cs;function oa(){}V(oa,Ao),oa.prototype.g=function(){return new XMLHttpRequest},oa.prototype.i=function(){return{}},cs=new oa;function $n(c,y,_,A){this.j=c,this.i=y,this.l=_,this.R=A||1,this.U=new us(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new wo}function wo(){this.i=null,this.g="",this.h=!1}var mr={},hs={};function Bn(c,y,_){c.L=1,c.v=ms(le(y)),c.m=_,c.P=!0,bi(c,null)}function bi(c,y){c.F=Date.now(),ne(c),c.A=le(c.v);var _=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),Ri(_.i,"t",A),c.C=0,_=c.j.J,c.h=new wo,c.g=Mu(c.j,_?y:null,!c.m),0<c.O&&(c.M=new Yh(b(c.Y,c,c.g),c.O)),y=c.U,_=c.g,A=c.ca;var z="readystatechange";Array.isArray(z)||(z&&(or[0]=z.toString()),z=or);for(var K=0;K<z.length;K++){var rt=Ei(_,z[K],A||y.handleEvent,!1,y.h||y);if(!rt)break;y.g[rt.key]=rt}y=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),cr(),_u(c.i,c.u,c.A,c.l,c.R,c.m)}$n.prototype.ca=function(c){c=c.target;const y=this.M;y&&Sn(c)==3?y.j():this.Y(c)},$n.prototype.Y=function(c){try{if(c==this.g)t:{const Se=Sn(this.g);var y=this.g.Ba();const Oi=this.g.Z();if(!(3>Se)&&(Se!=3||this.g&&(this.h.h||this.g.oa()||Su(this.g)))){this.J||Se!=4||y==7||(y==8||0>=Oi?cr(3):cr(2)),la(this);var _=this.g.Z();this.X=_;e:if(pr(this)){var A=Su(this.g);c="";var z=A.length,K=Sn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ln(this),hn(this);var rt="";break e}this.h.i=new m.TextDecoder}for(y=0;y<z;y++)this.h.h=!0,c+=this.h.i.decode(A[y],{stream:!(K&&y==z-1)});A.length=0,this.h.g+=c,this.C=0,rt=this.h.g}else rt=this.g.oa();if(this.o=_==200,vu(this.i,this.u,this.A,this.l,this.R,Se,_),this.o){if(this.T&&!this.K){e:{if(this.g){var kt,we=this.g;if((kt=we.g?we.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!q(kt)){var Pt=kt;break e}}Pt=null}if(_=Pt)dr(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,fn(this,_);else{this.o=!1,this.s=3,de(12),ln(this),hn(this);break t}}if(this.P){_=!0;let Ue;for(;!this.J&&this.C<rt.length;)if(Ue=gr(this,rt),Ue==hs){Se==4&&(this.s=4,de(14),_=!1),dr(this.i,this.l,null,"[Incomplete Response]");break}else if(Ue==mr){this.s=4,de(15),dr(this.i,this.l,rt,"[Invalid Chunk]"),_=!1;break}else dr(this.i,this.l,Ue,null),fn(this,Ue);if(pr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Se!=4||rt.length!=0||this.h.h||(this.s=1,de(16),_=!1),this.o=this.o&&_,!_)dr(this.i,this.l,rt,"[Invalid Chunked Response]"),ln(this),hn(this);else if(0<rt.length&&!this.W){this.W=!0;var Me=this.j;Me.g==this&&Me.ba&&!Me.M&&(Me.j.info("Great, no buffering proxy detected. Bytes received: "+rt.length),Ts(Me),Me.M=!0,de(11))}}else dr(this.i,this.l,rt,null),fn(this,rt);Se==4&&ln(this),this.o&&!this.J&&(Se==4?Ou(this.j,this):(this.o=!1,ne(this)))}else tf(this.g),_==400&&0<rt.indexOf("Unknown SID")?(this.s=3,de(12)):(this.s=0,de(13)),ln(this),hn(this)}}}catch{}finally{}};function pr(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function gr(c,y){var _=c.C,A=y.indexOf(`
`,_);return A==-1?hs:(_=Number(y.substring(_,A)),isNaN(_)?mr:(A+=1,A+_>y.length?hs:(y=y.slice(A,A+_),c.C=A+_,y)))}$n.prototype.cancel=function(){this.J=!0,ln(this)};function ne(c){c.S=Date.now()+c.I,So(c,c.I)}function So(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=hr(b(c.ba,c),y)}function la(c){c.B&&(m.clearTimeout(c.B),c.B=null)}$n.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Zn(this.i,this.A),this.L!=2&&(cr(),de(17)),ln(this),this.s=2,hn(this)):So(this,this.S-c)};function hn(c){c.j.G==0||c.J||Ou(c.j,c)}function ln(c){la(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,Ge(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function fn(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||yr(_.h,c))){if(!c.K&&yr(_.h,c)&&_.G==3){try{var A=_.Da.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var z=A;if(z[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)_a(_),ga(_);else break t;Po(_),de(18)}}else _.za=z[1],0<_.za-_.T&&37500>z[2]&&_.F&&_.v==0&&!_.C&&(_.C=hr(b(_.Za,_),6e3));if(1>=Eu(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Di(_,11)}else if((c.K||_.g==c)&&_a(_),!q(y))for(z=_.Da.g.parse(y),y=0;y<z.length;y++){let Pt=z[y];if(_.T=Pt[0],Pt=Pt[1],_.G==2)if(Pt[0]=="c"){_.K=Pt[1],_.ia=Pt[2];const Me=Pt[3];Me!=null&&(_.la=Me,_.j.info("VER="+_.la));const Se=Pt[4];Se!=null&&(_.Aa=Se,_.j.info("SVER="+_.Aa));const Oi=Pt[5];Oi!=null&&typeof Oi=="number"&&0<Oi&&(A=1.5*Oi,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const Ue=c.g;if(Ue){const si=Ue.g?Ue.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(si){var K=A.h;K.g||si.indexOf("spdy")==-1&&si.indexOf("quic")==-1&&si.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(_r(K,K.h),K.h=null))}if(A.D){const Uo=Ue.g?Ue.g.getResponseHeader("X-HTTP-Session-Id"):null;Uo&&(A.ya=Uo,Bt(A.I,A.D,Uo))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var rt=c;if(A.qa=xu(A,A.J?A.ia:null,A.W),rt.K){Tn(A.h,rt);var kt=rt,we=A.L;we&&(kt.I=we),kt.B&&(la(kt),ne(kt)),A.g=rt}else Cu(A);0<_.i.length&&ya(_)}else Pt[0]!="stop"&&Pt[0]!="close"||Di(_,7);else _.G==3&&(Pt[0]=="stop"||Pt[0]=="close"?Pt[0]=="stop"?Di(_,7):Vo(_):Pt[0]!="noop"&&_.l&&_.l.ta(Pt),_.v=0)}}cr(4)}catch{}}var Xh=class{constructor(c,y){this.g=c,this.map=y}};function Ro(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Io(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Eu(c){return c.h?1:c.g?c.g.size:0}function yr(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function _r(c,y){c.g?c.g.add(y):c.h=y}function Tn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Ro.prototype.cancel=function(){if(this.i=tn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function tn(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return j(c.i)}function Tu(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],_=c.length,A=0;A<_;A++)y.push(c[A]);return y}y=[],_=0;for(A in c)y[_++]=c[A];return y}function Wh(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const A in c)y[_++]=A;return y}}}function fs(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=Wh(c),A=Tu(c),z=A.length,K=0;K<z;K++)y.call(void 0,A[K],_&&_[K],c)}var Co=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ua(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var A=c[_].indexOf("="),z=null;if(0<=A){var K=c[_].substring(0,A);z=c[_].substring(A+1)}else K=c[_];y(K,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function wi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof wi){this.h=c.h,vr(this,c.j),this.o=c.o,this.g=c.g,ds(this,c.s),this.l=c.l;var y=c.i,_=new Jn;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),ca(this,_),this.m=c.m}else c&&(y=String(c).match(Co))?(this.h=!1,vr(this,y[1]||"",!0),this.o=Er(y[2]||""),this.g=Er(y[3]||"",!0),ds(this,y[4]),this.l=Er(y[5]||"",!0),ca(this,y[6]||"",!0),this.m=Er(y[7]||"")):(this.h=!1,this.i=new Jn(null,this.h))}wi.prototype.toString=function(){var c=[],y=this.j;y&&c.push(An(y,Do,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(An(y,Do,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(An(_,_.charAt(0)=="/"?Oo:Au,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",An(_,Jh)),c.join("")};function le(c){return new wi(c)}function vr(c,y,_){c.j=_?Er(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function ds(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function ca(c,y,_){y instanceof Jn?(c.i=y,No(c.i,c.h)):(_||(y=An(y,$h)),c.i=new Jn(y,c.h))}function Bt(c,y,_){c.i.set(y,_)}function ms(c){return Bt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Er(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function An(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,Zh),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Zh(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Do=/[#\/\?@]/g,Au=/[#\?:]/g,Oo=/[#\?]/g,$h=/[#\?@]/g,Jh=/#/g;function Jn(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function bn(c){c.g||(c.g=new Map,c.h=0,c.i&&ua(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}r=Jn.prototype,r.add=function(c,y){bn(this),this.i=null,c=Ii(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function ha(c,y){bn(c),y=Ii(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Si(c,y){return bn(c),y=Ii(c,y),c.g.has(y)}r.forEach=function(c,y){bn(this),this.g.forEach(function(_,A){_.forEach(function(z){c.call(y,z,A,this)},this)},this)},r.na=function(){bn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let A=0;A<y.length;A++){const z=c[A];for(let K=0;K<z.length;K++)_.push(y[A])}return _},r.V=function(c){bn(this);let y=[];if(typeof c=="string")Si(this,c)&&(y=y.concat(this.g.get(Ii(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},r.set=function(c,y){return bn(this),this.i=null,c=Ii(this,c),Si(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Ri(c,y,_){ha(c,y),0<_.length&&(c.i=null,c.g.set(Ii(c,y),j(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var A=y[_];const K=encodeURIComponent(String(A)),rt=this.V(A);for(A=0;A<rt.length;A++){var z=K;rt[A]!==""&&(z+="="+encodeURIComponent(String(rt[A]))),c.push(z)}}return this.i=c.join("&")};function Ii(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function No(c,y){y&&!c.j&&(bn(c),c.i=null,c.g.forEach(function(_,A){var z=A.toLowerCase();A!=z&&(ha(this,A),Ri(this,z,_))},c)),c.j=y}function bu(c,y){const _=new fr;if(m.Image){const A=new Image;A.onload=M(wn,_,"TestLoadImage: loaded",!0,y,A),A.onerror=M(wn,_,"TestLoadImage: error",!1,y,A),A.onabort=M(wn,_,"TestLoadImage: abort",!1,y,A),A.ontimeout=M(wn,_,"TestLoadImage: timeout",!1,y,A),m.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else y(!1)}function ps(c,y){const _=new fr,A=new AbortController,z=setTimeout(()=>{A.abort(),wn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:A.signal}).then(K=>{clearTimeout(z),K.ok?wn(_,"TestPingServer: ok",!0,y):wn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(z),wn(_,"TestPingServer: error",!1,y)})}function wn(c,y,_,A,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),A(_)}catch{}}function gs(){this.g=new Je}function ti(c,y,_){const A=_||"";try{fs(c,function(z,K){let rt=z;g(z)&&(rt=To(z)),y.push(A+K+"="+encodeURIComponent(rt))})}catch(z){throw y.push(A+"type="+encodeURIComponent("_badmap")),z}}function Tr(c){this.l=c.Ub||null,this.j=c.eb||!1}V(Tr,Ao),Tr.prototype.g=function(){return new Ci(this.l,this.j)},Tr.prototype.i=function(c){return function(){return c}}({});function Ci(c,y){Ae.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}V(Ci,Ae),r=Ci.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,ni(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ei(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ni(this)),this.g&&(this.readyState=3,ni(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;xo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function xo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?ei(this):ni(this),this.readyState==3&&xo(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,ei(this))},r.Qa=function(c){this.g&&(this.response=c,ei(this))},r.ga=function(){this.g&&ei(this)};function ei(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ni(c)}r.setRequestHeader=function(c,y){this.u.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function ni(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ci.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Mo(c){let y="";return mt(c,function(_,A){y+=A,y+=":",y+=_,y+=`\r
`}),y}function xe(c,y,_){t:{for(A in _){var A=!1;break t}A=!0}A||(_=Mo(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Bt(c,y,_))}function Ft(c){Ae.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}V(Ft,Ae);var fa=/^https?$/i,ys=["POST","PUT"];r=Ft.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,y,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():cs.g(),this.v=this.o?pu(this.o):pu(cs),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(K){wu(this,K);return}if(c=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var z in A)_.set(z,A[z]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const K of A.keys())_.set(K,A.get(K));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(K=>K.toLowerCase()=="content-type"),z=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(ys,y,void 0))||A||z||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,rt]of _)this.g.setRequestHeader(K,rt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{_s(this),this.u=!0,this.g.send(c),this.u=!1}catch(K){wu(this,K)}};function wu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,da(c),ii(c)}function da(c){c.A||(c.A=!0,Oe(c,"complete"),Oe(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Oe(this,"complete"),Oe(this,"abort"),ii(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ii(this,!0)),Ft.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?ma(this):this.bb())},r.bb=function(){ma(this)};function ma(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Sn(c)!=4||c.Z()!=2)){if(c.u&&Sn(c)==4)mu(c.Ea,0,c);else if(Oe(c,"readystatechange"),Sn(c)==4){c.h=!1;try{const rt=c.Z();t:switch(rt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var _;if(!(_=y)){var A;if(A=rt===0){var z=String(c.D).match(Co)[1]||null;!z&&m.self&&m.self.location&&(z=m.self.location.protocol.slice(0,-1)),A=!fa.test(z?z.toLowerCase():"")}_=A}if(_)Oe(c,"complete"),Oe(c,"success");else{c.m=6;try{var K=2<Sn(c)?c.g.statusText:""}catch{K=""}c.l=K+" ["+c.Z()+"]",da(c)}}finally{ii(c)}}}}function ii(c,y){if(c.g){_s(c);const _=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Oe(c,"ready");try{_.onreadystatechange=A}catch{}}}function _s(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function Sn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<Sn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Xn(y)}};function Su(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function tf(c){const y={};c=(c.g&&2<=Sn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(q(c[A]))continue;var _=N(c[A]);const z=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const K=y[z]||[];y[z]=K,K.push(_)}O(y,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function vs(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function pa(c){this.Aa=0,this.i=[],this.j=new fr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=vs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=vs("baseRetryDelayMs",5e3,c),this.cb=vs("retryDelaySeedMs",1e4,c),this.Wa=vs("forwardChannelMaxRetries",2,c),this.wa=vs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Ro(c&&c.concurrentRequestLimit),this.Da=new gs,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=pa.prototype,r.la=8,r.G=1,r.connect=function(c,y,_,A){de(0),this.W=c,this.H=y||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=xu(this,null,this.W),ya(this)};function Vo(c){if(Ru(c),c.G==3){var y=c.U++,_=le(c.I);if(Bt(_,"SID",c.K),Bt(_,"RID",y),Bt(_,"TYPE","terminate"),Es(c,_),y=new $n(c,c.j,y),y.L=2,y.v=ms(le(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=y.v,_=!0),_||(y.g=Mu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),ne(y)}Nu(c)}function ga(c){c.g&&(Ts(c),c.g.cancel(),c.g=null)}function Ru(c){ga(c),c.u&&(m.clearTimeout(c.u),c.u=null),_a(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function ya(c){if(!Io(c.h)&&!c.s){c.s=!0;var y=c.Ga;_t||x(),ft||(_t(),ft=!0),qt.add(y,c),c.B=0}}function ef(c,y){return Eu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=hr(b(c.Ga,c,y),Lo(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const z=new $n(this,this.j,c);let K=this.o;if(this.S&&(K?(K=R(K),C(K,this.S)):K=this.S),this.m!==null||this.O||(z.H=K,K=null),this.P)t:{for(var y=0,_=0;_<this.i.length;_++){e:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(y+=A,4096<y){y=_;break t}if(y===4096||_===this.i.length-1){y=_+1;break t}}y=1e3}else y=1e3;y=Iu(this,z,y),_=le(this.I),Bt(_,"RID",c),Bt(_,"CVER",22),this.D&&Bt(_,"X-HTTP-Session-Id",this.D),Es(this,_),K&&(this.O?y="headers="+encodeURIComponent(String(Mo(K)))+"&"+y:this.m&&xe(_,this.m,K)),_r(this.h,z),this.Ua&&Bt(_,"TYPE","init"),this.P?(Bt(_,"$req",y),Bt(_,"SID","null"),z.T=!0,Bn(z,_,null)):Bn(z,_,y),this.G=2}}else this.G==3&&(c?ko(this,c):this.i.length==0||Io(this.h)||ko(this))};function ko(c,y){var _;y?_=y.l:_=c.U++;const A=le(c.I);Bt(A,"SID",c.K),Bt(A,"RID",_),Bt(A,"AID",c.T),Es(c,A),c.m&&c.o&&xe(A,c.m,c.o),_=new $n(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Iu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),_r(c.h,_),Bn(_,A,y)}function Es(c,y){c.H&&mt(c.H,function(_,A){Bt(y,A,_)}),c.l&&fs({},function(_,A){Bt(y,A,_)})}function Iu(c,y,_){_=Math.min(c.i.length,_);var A=c.l?b(c.l.Na,c.l,c):null;t:{var z=c.i;let K=-1;for(;;){const rt=["count="+_];K==-1?0<_?(K=z[0].g,rt.push("ofs="+K)):K=0:rt.push("ofs="+K);let kt=!0;for(let we=0;we<_;we++){let Pt=z[we].g;const Me=z[we].map;if(Pt-=K,0>Pt)K=Math.max(0,z[we].g-100),kt=!1;else try{ti(Me,rt,"req"+Pt+"_")}catch{A&&A(Me)}}if(kt){A=rt.join("&");break t}}}return c=c.i.splice(0,_),y.D=c,A}function Cu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;_t||x(),ft||(_t(),ft=!0),qt.add(y,c),c.v=0}}function Po(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=hr(b(c.Fa,c),Lo(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,Du(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=hr(b(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,de(10),ga(this),Du(this))};function Ts(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Du(c){c.g=new $n(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=le(c.qa);Bt(y,"RID","rpc"),Bt(y,"SID",c.K),Bt(y,"AID",c.T),Bt(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Bt(y,"TO",c.ja),Bt(y,"TYPE","xmlhttp"),Es(c,y),c.m&&c.o&&xe(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=ms(le(y)),_.m=null,_.P=!0,bi(_,c)}r.Za=function(){this.C!=null&&(this.C=null,ga(this),Po(this),de(19))};function _a(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Ou(c,y){var _=null;if(c.g==y){_a(c),Ts(c),c.g=null;var A=2}else if(yr(c.h,y))_=y.D,Tn(c.h,y),A=1;else return;if(c.G!=0){if(y.o)if(A==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var z=c.B;A=sa(),Oe(A,new yu(A,_)),ya(c)}else Cu(c);else if(z=y.s,z==3||z==0&&0<y.X||!(A==1&&ef(c,y)||A==2&&Po(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),z){case 1:Di(c,5);break;case 4:Di(c,10);break;case 3:Di(c,6);break;default:Di(c,2)}}}function Lo(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function Di(c,y){if(c.j.info("Error code "+y),y==2){var _=b(c.fb,c),A=c.Xa;const z=!A;A=new wi(A||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||vr(A,"https"),ms(A),z?bu(A.toString(),_):ps(A.toString(),_)}else de(2);c.G=0,c.l&&c.l.sa(y),Nu(c),Ru(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),de(2)):(this.j.info("Failed to ping google.com"),de(1))};function Nu(c){if(c.G=0,c.ka=[],c.l){const y=tn(c.h);(y.length!=0||c.i.length!=0)&&(B(c.ka,y),B(c.ka,c.i),c.h.i.length=0,j(c.i),c.i.length=0),c.l.ra()}}function xu(c,y,_){var A=_ instanceof wi?le(_):new wi(_);if(A.g!="")y&&(A.g=y+"."+A.g),ds(A,A.s);else{var z=m.location;A=z.protocol,y=y?y+"."+z.hostname:z.hostname,z=+z.port;var K=new wi(null);A&&vr(K,A),y&&(K.g=y),z&&ds(K,z),_&&(K.l=_),A=K}return _=c.D,y=c.ya,_&&y&&Bt(A,_,y),Bt(A,"VER",c.la),Es(c,A),A}function Mu(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Ft(new Tr({eb:_})):new Ft(c.pa),y.Ha(c.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Vu(){}r=Vu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function va(){}va.prototype.g=function(c,y){return new en(c,y)};function en(c,y){Ae.call(this),this.g=new pa(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!q(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!q(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new ri(this)}V(en,Ae),en.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){Vo(this.g)},en.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=To(c),c=_);y.i.push(new Xh(y.Ya++,c)),y.G==3&&ya(y)},en.prototype.N=function(){this.g.l=null,delete this.j,Vo(this.g),delete this.g,en.aa.N.call(this)};function ku(c){lr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){t:{for(const _ in y){c=_;break t}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}V(ku,lr);function Pu(){zn.call(this),this.status=1}V(Pu,zn);function ri(c){this.g=c}V(ri,Vu),ri.prototype.ua=function(){Oe(this.g,"a")},ri.prototype.ta=function(c){Oe(this.g,new ku(c))},ri.prototype.sa=function(c){Oe(this.g,new Pu)},ri.prototype.ra=function(){Oe(this.g,"b")},va.prototype.createWebChannel=va.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,eT=function(){return new va},tT=function(){return sa()},JE=En,Am={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},be.NO_ERROR=0,be.TIMEOUT=8,be.HTTP_ERROR=6,Wc=be,Ai.COMPLETE="complete",$E=Ai,gu.EventType=Wn,Wn.OPEN="a",Wn.CLOSE="b",Wn.ERROR="c",Wn.MESSAGE="d",Ae.prototype.listen=Ae.prototype.K,Dl=gu,Ft.prototype.listenOnce=Ft.prototype.L,Ft.prototype.getLastError=Ft.prototype.Ka,Ft.prototype.getLastErrorCode=Ft.prototype.Ba,Ft.prototype.getStatus=Ft.prototype.Z,Ft.prototype.getResponseJson=Ft.prototype.Oa,Ft.prototype.getResponseText=Ft.prototype.oa,Ft.prototype.send=Ft.prototype.ea,Ft.prototype.setWithCredentials=Ft.prototype.Ha,ZE=Ft}).apply(typeof Pc<"u"?Pc:typeof self<"u"?self:typeof window<"u"?window:{});const zv="@firebase/firestore",Bv="4.7.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Xe.UNAUTHENTICATED=new Xe(null),Xe.GOOGLE_CREDENTIALS=new Xe("google-credentials-uid"),Xe.FIRST_PARTY=new Xe("first-party-uid"),Xe.MOCK_USER=new Xe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fo="11.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ys=new Jm("@firebase/firestore");function Qa(){return Ys.logLevel}function ut(r,...t){if(Ys.logLevel<=xt.DEBUG){const n=t.map(dp);Ys.debug(`Firestore (${fo}): ${r}`,...n)}}function er(r,...t){if(Ys.logLevel<=xt.ERROR){const n=t.map(dp);Ys.error(`Firestore (${fo}): ${r}`,...n)}}function eo(r,...t){if(Ys.logLevel<=xt.WARN){const n=t.map(dp);Ys.warn(`Firestore (${fo}): ${r}`,...n)}}function dp(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(r,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,nT(r,s,n)}function nT(r,t,n){let s=`FIRESTORE (${fo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw er(s),new Error(s)}function Qt(r,t,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||nT(t,o,s)}function wt(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ht extends rr{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class QI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Xe.UNAUTHENTICATED))}shutdown(){}}class KI{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class YI{constructor(t){this.t=t,this.currentUser=Xe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Qt(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new Zr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Zr,t.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;t.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{ut("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ut("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Zr)}},0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==t?(ut("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Qt(typeof s.accessToken=="string",31837,{l:s}),new iT(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Qt(t===null||typeof t=="string",2055,{h:t}),new Xe(t)}}class XI{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=Xe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class WI{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new XI(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(Xe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class jv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ZI{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,_n(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Qt(this.o===void 0,3512);const s=u=>{u.error!=null&&ut("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ut("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable(()=>s(u))};const o=u=>{ut("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ut("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new jv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Qt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new jv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $I(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rT(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=$I(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=t.charAt(o[u]%62))}return s}}function Dt(r,t){return r<t?-1:r>t?1:0}function bm(r,t){let n=0;for(;n<r.length&&n<t.length;){const s=r.codePointAt(n),o=t.codePointAt(n);if(s!==o){if(s<128&&o<128)return Dt(s,o);{const u=rT(),f=JI(u.encode(Hv(r,n)),u.encode(Hv(t,n)));return f!==0?f:Dt(s,o)}}n+=s>65535?2:1}return Dt(r.length,t.length)}function Hv(r,t){return r.codePointAt(t)>65535?r.substring(t,t+2):r.substring(t,t+1)}function JI(r,t){for(let n=0;n<r.length&&n<t.length;++n)if(r[n]!==t[n])return Dt(r[n],t[n]);return Dt(r.length,t.length)}function no(r,t,n){return r.length===t.length&&r.every((s,o)=>n(s,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qv=-62135596800,Fv=1e6;class Ce{static now(){return Ce.fromMillis(Date.now())}static fromDate(t){return Ce.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*Fv);return new Ce(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ht(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ht(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<qv)throw new ht(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ht(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Fv}_compareTo(t){return this.seconds===t.seconds?Dt(this.nanoseconds,t.nanoseconds):Dt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-qv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{static fromTimestamp(t){return new At(t)}static min(){return new At(new Ce(0,0))}static max(){return new At(new Ce(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gv="__name__";class hi{constructor(t,n,s){n===void 0?n=0:n>t.length&&Tt(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&Tt(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return hi.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof hi?t.forEach(s=>{n.push(s)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let o=0;o<s;o++){const u=hi.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return Dt(t.length,n.length)}static compareSegments(t,n){const s=hi.isNumericId(t),o=hi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?hi.extractNumericId(t).compare(hi.extractNumericId(n)):bm(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Wr.fromString(t.substring(4,t.length-2))}}class Jt extends hi{construct(t,n,s){return new Jt(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new ht(tt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new Jt(n)}static emptyPath(){return new Jt([])}}const tC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qe extends hi{construct(t,n,s){return new qe(t,n,s)}static isValidIdentifier(t){return tC.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qe.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Gv}static keyField(){return new qe([Gv])}static fromServerFormat(t){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ht(tt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new ht(tt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ht(tt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new ht(tt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new qe(n)}static emptyPath(){return new qe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(t){this.path=t}static fromPath(t){return new yt(Jt.fromString(t))}static fromName(t){return new yt(Jt.fromString(t).popFirst(5))}static empty(){return new yt(Jt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Jt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Jt.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new yt(new Jt(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hl=-1;function eC(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=At.fromTimestamp(s===1e9?new Ce(n+1,0):new Ce(n,s));return new Jr(o,yt.empty(),t)}function nC(r){return new Jr(r.readTime,r.key,Hl)}class Jr{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new Jr(At.min(),yt.empty(),Hl)}static max(){return new Jr(At.max(),yt.empty(),Hl)}}function iC(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=yt.comparator(r.documentKey,t.documentKey),n!==0?n:Dt(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class sC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mo(r){if(r.code!==tt.FAILED_PRECONDITION||r.message!==rC)throw r;ut("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Tt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new J((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof J?n:J.resolve(n)}catch(n){return J.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):J.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):J.reject(n)}static resolve(t){return new J((n,s)=>{n(t)})}static reject(t){return new J((n,s)=>{s(t)})}static waitFor(t){return new J((n,s)=>{let o=0,u=0,f=!1;t.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},p=>s(p))}),f=!0,u===o&&n()})}static or(t){let n=J.resolve(!1);for(const s of t)n=n.next(o=>o?J.resolve(o):s());return n}static forEach(t,n){const s=[];return t.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(t,n){return new J((s,o)=>{const u=t.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(t[g]).next(E=>{f[g]=E,++m,m===u&&s(f)},E=>o(E))}})}static doWhile(t,n){return new J((s,o)=>{const u=()=>{t()===!0?n().next(()=>{u()},o):s()};u()})}}function aC(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function po(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>n.writeSequenceNumber(s))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}Oh.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mp=-1;function Nh(r){return r==null}function hh(r){return r===0&&1/r==-1/0}function oC(r){return typeof r=="number"&&Number.isInteger(r)&&!hh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aT="";function lC(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=Qv(t)),t=uC(r.get(n),t);return Qv(t)}function uC(r,t){let n=t;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case aT:n+="";break;default:n+=u}}return n}function Qv(r){return r+aT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kv(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function $s(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function oT(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(t,n){this.comparator=t,this.root=n||He.EMPTY}insert(t,n){return new ae(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,He.BLACK,null,null))}remove(t){return new ae(this.comparator,this.root.remove(t,this.comparator).copy(null,null,He.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,s)=>(t(n,s),!1))}toString(){const t=[];return this.inorderTraversal((n,s)=>(t.push(`${n}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Lc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Lc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Lc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Lc(this.root,t,this.comparator,!0)}}class Lc{constructor(t,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?s(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class He{constructor(t,n,s,o,u){this.key=t,this.value=n,this.color=s??He.RED,this.left=o??He.EMPTY,this.right=u??He.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,o,u){return new He(t??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return He.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return He.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,He.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,He.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Tt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Tt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Tt(27949);return t+(this.isRed()?0:1)}}He.EMPTY=null,He.RED=!0,He.BLACK=!1;He.EMPTY=new class{constructor(){this.size=0}get key(){throw Tt(57766)}get value(){throw Tt(16141)}get color(){throw Tt(16727)}get left(){throw Tt(29726)}get right(){throw Tt(36894)}copy(t,n,s,o,u){return this}insert(t,n,s){return new He(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(t){this.comparator=t,this.data=new ae(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,s)=>(t(n),!1))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Yv(this.data.getIterator())}getIteratorFrom(t){return new Yv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(s=>{n=n.add(s)}),n}isEqual(t){if(!(t instanceof De)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new De(this.comparator);return n.data=t,n}}class Yv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(t){this.fields=t,t.sort(qe.comparator)}static empty(){return new Qn([])}unionWith(t){let n=new De(qe.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new Qn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return no(this.fields,t.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new lT("Invalid base64 string: "+u):u}}(t);return new Fe(n)}static fromUint8Array(t){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(t);return new Fe(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Dt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Fe.EMPTY_BYTE_STRING=new Fe("");const cC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ts(r){if(Qt(!!r,39018),typeof r=="string"){let t=0;const n=cC.exec(r);if(Qt(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:pe(r.seconds),nanos:pe(r.nanos)}}function pe(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function es(r){return typeof r=="string"?Fe.fromBase64String(r):Fe.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT="server_timestamp",cT="__type__",hT="__previous_value__",fT="__local_write_time__";function pp(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[cT])===null||n===void 0?void 0:n.stringValue)===uT}function xh(r){const t=r.mapValue.fields[hT];return pp(t)?xh(t):t}function ql(r){const t=ts(r.mapValue.fields[fT].timestampValue);return new Ce(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(t,n,s,o,u,f,m,p,g,E){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=E}}const fh="(default)";class Fl{constructor(t,n){this.projectId=t,this.database=n||fh}static empty(){return new Fl("","")}get isDefaultDatabase(){return this.database===fh}isEqual(t){return t instanceof Fl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dT="__type__",fC="__max__",Uc={mapValue:{}},mT="__vector__",dh="value";function ns(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?pp(r)?4:mC(r)?9007199254740991:dC(r)?10:11:Tt(28295,{value:r})}function gi(r,t){if(r===t)return!0;const n=ns(r);if(n!==ns(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return ql(r).isEqual(ql(t));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=ts(o.timestampValue),m=ts(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(r,t);case 5:return r.stringValue===t.stringValue;case 6:return function(o,u){return es(o.bytesValue).isEqual(es(u.bytesValue))}(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return function(o,u){return pe(o.geoPointValue.latitude)===pe(u.geoPointValue.latitude)&&pe(o.geoPointValue.longitude)===pe(u.geoPointValue.longitude)}(r,t);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return pe(o.integerValue)===pe(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=pe(o.doubleValue),m=pe(u.doubleValue);return f===m?hh(f)===hh(m):isNaN(f)&&isNaN(m)}return!1}(r,t);case 9:return no(r.arrayValue.values||[],t.arrayValue.values||[],gi);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(Kv(f)!==Kv(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!gi(f[p],m[p])))return!1;return!0}(r,t);default:return Tt(52216,{left:r})}}function Gl(r,t){return(r.values||[]).find(n=>gi(n,t))!==void 0}function io(r,t){if(r===t)return 0;const n=ns(r),s=ns(t);if(n!==s)return Dt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Dt(r.booleanValue,t.booleanValue);case 2:return function(u,f){const m=pe(u.integerValue||u.doubleValue),p=pe(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(r,t);case 3:return Xv(r.timestampValue,t.timestampValue);case 4:return Xv(ql(r),ql(t));case 5:return bm(r.stringValue,t.stringValue);case 6:return function(u,f){const m=es(u),p=es(f);return m.compareTo(p)}(r.bytesValue,t.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=Dt(m[g],p[g]);if(E!==0)return E}return Dt(m.length,p.length)}(r.referenceValue,t.referenceValue);case 8:return function(u,f){const m=Dt(pe(u.latitude),pe(f.latitude));return m!==0?m:Dt(pe(u.longitude),pe(f.longitude))}(r.geoPointValue,t.geoPointValue);case 9:return Wv(r.arrayValue,t.arrayValue);case 10:return function(u,f){var m,p,g,E;const w=u.fields||{},b=f.fields||{},M=(m=w[dh])===null||m===void 0?void 0:m.arrayValue,V=(p=b[dh])===null||p===void 0?void 0:p.arrayValue,j=Dt(((g=M==null?void 0:M.values)===null||g===void 0?void 0:g.length)||0,((E=V==null?void 0:V.values)===null||E===void 0?void 0:E.length)||0);return j!==0?j:Wv(M,V)}(r.mapValue,t.mapValue);case 11:return function(u,f){if(u===Uc.mapValue&&f===Uc.mapValue)return 0;if(u===Uc.mapValue)return 1;if(f===Uc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let w=0;w<p.length&&w<E.length;++w){const b=bm(p[w],E[w]);if(b!==0)return b;const M=io(m[p[w]],g[E[w]]);if(M!==0)return M}return Dt(p.length,E.length)}(r.mapValue,t.mapValue);default:throw Tt(23264,{Pe:n})}}function Xv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Dt(r,t);const n=ts(r),s=ts(t),o=Dt(n.seconds,s.seconds);return o!==0?o:Dt(n.nanos,s.nanos)}function Wv(r,t){const n=r.values||[],s=t.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=io(n[o],s[o]);if(u)return u}return Dt(n.length,s.length)}function ro(r){return wm(r)}function wm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=ts(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return es(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return yt.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=wm(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${wm(n.fields[f])}`;return o+"}"}(r.mapValue):Tt(61005,{value:r})}function Zc(r){switch(ns(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=xh(r);return t?16+Zc(t):16;case 5:return 2*r.stringValue.length;case 6:return es(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+Zc(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return $s(s.fields,(u,f)=>{o+=u.length+Zc(f)}),o}(r.mapValue);default:throw Tt(13486,{value:r})}}function Zv(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function Sm(r){return!!r&&"integerValue"in r}function gp(r){return!!r&&"arrayValue"in r}function $v(r){return!!r&&"nullValue"in r}function Jv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function $c(r){return!!r&&"mapValue"in r}function dC(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[dT])===null||n===void 0?void 0:n.stringValue)===mT}function Vl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return $s(r.mapValue.fields,(n,s)=>t.mapValue.fields[n]=Vl(s)),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Vl(r.arrayValue.values[n]);return t}return Object.assign({},r)}function mC(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===fC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(t){this.value=t}static empty(){return new Pn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!$c(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Vl(n)}setAll(t){let n=qe.emptyPath(),s={},o=[];t.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Vl(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(t){const n=this.field(t.popLast());$c(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return gi(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=n.mapValue.fields[t.get(s)];$c(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,s){$s(n,(o,u)=>t[o]=u);for(const o of s)delete t[o]}clone(){return new Pn(Vl(this.value))}}function pT(r){const t=[];return $s(r.fields,(n,s)=>{const o=new qe([n]);if($c(s)){const u=pT(s.mapValue).fields;if(u.length===0)t.push(o);else for(const f of u)t.push(o.child(f))}else t.push(o)}),new Qn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(t,n,s,o,u,f,m){this.key=t,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(t){return new We(t,0,At.min(),At.min(),At.min(),Pn.empty(),0)}static newFoundDocument(t,n,s,o){return new We(t,1,n,At.min(),s,o,0)}static newNoDocument(t,n){return new We(t,2,n,At.min(),At.min(),Pn.empty(),0)}static newUnknownDocument(t,n){return new We(t,3,n,At.min(),At.min(),Pn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Pn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof We&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new We(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(t,n){this.position=t,this.inclusive=n}}function t0(r,t,n){let s=0;for(let o=0;o<r.position.length;o++){const u=t[o],f=r.position[o];if(u.field.isKeyField()?s=yt.comparator(yt.fromName(f.referenceValue),n.key):s=io(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function e0(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!gi(r.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(t,n="asc"){this.field=t,this.dir=n}}function pC(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{}class Te extends gT{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new yC(t,n,s):n==="array-contains"?new EC(t,s):n==="in"?new TC(t,s):n==="not-in"?new AC(t,s):n==="array-contains-any"?new bC(t,s):new Te(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new _C(t,s):new vC(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(io(n,this.value)):n!==null&&ns(this.value)===ns(n)&&this.matchesComparison(io(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Tt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Yn extends gT{constructor(t,n){super(),this.filters=t,this.op=n,this.Te=null}static create(t,n){return new Yn(t,n)}matches(t){return yT(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function yT(r){return r.op==="and"}function _T(r){return gC(r)&&yT(r)}function gC(r){for(const t of r.filters)if(t instanceof Yn)return!1;return!0}function Rm(r){if(r instanceof Te)return r.field.canonicalString()+r.op.toString()+ro(r.value);if(_T(r))return r.filters.map(t=>Rm(t)).join(",");{const t=r.filters.map(n=>Rm(n)).join(",");return`${r.op}(${t})`}}function vT(r,t){return r instanceof Te?function(s,o){return o instanceof Te&&s.op===o.op&&s.field.isEqual(o.field)&&gi(s.value,o.value)}(r,t):r instanceof Yn?function(s,o){return o instanceof Yn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&vT(f,o.filters[m]),!0):!1}(r,t):void Tt(19439)}function ET(r){return r instanceof Te?function(n){return`${n.field.canonicalString()} ${n.op} ${ro(n.value)}`}(r):r instanceof Yn?function(n){return n.op.toString()+" {"+n.getFilters().map(ET).join(" ,")+"}"}(r):"Filter"}class yC extends Te{constructor(t,n,s){super(t,n,s),this.key=yt.fromName(s.referenceValue)}matches(t){const n=yt.comparator(t.key,this.key);return this.matchesComparison(n)}}class _C extends Te{constructor(t,n){super(t,"in",n),this.keys=TT("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class vC extends Te{constructor(t,n){super(t,"not-in",n),this.keys=TT("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function TT(r,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>yt.fromName(s.referenceValue))}class EC extends Te{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return gp(n)&&Gl(n.arrayValue,this.value)}}class TC extends Te{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Gl(this.value.arrayValue,n)}}class AC extends Te{constructor(t,n){super(t,"not-in",n)}matches(t){if(Gl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Gl(this.value.arrayValue,n)}}class bC extends Te{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!gp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Gl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(t,n=null,s=[],o=[],u=null,f=null,m=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Ie=null}}function n0(r,t=null,n=[],s=[],o=null,u=null,f=null){return new wC(r,t,n,s,o,u,f)}function yp(r){const t=wt(r);if(t.Ie===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(s=>Rm(s)).join(","),n+="|ob:",n+=t.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Nh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(s=>ro(s)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(s=>ro(s)).join(",")),t.Ie=n}return t.Ie}function _p(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!pC(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!vT(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!e0(r.startAt,t.startAt)&&e0(r.endAt,t.endAt)}function Im(r){return yt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(t,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function SC(r,t,n,s,o,u,f,m){return new su(r,t,n,s,o,u,f,m)}function AT(r){return new su(r)}function i0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function bT(r){return r.collectionGroup!==null}function kl(r){const t=wt(r);if(t.Ee===null){t.Ee=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ee.push(u),n.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new De(qe.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(t).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ee.push(new ph(u,s))}),n.has(qe.keyField().canonicalString())||t.Ee.push(new ph(qe.keyField(),s))}return t.Ee}function di(r){const t=wt(r);return t.de||(t.de=RC(t,kl(r))),t.de}function RC(r,t){if(r.limitType==="F")return n0(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new ph(o.field,u)});const n=r.endAt?new mh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new mh(r.startAt.position,r.startAt.inclusive):null;return n0(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function Cm(r,t){const n=r.filters.concat([t]);return new su(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Dm(r,t,n){return new su(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function Mh(r,t){return _p(di(r),di(t))&&r.limitType===t.limitType}function wT(r){return`${yp(di(r))}|lt:${r.limitType}`}function Ka(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>ET(o)).join(", ")}]`),Nh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>ro(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>ro(o)).join(",")),`Target(${s})`}(di(r))}; limitType=${r.limitType})`}function Vh(r,t){return t.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):yt.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,t)&&function(s,o){for(const u of kl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,t)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,t)&&function(s,o){return!(s.startAt&&!function(f,m,p){const g=t0(f,m,p);return f.inclusive?g<=0:g<0}(s.startAt,kl(s),o)||s.endAt&&!function(f,m,p){const g=t0(f,m,p);return f.inclusive?g>=0:g>0}(s.endAt,kl(s),o))}(r,t)}function IC(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function ST(r){return(t,n)=>{let s=!1;for(const o of kl(r)){const u=CC(o,t,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function CC(r,t,n){const s=r.field.isKeyField()?yt.comparator(t.key,n.key):function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?io(p,g):Tt(42886)}(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Tt(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){$s(this.inner,(n,s)=>{for(const[o,u]of s)t(o,u)})}isEmpty(){return oT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC=new ae(yt.comparator);function nr(){return DC}const RT=new ae(yt.comparator);function Ol(...r){let t=RT;for(const n of r)t=t.insert(n.key,n);return t}function IT(r){let t=RT;return r.forEach((n,s)=>t=t.insert(n,s.overlayedDocument)),t}function Hs(){return Pl()}function CT(){return Pl()}function Pl(){return new Js(r=>r.toString(),(r,t)=>r.isEqual(t))}const OC=new ae(yt.comparator),NC=new De(yt.comparator);function Mt(...r){let t=NC;for(const n of r)t=t.add(n);return t}const xC=new De(Dt);function MC(){return xC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vp(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hh(t)?"-0":t}}function DT(r){return{integerValue:""+r}}function VC(r,t){return oC(t)?DT(t):vp(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(){this._=void 0}}function kC(r,t,n){return r instanceof gh?function(o,u){const f={fields:{[cT]:{stringValue:uT},[fT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&pp(u)&&(u=xh(u)),u&&(f.fields[hT]=u),{mapValue:f}}(n,t):r instanceof Ql?NT(r,t):r instanceof Kl?xT(r,t):function(o,u){const f=OT(o,u),m=r0(f)+r0(o.Re);return Sm(f)&&Sm(o.Re)?DT(m):vp(o.serializer,m)}(r,t)}function PC(r,t,n){return r instanceof Ql?NT(r,t):r instanceof Kl?xT(r,t):n}function OT(r,t){return r instanceof yh?function(s){return Sm(s)||function(u){return!!u&&"doubleValue"in u}(s)}(t)?t:{integerValue:0}:null}class gh extends kh{}class Ql extends kh{constructor(t){super(),this.elements=t}}function NT(r,t){const n=MT(t);for(const s of r.elements)n.some(o=>gi(o,s))||n.push(s);return{arrayValue:{values:n}}}class Kl extends kh{constructor(t){super(),this.elements=t}}function xT(r,t){let n=MT(t);for(const s of r.elements)n=n.filter(o=>!gi(o,s));return{arrayValue:{values:n}}}class yh extends kh{constructor(t,n){super(),this.serializer=t,this.Re=n}}function r0(r){return pe(r.integerValue||r.doubleValue)}function MT(r){return gp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function LC(r,t){return r.field.isEqual(t.field)&&function(s,o){return s instanceof Ql&&o instanceof Ql||s instanceof Kl&&o instanceof Kl?no(s.elements,o.elements,gi):s instanceof yh&&o instanceof yh?gi(s.Re,o.Re):s instanceof gh&&o instanceof gh}(r.transform,t.transform)}class UC{constructor(t,n){this.version=t,this.transformResults=n}}class Zi{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Zi}static exists(t){return new Zi(void 0,t)}static updateTime(t){return new Zi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Jc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Ph{}function VT(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new PT(r.key,Zi.none()):new au(r.key,r.data,Zi.none());{const n=r.data,s=Pn.empty();let o=new De(qe.comparator);for(let u of t.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new ta(r.key,s,new Qn(o.toArray()),Zi.none())}}function zC(r,t,n){r instanceof au?function(o,u,f){const m=o.value.clone(),p=a0(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,t,n):r instanceof ta?function(o,u,f){if(!Jc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=a0(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(kT(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,t,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,t,n)}function Ll(r,t,n,s){return r instanceof au?function(u,f,m,p){if(!Jc(u.precondition,f))return m;const g=u.value.clone(),E=o0(u.fieldTransforms,p,f);return g.setAll(E),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null}(r,t,n,s):r instanceof ta?function(u,f,m,p){if(!Jc(u.precondition,f))return m;const g=o0(u.fieldTransforms,p,f),E=f.data;return E.setAll(kT(u)),E.setAll(g),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(w=>w.field))}(r,t,n,s):function(u,f,m){return Jc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(r,t,n)}function BC(r,t){let n=null;for(const s of r.fieldTransforms){const o=t.data.field(s.field),u=OT(s.transform,o||null);u!=null&&(n===null&&(n=Pn.empty()),n.set(s.field,u))}return n||null}function s0(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&no(s,o,(u,f)=>LC(u,f))}(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class au extends Ph{constructor(t,n,s,o=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ta extends Ph{constructor(t,n,s,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function kT(r){const t=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}}),t}function a0(r,t,n){const s=new Map;Qt(r.length===n.length,32656,{Ve:n.length,me:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=t.data.field(u.field);s.set(u.field,PC(f,m,n[o]))}return s}function o0(r,t,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,kC(u,f,t))}return s}class PT extends Ph{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jC extends Ph{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(t,n,s,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&zC(u,t,s[o])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=Ll(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=Ll(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=CT();return this.mutations.forEach(o=>{const u=t.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=VT(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(At.min())}),s}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Mt())}isEqual(t){return this.batchId===t.batchId&&no(this.mutations,t.mutations,(n,s)=>s0(n,s))&&no(this.baseMutations,t.baseMutations,(n,s)=>s0(n,s))}}class Ep{constructor(t,n,s,o){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(t,n,s){Qt(t.mutations.length===s.length,58842,{fe:t.mutations.length,ge:s.length});let o=function(){return OC}();const u=t.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Ep(t,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ee,Ut;function GC(r){switch(r){case tt.OK:return Tt(64938);case tt.CANCELLED:case tt.UNKNOWN:case tt.DEADLINE_EXCEEDED:case tt.RESOURCE_EXHAUSTED:case tt.INTERNAL:case tt.UNAVAILABLE:case tt.UNAUTHENTICATED:return!1;case tt.INVALID_ARGUMENT:case tt.NOT_FOUND:case tt.ALREADY_EXISTS:case tt.PERMISSION_DENIED:case tt.FAILED_PRECONDITION:case tt.ABORTED:case tt.OUT_OF_RANGE:case tt.UNIMPLEMENTED:case tt.DATA_LOSS:return!0;default:return Tt(15467,{code:r})}}function LT(r){if(r===void 0)return er("GRPC error has no .code"),tt.UNKNOWN;switch(r){case Ee.OK:return tt.OK;case Ee.CANCELLED:return tt.CANCELLED;case Ee.UNKNOWN:return tt.UNKNOWN;case Ee.DEADLINE_EXCEEDED:return tt.DEADLINE_EXCEEDED;case Ee.RESOURCE_EXHAUSTED:return tt.RESOURCE_EXHAUSTED;case Ee.INTERNAL:return tt.INTERNAL;case Ee.UNAVAILABLE:return tt.UNAVAILABLE;case Ee.UNAUTHENTICATED:return tt.UNAUTHENTICATED;case Ee.INVALID_ARGUMENT:return tt.INVALID_ARGUMENT;case Ee.NOT_FOUND:return tt.NOT_FOUND;case Ee.ALREADY_EXISTS:return tt.ALREADY_EXISTS;case Ee.PERMISSION_DENIED:return tt.PERMISSION_DENIED;case Ee.FAILED_PRECONDITION:return tt.FAILED_PRECONDITION;case Ee.ABORTED:return tt.ABORTED;case Ee.OUT_OF_RANGE:return tt.OUT_OF_RANGE;case Ee.UNIMPLEMENTED:return tt.UNIMPLEMENTED;case Ee.DATA_LOSS:return tt.DATA_LOSS;default:return Tt(39323,{code:r})}}(Ut=Ee||(Ee={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QC=new Wr([4294967295,4294967295],0);function l0(r){const t=rT().encode(r),n=new WE;return n.update(t),new Uint8Array(n.digest())}function u0(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Wr([n,s],0),new Wr([o,u],0)]}class Tp{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Nl(`Invalid padding: ${n}`);if(s<0)throw new Nl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Nl(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new Nl(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*t.length-n,this.ye=Wr.fromNumber(this.pe)}we(t,n,s){let o=t.add(n.multiply(Wr.fromNumber(s)));return o.compare(QC)===1&&(o=new Wr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}Se(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const n=l0(t),[s,o]=u0(n);for(let u=0;u<this.hashCount;u++){const f=this.we(s,o,u);if(!this.Se(f))return!1}return!0}static create(t,n,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new Tp(u,o,n);return s.forEach(m=>f.insert(m)),f}insert(t){if(this.pe===0)return;const n=l0(t),[s,o]=u0(n);for(let u=0;u<this.hashCount;u++){const f=this.we(s,o,u);this.be(f)}}be(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class Nl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(t,n,s,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const o=new Map;return o.set(t,ou.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new Lh(At.min(),o,new ae(Dt),nr(),Mt())}}class ou{constructor(t,n,s,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new ou(s,n,Mt(),Mt(),Mt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(t,n,s,o){this.De=t,this.removedTargetIds=n,this.key=s,this.ve=o}}class UT{constructor(t,n){this.targetId=t,this.Ce=n}}class zT{constructor(t,n,s=Fe.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=o}}class c0{constructor(){this.Fe=0,this.Me=h0(),this.xe=Fe.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=Mt(),n=Mt(),s=Mt();return this.Me.forEach((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Tt(38017,{changeType:u})}}),new ou(this.xe,this.Oe,t,n,s)}Qe(){this.Ne=!1,this.Me=h0()}$e(t,n){this.Ne=!0,this.Me=this.Me.insert(t,n)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,Qt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class KC{constructor(t){this.ze=t,this.je=new Map,this.He=nr(),this.Je=zc(),this.Ye=zc(),this.Ze=new ae(Dt)}Xe(t){for(const n of t.De)t.ve&&t.ve.isFoundDocument()?this.et(n,t.ve):this.tt(n,t.key,t.ve);for(const n of t.removedTargetIds)this.tt(n,t.key,t.ve)}nt(t){this.forEachTarget(t,n=>{const s=this.rt(n);switch(t.state){case 0:this.it(n)&&s.ke(t.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(t.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(n);break;case 3:this.it(n)&&(s.Ge(),s.ke(t.resumeToken));break;case 4:this.it(n)&&(this.st(n),s.ke(t.resumeToken));break;default:Tt(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.je.forEach((s,o)=>{this.it(o)&&n(o)})}ot(t){const n=t.targetId,s=t.Ce.count,o=this._t(n);if(o){const u=o.target;if(Im(u))if(s===0){const f=new yt(u.path);this.tt(n,f,We.newNoDocument(f,At.min()))}else Qt(s===1,20013,{expectedCount:s});else{const f=this.ut(n);if(f!==s){const m=this.ct(t),p=m?this.lt(m,t,f):1;if(p!==0){this.st(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,g)}}}}}ct(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=es(s).toUint8Array()}catch(p){if(p instanceof lT)return eo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Tp(f,o,u)}catch(p){return eo(p instanceof Nl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.pe===0?null:m}lt(t,n,s){return n.Ce.count===s-this.Tt(t,n.targetId)?0:2}Tt(t,n){const s=this.ze.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.ze.Pt(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.tt(n,u,null),o++)}),o}It(t){const n=new Map;this.je.forEach((u,f)=>{const m=this._t(f);if(m){if(u.current&&Im(m.target)){const p=new yt(m.target.path);this.Et(p).has(f)||this.dt(f,p)||this.tt(f,p,We.newNoDocument(p,t))}u.Le&&(n.set(f,u.qe()),u.Qe())}});let s=Mt();this.Ye.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const g=this._t(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.He.forEach((u,f)=>f.setReadTime(t));const o=new Lh(t,n,this.Ze,this.He,s);return this.He=nr(),this.Je=zc(),this.Ye=zc(),this.Ze=new ae(Dt),o}et(t,n){if(!this.it(t))return;const s=this.dt(t,n.key)?2:0;this.rt(t).$e(n.key,s),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(t)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(t))}tt(t,n,s){if(!this.it(t))return;const o=this.rt(t);this.dt(t,n)?o.$e(n,1):o.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(t)),this.Ye=this.Ye.insert(n,this.At(n).add(t)),s&&(this.He=this.He.insert(n,s))}removeTarget(t){this.je.delete(t)}ut(t){const n=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let n=this.je.get(t);return n||(n=new c0,this.je.set(t,n)),n}At(t){let n=this.Ye.get(t);return n||(n=new De(Dt),this.Ye=this.Ye.insert(t,n)),n}Et(t){let n=this.Je.get(t);return n||(n=new De(Dt),this.Je=this.Je.insert(t,n)),n}it(t){const n=this._t(t)!==null;return n||ut("WatchChangeAggregator","Detected inactive target",t),n}_t(t){const n=this.je.get(t);return n&&n.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new c0),this.ze.getRemoteKeysForTarget(t).forEach(n=>{this.tt(t,n,null)})}dt(t,n){return this.ze.getRemoteKeysForTarget(t).has(n)}}function zc(){return new ae(yt.comparator)}function h0(){return new ae(yt.comparator)}const YC={asc:"ASCENDING",desc:"DESCENDING"},XC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},WC={and:"AND",or:"OR"};class ZC{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Om(r,t){return r.useProto3Json||Nh(t)?t:{value:t}}function _h(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function BT(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function $C(r,t){return _h(r,t.toTimestamp())}function mi(r){return Qt(!!r,49232),At.fromTimestamp(function(n){const s=ts(n);return new Ce(s.seconds,s.nanos)}(r))}function Ap(r,t){return Nm(r,t).canonicalString()}function Nm(r,t){const n=function(o){return new Jt(["projects",o.projectId,"databases",o.database])}(r).child("documents");return t===void 0?n:n.child(t)}function jT(r){const t=Jt.fromString(r);return Qt(QT(t),10190,{key:t.toString()}),t}function xm(r,t){return Ap(r.databaseId,t.path)}function om(r,t){const n=jT(t);if(n.get(1)!==r.databaseId.projectId)throw new ht(tt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ht(tt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new yt(qT(n))}function HT(r,t){return Ap(r.databaseId,t)}function JC(r){const t=jT(r);return t.length===4?Jt.emptyPath():qT(t)}function Mm(r){return new Jt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function qT(r){return Qt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function f0(r,t,n){return{name:xm(r,t),fields:n.value.mapValue.fields}}function tD(r,t){let n;if("targetChange"in t){t.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Tt(39313,{state:g})}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=function(g,E){return g.useProto3Json?(Qt(E===void 0||typeof E=="string",58123),Fe.fromBase64String(E||"")):(Qt(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Fe.fromUint8Array(E||new Uint8Array))}(r,t.targetChange.resumeToken),f=t.targetChange.cause,m=f&&function(g){const E=g.code===void 0?tt.UNKNOWN:LT(g.code);return new ht(E,g.message||"")}(f);n=new zT(s,o,u,m||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=om(r,s.document.name),u=mi(s.document.updateTime),f=s.document.createTime?mi(s.document.createTime):At.min(),m=new Pn({mapValue:{fields:s.document.fields}}),p=We.newFoundDocument(o,u,f,m),g=s.targetIds||[],E=s.removedTargetIds||[];n=new th(g,E,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=om(r,s.document),u=s.readTime?mi(s.readTime):At.min(),f=We.newNoDocument(o,u),m=s.removedTargetIds||[];n=new th([],m,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=om(r,s.document),u=s.removedTargetIds||[];n=new th([],u,o,null)}else{if(!("filter"in t))return Tt(11601,{Vt:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new FC(o,u),m=s.targetId;n=new UT(m,f)}}return n}function eD(r,t){let n;if(t instanceof au)n={update:f0(r,t.key,t.value)};else if(t instanceof PT)n={delete:xm(r,t.key)};else if(t instanceof ta)n={update:f0(r,t.key,t.data),updateMask:cD(t.fieldMask)};else{if(!(t instanceof jC))return Tt(16599,{ft:t.type});n={verify:xm(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof gh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Ql)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Kl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof yh)return{fieldPath:f.field.canonicalString(),increment:m.Re};throw Tt(20930,{transform:f.transform})}(0,s))),t.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:$C(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Tt(27497)}(r,t.precondition)),n}function nD(r,t){return r&&r.length>0?(Qt(t!==void 0,14353),r.map(n=>function(o,u){let f=o.updateTime?mi(o.updateTime):mi(u);return f.isEqual(At.min())&&(f=mi(u)),new UC(f,o.transformResults||[])}(n,t))):[]}function iD(r,t){return{documents:[HT(r,t.path)]}}function rD(r,t){const n={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=HT(r,o);const u=function(g){if(g.length!==0)return GT(Yn.create(g,"and"))}(t.filters);u&&(n.structuredQuery.where=u);const f=function(g){if(g.length!==0)return g.map(E=>function(b){return{field:Ya(b.field),direction:oD(b.dir)}}(E))}(t.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Om(r,t.limit);return m!==null&&(n.structuredQuery.limit=m),t.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(t.endAt)),{gt:n,parent:o}}function sD(r){let t=JC(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Qt(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:t=t.child(E.collectionId)}let u=[];n.where&&(u=function(w){const b=FT(w);return b instanceof Yn&&_T(b)?b.getFilters():[b]}(n.where));let f=[];n.orderBy&&(f=function(w){return w.map(b=>function(V){return new ph(Xa(V.field),function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(V.direction))}(b))}(n.orderBy));let m=null;n.limit&&(m=function(w){let b;return b=typeof w=="object"?w.value:w,Nh(b)?null:b}(n.limit));let p=null;n.startAt&&(p=function(w){const b=!!w.before,M=w.values||[];return new mh(M,b)}(n.startAt));let g=null;return n.endAt&&(g=function(w){const b=!w.before,M=w.values||[];return new mh(M,b)}(n.endAt)),SC(t,o,f,u,m,"F",p,g)}function aD(r,t){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Tt(28987,{purpose:o})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function FT(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Xa(n.unaryFilter.field);return Te.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Xa(n.unaryFilter.field);return Te.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Xa(n.unaryFilter.field);return Te.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Xa(n.unaryFilter.field);return Te.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Tt(61313);default:return Tt(60726)}}(r):r.fieldFilter!==void 0?function(n){return Te.create(Xa(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Tt(58110);default:return Tt(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return Yn.create(n.compositeFilter.filters.map(s=>FT(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Tt(1026)}}(n.compositeFilter.op))}(r):Tt(30097,{filter:r})}function oD(r){return YC[r]}function lD(r){return XC[r]}function uD(r){return WC[r]}function Ya(r){return{fieldPath:r.canonicalString()}}function Xa(r){return qe.fromServerFormat(r.fieldPath)}function GT(r){return r instanceof Te?function(n){if(n.op==="=="){if(Jv(n.value))return{unaryFilter:{field:Ya(n.field),op:"IS_NAN"}};if($v(n.value))return{unaryFilter:{field:Ya(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Jv(n.value))return{unaryFilter:{field:Ya(n.field),op:"IS_NOT_NAN"}};if($v(n.value))return{unaryFilter:{field:Ya(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ya(n.field),op:lD(n.op),value:n.value}}}(r):r instanceof Yn?function(n){const s=n.getFilters().map(o=>GT(o));return s.length===1?s[0]:{compositeFilter:{op:uD(n.op),filters:s}}}(r):Tt(54877,{filter:r})}function cD(r){const t=[];return r.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function QT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(t,n,s,o,u=At.min(),f=At.min(),m=Fe.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(t){return new Qr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Qr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(t){this.wt=t}}function fD(r){const t=sD({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Dm(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(){this.Cn=new mD}addToCollectionParentIndex(t,n){return this.Cn.add(n),J.resolve()}getCollectionParents(t,n){return J.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return J.resolve()}deleteFieldIndex(t,n){return J.resolve()}deleteAllFieldIndexes(t){return J.resolve()}createTargetIndexes(t,n){return J.resolve()}getDocumentsMatchingTarget(t,n){return J.resolve(null)}getIndexType(t,n){return J.resolve(0)}getFieldIndexes(t,n){return J.resolve([])}getNextCollectionGroupToUpdate(t){return J.resolve(null)}getMinOffset(t,n){return J.resolve(Jr.min())}getMinOffsetFromCollectionGroup(t,n){return J.resolve(Jr.min())}updateCollectionGroup(t,n,s){return J.resolve()}updateIndexEntries(t,n){return J.resolve()}}class mD{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n]||new De(Jt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(t){return(this.index[t]||new De(Jt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},KT=41943040;class cn{static withCacheSize(t){return new cn(t,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(KT,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(t){this.ur=t}next(){return this.ur+=2,this.ur}static cr(){return new so(0)}static lr(){return new so(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m0="LruGarbageCollector",pD=1048576;function p0([r,t],[n,s]){const o=Dt(r,n);return o===0?Dt(t,s):o}class gD{constructor(t){this.Er=t,this.buffer=new De(p0),this.dr=0}Ar(){return++this.dr}Rr(t){const n=[t,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();p0(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class yD{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(t){ut(m0,`Garbage collection scheduled in ${t}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){po(n)?ut(m0,"Ignoring IndexedDB error during garbage collection: ",n):await mo(n)}await this.mr(3e5)})}}class _D{constructor(t,n){this.gr=t,this.params=n}calculateTargetCount(t,n){return this.gr.pr(t).next(s=>Math.floor(n/100*s))}nthSequenceNumber(t,n){if(n===0)return J.resolve(Oh.le);const s=new gD(n);return this.gr.forEachTarget(t,o=>s.Rr(o.sequenceNumber)).next(()=>this.gr.yr(t,o=>s.Rr(o))).next(()=>s.maxValue)}removeTargets(t,n,s){return this.gr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.gr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ut("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(d0)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(ut("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),d0):this.wr(t,n))}getCacheSize(t){return this.gr.getCacheSize(t)}wr(t,n){let s,o,u,f,m,p,g;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(ut("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,f=Date.now(),this.nthSequenceNumber(t,o))).next(w=>(s=w,m=Date.now(),this.removeTargets(t,s,n))).next(w=>(u=w,p=Date.now(),this.removeOrphanedDocuments(t,s))).next(w=>(g=Date.now(),Qa()<=xt.DEBUG&&ut("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${w} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:w})))}}function vD(r,t){return new _D(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(){this.changes=new Js(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,We.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?J.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(t,n,s,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(t,n))).next(o=>(s!==null&&Ll(s.mutation,o,Qn.empty(),Ce.now()),o))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.getLocalViewOfDocuments(t,s,Mt()).next(()=>s))}getLocalViewOfDocuments(t,n,s=Mt()){const o=Hs();return this.populateOverlays(t,o,n).next(()=>this.computeViews(t,n,o,s).next(u=>{let f=Ol();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(t,n){const s=Hs();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,Mt()))}populateOverlays(t,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(t,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(t,n,s,o){let u=nr();const f=Pl(),m=function(){return Pl()}();return n.forEach((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof ta)?u=u.insert(g.key,g):E!==void 0?(f.set(g.key,E.mutation.getFieldMask()),Ll(E.mutation,g,E.mutation.getFieldMask(),Ce.now())):f.set(g.key,Qn.empty())}),this.recalculateAndSaveOverlays(t,u).next(p=>(p.forEach((g,E)=>f.set(g,E)),n.forEach((g,E)=>{var w;return m.set(g,new TD(E,(w=f.get(g))!==null&&w!==void 0?w:null))}),m))}recalculateAndSaveOverlays(t,n){const s=Pl();let o=new ae((f,m)=>f-m),u=Mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(f=>{for(const m of f)m.keys().forEach(p=>{const g=n.get(p);if(g===null)return;let E=s.get(p)||Qn.empty();E=m.applyToLocalView(g,E),s.set(p,E);const w=(o.get(m.batchId)||Mt()).add(p);o=o.insert(m.batchId,w)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,w=CT();E.forEach(b=>{if(!u.has(b)){const M=VT(n.get(b),s.get(b));M!==null&&w.set(b,M),u=u.add(b)}}),f.push(this.documentOverlayCache.saveOverlays(t,g,w))}return J.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,n,s,o){return function(f){return yt.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):bT(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,o):this.getDocumentsMatchingCollectionQuery(t,n,s,o)}getNextDocuments(t,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,o-u.size):J.resolve(Hs());let m=Hl,p=u;return f.next(g=>J.forEach(g,(E,w)=>(m<w.largestBatchId&&(m=w.largestBatchId),u.get(E)?J.resolve():this.remoteDocumentCache.getEntry(t,E).next(b=>{p=p.insert(E,b)}))).next(()=>this.populateOverlays(t,g,u)).next(()=>this.computeViews(t,p,g,Mt())).next(E=>({batchId:m,changes:IT(E)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new yt(n)).next(s=>{let o=Ol();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(t,n,s,o){const u=n.collectionGroup;let f=Ol();return this.indexManager.getCollectionParents(t,u).next(m=>J.forEach(m,p=>{const g=function(w,b){return new su(b,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,s,o).next(E=>{E.forEach((w,b)=>{f=f.insert(w,b)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(t,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,u,o))).next(f=>{u.forEach((p,g)=>{const E=g.getKey();f.get(E)===null&&(f=f.insert(E,We.newInvalidDocument(E)))});let m=Ol();return f.forEach((p,g)=>{const E=u.get(p);E!==void 0&&Ll(E.mutation,g,Qn.empty(),Ce.now()),Vh(n,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(t){this.serializer=t,this.kr=new Map,this.qr=new Map}getBundleMetadata(t,n){return J.resolve(this.kr.get(n))}saveBundleMetadata(t,n){return this.kr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:mi(o.createTime)}}(n)),J.resolve()}getNamedQuery(t,n){return J.resolve(this.qr.get(n))}saveNamedQuery(t,n){return this.qr.set(n.name,function(o){return{name:o.name,query:fD(o.bundledQuery),readTime:mi(o.readTime)}}(n)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(){this.overlays=new ae(yt.comparator),this.Qr=new Map}getOverlay(t,n){return J.resolve(this.overlays.get(n))}getOverlays(t,n){const s=Hs();return J.forEach(n,o=>this.getOverlay(t,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(t,n,s){return s.forEach((o,u)=>{this.bt(t,n,u)}),J.resolve()}removeOverlaysForBatchId(t,n,s){const o=this.Qr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Qr.delete(s)),J.resolve()}getOverlaysForCollection(t,n,s){const o=Hs(),u=n.length+1,f=new yt(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return J.resolve(o)}getOverlaysForCollectionGroup(t,n,s,o){let u=new ae((g,E)=>g-E);const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=Hs(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=Hs(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,E)=>m.set(g,E)),!(m.size()>=o)););return J.resolve(m)}bt(t,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Qr.get(o.largestBatchId).delete(s.key);this.Qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new qC(n,s));let u=this.Qr.get(n);u===void 0&&(u=Mt(),this.Qr.set(n,u)),this.Qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(){this.sessionToken=Fe.EMPTY_BYTE_STRING}getSessionToken(t){return J.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{constructor(){this.$r=new De(Le.Ur),this.Kr=new De(Le.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(t,n){const s=new Le(t,n);this.$r=this.$r.add(s),this.Kr=this.Kr.add(s)}Gr(t,n){t.forEach(s=>this.addReference(s,n))}removeReference(t,n){this.zr(new Le(t,n))}jr(t,n){t.forEach(s=>this.removeReference(s,n))}Hr(t){const n=new yt(new Jt([])),s=new Le(n,t),o=new Le(n,t+1),u=[];return this.Kr.forEachInRange([s,o],f=>{this.zr(f),u.push(f.key)}),u}Jr(){this.$r.forEach(t=>this.zr(t))}zr(t){this.$r=this.$r.delete(t),this.Kr=this.Kr.delete(t)}Yr(t){const n=new yt(new Jt([])),s=new Le(n,t),o=new Le(n,t+1);let u=Mt();return this.Kr.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(t){const n=new Le(t,0),s=this.$r.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Le{constructor(t,n){this.key=t,this.Zr=n}static Ur(t,n){return yt.comparator(t.key,n.key)||Dt(t.Zr,n.Zr)}static Wr(t,n){return Dt(t.Zr,n.Zr)||yt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new De(Le.Ur)}checkEmpty(t){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,o){const u=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new HC(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Xr=this.Xr.add(new Le(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return J.resolve(f)}lookupMutationBatch(t,n){return J.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,o=this.ti(s),u=o<0?0:o;return J.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?mp:this.nr-1)}getAllMutationBatches(t){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Le(n,0),o=new Le(n,Number.POSITIVE_INFINITY),u=[];return this.Xr.forEachInRange([s,o],f=>{const m=this.ei(f.Zr);u.push(m)}),J.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new De(Dt);return n.forEach(o=>{const u=new Le(o,0),f=new Le(o,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([u,f],m=>{s=s.add(m.Zr)})}),J.resolve(this.ni(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,o=s.length+1;let u=s;yt.isDocumentKey(u)||(u=u.child(""));const f=new Le(new yt(u),0);let m=new De(Dt);return this.Xr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Zr)),!0)},f),J.resolve(this.ni(m))}ni(t){const n=[];return t.forEach(s=>{const o=this.ei(s);o!==null&&n.push(o)}),n}removeMutationBatch(t,n){Qt(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Xr;return J.forEach(n.mutations,o=>{const u=new Le(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.Xr=s})}sr(t){}containsKey(t,n){const s=new Le(n,0),o=this.Xr.firstAfterOrEqual(s);return J.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,J.resolve()}ri(t,n){return this.ti(t)}ti(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}ei(t){const n=this.ti(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(t){this.ii=t,this.docs=function(){return new ae(yt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ii(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return J.resolve(s?s.document.mutableCopy():We.newInvalidDocument(n))}getEntries(t,n){let s=nr();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():We.newInvalidDocument(o))}),J.resolve(s)}getDocumentsMatchingQuery(t,n,s,o){let u=nr();const f=n.path,m=new yt(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||iC(nC(E),s)<=0||(o.has(E.key)||Vh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return J.resolve(u)}getAllFromCollectionGroup(t,n,s,o){Tt(9500)}si(t,n){return J.forEach(this.docs,s=>n(s))}newChangeBuffer(t){return new CD(this)}getSize(t){return J.resolve(this.size)}}class CD extends ED{constructor(t){super(),this.Br=t}applyChanges(t){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Br.addEntry(t,o)):this.Br.removeEntry(s)}),J.waitFor(n)}getFromCache(t,n){return this.Br.getEntry(t,n)}getAllFromCache(t,n){return this.Br.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(t){this.persistence=t,this.oi=new Js(n=>yp(n),_p),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this._i=0,this.ai=new bp,this.targetCount=0,this.ui=so.cr()}forEachTarget(t,n){return this.oi.forEach((s,o)=>n(o)),J.resolve()}getLastRemoteSnapshotVersion(t){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return J.resolve(this._i)}allocateTargetId(t){return this.highestTargetId=this.ui.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this._i&&(this._i=n),J.resolve()}Tr(t){this.oi.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ui=new so(n),this.highestTargetId=n),t.sequenceNumber>this._i&&(this._i=t.sequenceNumber)}addTargetData(t,n){return this.Tr(n),this.targetCount+=1,J.resolve()}updateTargetData(t,n){return this.Tr(n),J.resolve()}removeTargetData(t,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,J.resolve()}removeTargets(t,n,s){let o=0;const u=[];return this.oi.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.oi.delete(f),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)}),J.waitFor(u).next(()=>o)}getTargetCount(t){return J.resolve(this.targetCount)}getTargetData(t,n){const s=this.oi.get(n)||null;return J.resolve(s)}addMatchingKeys(t,n,s){return this.ai.Gr(n,s),J.resolve()}removeMatchingKeys(t,n,s){this.ai.jr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(t,f))}),J.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this.ai.Hr(n),J.resolve()}getMatchingKeysForTargetId(t,n){const s=this.ai.Yr(n);return J.resolve(s)}containsKey(t,n){return J.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(t,n){this.ci={},this.overlays={},this.li=new Oh(0),this.hi=!1,this.hi=!0,this.Pi=new SD,this.referenceDelegate=t(this),this.Ti=new DD(this),this.indexManager=new dD,this.remoteDocumentCache=function(o){return new ID(o)}(s=>this.referenceDelegate.Ii(s)),this.serializer=new hD(n),this.Ei=new bD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new wD,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ci[t.toKey()];return s||(s=new RD(n,this.referenceDelegate),this.ci[t.toKey()]=s),s}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(t,n,s){ut("MemoryPersistence","Starting transaction:",t);const o=new OD(this.li.next());return this.referenceDelegate.di(),s(o).next(u=>this.referenceDelegate.Ai(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ri(t,n){return J.or(Object.values(this.ci).map(s=>()=>s.containsKey(t,n)))}}class OD extends sC{constructor(t){super(),this.currentSequenceNumber=t}}class wp{constructor(t){this.persistence=t,this.Vi=new bp,this.mi=null}static fi(t){return new wp(t)}get gi(){if(this.mi)return this.mi;throw Tt(60996)}addReference(t,n,s){return this.Vi.addReference(s,n),this.gi.delete(s.toString()),J.resolve()}removeReference(t,n,s){return this.Vi.removeReference(s,n),this.gi.add(s.toString()),J.resolve()}markPotentiallyOrphaned(t,n){return this.gi.add(n.toString()),J.resolve()}removeTarget(t,n){this.Vi.Hr(n.targetId).forEach(o=>this.gi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next(o=>{o.forEach(u=>this.gi.add(u.toString()))}).next(()=>s.removeTargetData(t,n))}di(){this.mi=new Set}Ai(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.gi,s=>{const o=yt.fromPath(s);return this.pi(t,o).next(u=>{u||n.removeEntry(o,At.min())})}).next(()=>(this.mi=null,n.apply(t)))}updateLimboDocument(t,n){return this.pi(t,n).next(s=>{s?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(t){return 0}pi(t,n){return J.or([()=>J.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ri(t,n)])}}class vh{constructor(t,n){this.persistence=t,this.yi=new Js(s=>lC(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=vD(this,n)}static fi(t,n){return new vh(t,n)}di(){}Ai(t){return J.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}pr(t){const n=this.Sr(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>n.next(o=>s+o))}Sr(t){let n=0;return this.yr(t,s=>{n++}).next(()=>n)}yr(t,n){return J.forEach(this.yi,(s,o)=>this.Dr(t,s,o).next(u=>u?J.resolve():n(o)))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.si(t,f=>this.Dr(t,f,n).next(m=>{m||(s++,u.removeEntry(f,At.min()))})).next(()=>u.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,n){return this.yi.set(n,t.currentSequenceNumber),J.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.yi.set(s,t.currentSequenceNumber),J.resolve()}removeReference(t,n,s){return this.yi.set(s,t.currentSequenceNumber),J.resolve()}updateLimboDocument(t,n){return this.yi.set(n,t.currentSequenceNumber),J.resolve()}Ii(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Zc(t.data.value)),n}Dr(t,n,s){return J.or([()=>this.persistence.Ri(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.yi.get(n);return J.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{constructor(t,n,s,o){this.targetId=t,this.fromCache=n,this.ds=s,this.As=o}static Rs(t,n){let s=Mt(),o=Mt();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Sp(t,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return cS()?8:aC(Ze())>0?6:4}()}initialize(t,n){this.ys=t,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(t,n,s,o){const u={result:null};return this.ws(t,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.Ss(t,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new ND;return this.bs(t,n,f).next(m=>{if(u.result=m,this.fs)return this.Ds(t,n,f,m.size)})}).next(()=>u.result)}Ds(t,n,s,o){return s.documentReadCount<this.gs?(Qa()<=xt.DEBUG&&ut("QueryEngine","SDK will not create cache indexes for query:",Ka(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),J.resolve()):(Qa()<=xt.DEBUG&&ut("QueryEngine","Query:",Ka(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ps*o?(Qa()<=xt.DEBUG&&ut("QueryEngine","The SDK decides to create cache indexes for query:",Ka(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,di(n))):J.resolve())}ws(t,n){if(i0(n))return J.resolve(null);let s=di(n);return this.indexManager.getIndexType(t,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Dm(n,null,"F"),s=di(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next(u=>{const f=Mt(...u);return this.ys.getDocuments(t,f).next(m=>this.indexManager.getMinOffset(t,s).next(p=>{const g=this.vs(n,m);return this.Cs(n,g,f,p.readTime)?this.ws(t,Dm(n,null,"F")):this.Fs(t,g,n,p)}))})))}Ss(t,n,s,o){return i0(n)||o.isEqual(At.min())?J.resolve(null):this.ys.getDocuments(t,s).next(u=>{const f=this.vs(n,u);return this.Cs(n,f,s,o)?J.resolve(null):(Qa()<=xt.DEBUG&&ut("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ka(n)),this.Fs(t,f,n,eC(o,Hl)).next(m=>m))})}vs(t,n){let s=new De(ST(t));return n.forEach((o,u)=>{Vh(t,u)&&(s=s.add(u))}),s}Cs(t,n,s,o){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}bs(t,n,s){return Qa()<=xt.DEBUG&&ut("QueryEngine","Using full collection scan to execute query:",Ka(n)),this.ys.getDocumentsMatchingQuery(t,n,Jr.min(),s)}Fs(t,n,s,o){return this.ys.getDocumentsMatchingQuery(t,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rp="LocalStore",MD=3e8;class VD{constructor(t,n,s,o){this.persistence=t,this.Ms=n,this.serializer=o,this.xs=new ae(Dt),this.Os=new Js(u=>yp(u),_p),this.Ns=new Map,this.Bs=t.getRemoteDocumentCache(),this.Ti=t.getTargetCache(),this.Ei=t.getBundleCache(),this.Ls(s)}Ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new AD(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.xs))}}function kD(r,t,n,s){return new VD(r,t,n,s)}async function XT(r,t){const n=wt(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.Ls(t),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let p=Mt();for(const g of o){f.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next(g=>({ks:g,removedBatchIds:f,addedBatchIds:m}))})})}function PD(r,t){const n=wt(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=t.batch.keys(),u=n.Bs.newChangeBuffer({trackRemovals:!0});return function(m,p,g,E){const w=g.batch,b=w.keys();let M=J.resolve();return b.forEach(V=>{M=M.next(()=>E.getEntry(p,V)).next(j=>{const B=g.docVersions.get(V);Qt(B!==null,48541),j.version.compareTo(B)<0&&(w.applyToRemoteDocument(j,g),j.isValidDocument()&&(j.setReadTime(g.commitVersion),E.addEntry(j)))})}),M.next(()=>m.mutationQueue.removeMutationBatch(p,w))}(n,s,t,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Mt();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(t))).next(()=>n.localDocuments.getDocuments(s,o))})}function WT(r){const t=wt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Ti.getLastRemoteSnapshotVersion(n))}function LD(r,t){const n=wt(r),s=t.snapshotVersion;let o=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.Bs.newChangeBuffer({trackRemovals:!0});o=n.xs;const m=[];t.targetChanges.forEach((E,w)=>{const b=o.get(w);if(!b)return;m.push(n.Ti.removeMatchingKeys(u,E.removedDocuments,w).next(()=>n.Ti.addMatchingKeys(u,E.addedDocuments,w)));let M=b.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(w)!==null?M=M.withResumeToken(Fe.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):E.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(E.resumeToken,s)),o=o.insert(w,M),function(j,B,Q){return j.resumeToken.approximateByteSize()===0||B.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=MD?!0:Q.addedDocuments.size+Q.modifiedDocuments.size+Q.removedDocuments.size>0}(b,M,E)&&m.push(n.Ti.updateTargetData(u,M))});let p=nr(),g=Mt();if(t.documentUpdates.forEach(E=>{t.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(UD(u,f,t.documentUpdates).next(E=>{p=E.qs,g=E.Qs})),!s.isEqual(At.min())){const E=n.Ti.getLastRemoteSnapshotVersion(u).next(w=>n.Ti.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return J.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(n.xs=o,u))}function UD(r,t,n){let s=Mt(),o=Mt();return n.forEach(u=>s=s.add(u)),t.getEntries(r,s).next(u=>{let f=nr();return n.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(At.min())?(t.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(p),f=f.insert(m,p)):ut(Rp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{qs:f,Qs:o}})}function zD(r,t){const n=wt(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=mp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function BD(r,t){const n=wt(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Ti.getTargetData(s,t).next(u=>u?(o=u,J.resolve(o)):n.Ti.allocateTargetId(s).next(f=>(o=new Qr(t,f,"TargetPurposeListen",s.currentSequenceNumber),n.Ti.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.xs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.xs=n.xs.insert(s.targetId,s),n.Os.set(t,s.targetId)),s})}async function Vm(r,t,n){const s=wt(r),o=s.xs.get(t),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!po(f))throw f;ut(Rp,`Failed to update sequence numbers for target ${t}: ${f}`)}s.xs=s.xs.remove(t),s.Os.delete(o.target)}function g0(r,t,n){const s=wt(r);let o=At.min(),u=Mt();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,g,E){const w=wt(p),b=w.Os.get(E);return b!==void 0?J.resolve(w.xs.get(b)):w.Ti.getTargetData(g,E)}(s,f,di(t)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Ti.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>s.Ms.getDocumentsMatchingQuery(f,t,n?o:At.min(),n?u:Mt())).next(m=>(jD(s,IC(t),m),{documents:m,$s:u})))}function jD(r,t,n){let s=r.Ns.get(t)||At.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.Ns.set(t,s)}class y0{constructor(){this.activeTargetIds=MC()}js(t){this.activeTargetIds=this.activeTargetIds.add(t)}Hs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}zs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class HD{constructor(){this.xo=new y0,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.xo.js(t),this.Oo[t]||"not-current"}updateQueryState(t,n,s){this.Oo[t]=n}removeLocalQueryTarget(t){this.xo.Hs(t)}isLocalQueryTarget(t){return this.xo.activeTargetIds.has(t)}clearQueryState(t){delete this.Oo[t]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(t){return this.xo.activeTargetIds.has(t)}start(){return this.xo=new y0,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{No(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0="ConnectivityMonitor";class v0{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(t){this.Qo.push(t)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){ut(_0,"Network connectivity changed: AVAILABLE");for(const t of this.Qo)t(0)}qo(){ut(_0,"Network connectivity changed: UNAVAILABLE");for(const t of this.Qo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bc=null;function km(){return Bc===null?Bc=function(){return 268435456+Math.round(2147483648*Math.random())}():Bc++,"0x"+Bc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lm="RestConnection",FD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class GD{get Uo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+t.host,this.Wo=`projects/${s}/databases/${o}`,this.Go=this.databaseId.database===fh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}zo(t,n,s,o,u){const f=km(),m=this.jo(t,n.toUriEncodedString());ut(lm,`Sending RPC '${t}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(p,o,u);const{host:g}=new URL(m),E=$l(g);return this.Jo(t,m,p,s,E).then(w=>(ut(lm,`Received RPC '${t}' ${f}: `,w),w),w=>{throw eo(lm,`RPC '${t}' ${f} failed with error: `,w,"url: ",m,"request:",s),w})}Yo(t,n,s,o,u,f){return this.zo(t,n,s,o,u)}Ho(t,n,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+fo}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>t[u]=o),s&&s.headers.forEach((o,u)=>t[u]=o)}jo(t,n){const s=FD[t];return`${this.Ko}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(t){this.Zo=t.Zo,this.Xo=t.Xo}e_(t){this.t_=t}n_(t){this.r_=t}i_(t){this.s_=t}onMessage(t){this.o_=t}close(){this.Xo()}send(t){this.Zo(t)}__(){this.t_()}a_(){this.r_()}u_(t){this.s_(t)}c_(t){this.o_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ye="WebChannelConnection";class KD extends GD{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,s,o,u){const f=km();return new Promise((m,p)=>{const g=new ZE;g.setWithCredentials(!0),g.listenOnce($E.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Wc.NO_ERROR:const w=g.getResponseJson();ut(Ye,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(w)),m(w);break;case Wc.TIMEOUT:ut(Ye,`RPC '${t}' ${f} timed out`),p(new ht(tt.DEADLINE_EXCEEDED,"Request time out"));break;case Wc.HTTP_ERROR:const b=g.getStatus();if(ut(Ye,`RPC '${t}' ${f} failed with status:`,b,"response text:",g.getResponseText()),b>0){let M=g.getResponseJson();Array.isArray(M)&&(M=M[0]);const V=M==null?void 0:M.error;if(V&&V.status&&V.message){const j=function(Q){const q=Q.toLowerCase().replace(/_/g,"-");return Object.values(tt).indexOf(q)>=0?q:tt.UNKNOWN}(V.status);p(new ht(j,V.message))}else p(new ht(tt.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ht(tt.UNAVAILABLE,"Connection failed."));break;default:Tt(9055,{l_:t,streamId:f,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ut(Ye,`RPC '${t}' ${f} completed.`)}});const E=JSON.stringify(o);ut(Ye,`RPC '${t}' ${f} sending request:`,o),g.send(n,"POST",E,s,15)})}T_(t,n,s){const o=km(),u=[this.Ko,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=eT(),m=tT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Ho(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");ut(Ye,`Creating RPC '${t}' stream ${o}: ${E}`,p);const w=f.createWebChannel(E,p);let b=!1,M=!1;const V=new QD({Zo:B=>{M?ut(Ye,`Not sending because RPC '${t}' stream ${o} is closed:`,B):(b||(ut(Ye,`Opening RPC '${t}' stream ${o} transport.`),w.open(),b=!0),ut(Ye,`RPC '${t}' stream ${o} sending:`,B),w.send(B))},Xo:()=>w.close()}),j=(B,Q,q)=>{B.listen(Q,Y=>{try{q(Y)}catch(it){setTimeout(()=>{throw it},0)}})};return j(w,Dl.EventType.OPEN,()=>{M||(ut(Ye,`RPC '${t}' stream ${o} transport opened.`),V.__())}),j(w,Dl.EventType.CLOSE,()=>{M||(M=!0,ut(Ye,`RPC '${t}' stream ${o} transport closed`),V.u_())}),j(w,Dl.EventType.ERROR,B=>{M||(M=!0,eo(Ye,`RPC '${t}' stream ${o} transport errored. Name:`,B.name,"Message:",B.message),V.u_(new ht(tt.UNAVAILABLE,"The operation could not be completed")))}),j(w,Dl.EventType.MESSAGE,B=>{var Q;if(!M){const q=B.data[0];Qt(!!q,16349);const Y=q,it=(Y==null?void 0:Y.error)||((Q=Y[0])===null||Q===void 0?void 0:Q.error);if(it){ut(Ye,`RPC '${t}' stream ${o} received error:`,it);const st=it.status;let mt=function(S){const C=Ee[S];if(C!==void 0)return LT(C)}(st),O=it.message;mt===void 0&&(mt=tt.INTERNAL,O="Unknown error status: "+st+" with message "+it.message),M=!0,V.u_(new ht(mt,O)),w.close()}else ut(Ye,`RPC '${t}' stream ${o} received:`,q),V.c_(q)}}),j(m,JE.STAT_EVENT,B=>{B.stat===Am.PROXY?ut(Ye,`RPC '${t}' stream ${o} detected buffering proxy`):B.stat===Am.NOPROXY&&ut(Ye,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{V.a_()},0),V}}function um(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uh(r){return new ZC(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(t,n,s=1e3,o=1.5,u=6e4){this.xi=t,this.timerId=n,this.I_=s,this.E_=o,this.d_=u,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(t){this.cancel();const n=Math.floor(this.A_+this.g_()),s=Math.max(0,Date.now()-this.V_),o=Math.max(0,n-s);o>0&&ut("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.A_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,o,()=>(this.V_=Date.now(),t())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0="PersistentStream";class $T{constructor(t,n,s,o,u,f,m,p){this.xi=t,this.y_=s,this.w_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new ZT(t,n)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(t){this.k_(),this.stream.send(t)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(t,n){this.k_(),this.q_(),this.C_.cancel(),this.S_++,t!==4?this.C_.reset():n&&n.code===tt.RESOURCE_EXHAUSTED?(er(n.toString()),er("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):n&&n.code===tt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.i_(n)}Q_(){}auth(){this.state=1;const t=this.U_(this.S_),n=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.S_===n&&this.K_(s,o)},s=>{t(()=>{const o=new ht(tt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.W_(o)})})}K_(t,n){const s=this.U_(this.S_);this.stream=this.G_(t,n),this.stream.e_(()=>{s(()=>this.listener.e_())}),this.stream.n_(()=>{s(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(o=>{s(()=>this.W_(o))}),this.stream.onMessage(o=>{s(()=>++this.v_==1?this.z_(o):this.onNext(o))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(t){return ut(E0,`close with error: ${t}`),this.stream=null,this.close(4,t)}U_(t){return n=>{this.xi.enqueueAndForget(()=>this.S_===t?n():(ut(E0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class YD extends $T{constructor(t,n,s,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}G_(t,n){return this.connection.T_("Listen",t,n)}z_(t){return this.onNext(t)}onNext(t){this.C_.reset();const n=tD(this.serializer,t),s=function(u){if(!("targetChange"in u))return At.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?At.min():f.readTime?mi(f.readTime):At.min()}(t);return this.listener.j_(n,s)}H_(t){const n={};n.database=Mm(this.serializer),n.addTarget=function(u,f){let m;const p=f.target;if(m=Im(p)?{documents:iD(u,p)}:{query:rD(u,p).gt},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=BT(u,f.resumeToken);const g=Om(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(At.min())>0){m.readTime=_h(u,f.snapshotVersion.toTimestamp());const g=Om(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,t);const s=aD(this.serializer,t);s&&(n.labels=s),this.L_(n)}J_(t){const n={};n.database=Mm(this.serializer),n.removeTarget=t,this.L_(n)}}class XD extends $T{constructor(t,n,s,o,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(t,n){return this.connection.T_("Write",t,n)}z_(t){return Qt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Qt(!t.writeResults||t.writeResults.length===0,55816),this.listener.X_()}onNext(t){Qt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.C_.reset();const n=nD(t.writeResults,t.commitTime),s=mi(t.commitTime);return this.listener.ea(s,n)}ta(){const t={};t.database=Mm(this.serializer),this.L_(t)}Z_(t){const n={streamToken:this.lastStreamToken,writes:t.map(s=>eD(this.serializer,s))};this.L_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{}class ZD extends WD{constructor(t,n,s,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.na=!1}ra(){if(this.na)throw new ht(tt.FAILED_PRECONDITION,"The client has already been terminated.")}zo(t,n,s,o){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.zo(t,Nm(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ht(tt.UNKNOWN,u.toString())})}Yo(t,n,s,o,u){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Yo(t,Nm(n,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ht(tt.UNKNOWN,f.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class $D{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(t){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.aa("Offline")))}set(t){this.la(),this.ia=0,t==="Online"&&(this.oa=!1),this.aa(t)}aa(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ua(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(er(n),this.oa=!1):ut("OnlineStateTracker",n)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xs="RemoteStore";class JD{constructor(t,n,s,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=u,this.Ea.No(f=>{s.enqueueAndForget(async()=>{ea(this)&&(ut(Xs,"Restarting streams for network reachability change."),await async function(p){const g=wt(p);g.Ta.add(4),await lu(g),g.da.set("Unknown"),g.Ta.delete(4),await zh(g)}(this))})}),this.da=new $D(s,o)}}async function zh(r){if(ea(r))for(const t of r.Ia)await t(!0)}async function lu(r){for(const t of r.Ia)await t(!1)}function JT(r,t){const n=wt(r);n.Pa.has(t.targetId)||(n.Pa.set(t.targetId,t),Op(n)?Dp(n):go(n).M_()&&Cp(n,t))}function Ip(r,t){const n=wt(r),s=go(n);n.Pa.delete(t),s.M_()&&tA(n,t),n.Pa.size===0&&(s.M_()?s.N_():ea(n)&&n.da.set("Unknown"))}function Cp(r,t){if(r.Aa.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(At.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}go(r).H_(t)}function tA(r,t){r.Aa.Ke(t),go(r).J_(t)}function Dp(r){r.Aa=new KC({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>r.Pa.get(t)||null,Pt:()=>r.datastore.serializer.databaseId}),go(r).start(),r.da._a()}function Op(r){return ea(r)&&!go(r).F_()&&r.Pa.size>0}function ea(r){return wt(r).Ta.size===0}function eA(r){r.Aa=void 0}async function tO(r){r.da.set("Online")}async function eO(r){r.Pa.forEach((t,n)=>{Cp(r,t)})}async function nO(r,t){eA(r),Op(r)?(r.da.ca(t),Dp(r)):r.da.set("Unknown")}async function iO(r,t,n){if(r.da.set("Online"),t instanceof zT&&t.state===2&&t.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Pa.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Pa.delete(m),o.Aa.removeTarget(m))}(r,t)}catch(s){ut(Xs,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Eh(r,s)}else if(t instanceof th?r.Aa.Xe(t):t instanceof UT?r.Aa.ot(t):r.Aa.nt(t),!n.isEqual(At.min()))try{const s=await WT(r.localStore);n.compareTo(s)>=0&&await function(u,f){const m=u.Aa.It(f);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Pa.get(g);E&&u.Pa.set(g,E.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,g)=>{const E=u.Pa.get(p);if(!E)return;u.Pa.set(p,E.withResumeToken(Fe.EMPTY_BYTE_STRING,E.snapshotVersion)),tA(u,p);const w=new Qr(E.target,p,g,E.sequenceNumber);Cp(u,w)}),u.remoteSyncer.applyRemoteEvent(m)}(r,n)}catch(s){ut(Xs,"Failed to raise snapshot:",s),await Eh(r,s)}}async function Eh(r,t,n){if(!po(t))throw t;r.Ta.add(1),await lu(r),r.da.set("Offline"),n||(n=()=>WT(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ut(Xs,"Retrying IndexedDB access"),await n(),r.Ta.delete(1),await zh(r)})}function nA(r,t){return t().catch(n=>Eh(r,n,t))}async function Bh(r){const t=wt(r),n=is(t);let s=t.ha.length>0?t.ha[t.ha.length-1].batchId:mp;for(;rO(t);)try{const o=await zD(t.localStore,s);if(o===null){t.ha.length===0&&n.N_();break}s=o.batchId,sO(t,o)}catch(o){await Eh(t,o)}iA(t)&&rA(t)}function rO(r){return ea(r)&&r.ha.length<10}function sO(r,t){r.ha.push(t);const n=is(r);n.M_()&&n.Y_&&n.Z_(t.mutations)}function iA(r){return ea(r)&&!is(r).F_()&&r.ha.length>0}function rA(r){is(r).start()}async function aO(r){is(r).ta()}async function oO(r){const t=is(r);for(const n of r.ha)t.Z_(n.mutations)}async function lO(r,t,n){const s=r.ha.shift(),o=Ep.from(s,t,n);await nA(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Bh(r)}async function uO(r,t){t&&is(r).Y_&&await async function(s,o){if(function(f){return GC(f)&&f!==tt.ABORTED}(o.code)){const u=s.ha.shift();is(s).O_(),await nA(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Bh(s)}}(r,t),iA(r)&&rA(r)}async function T0(r,t){const n=wt(r);n.asyncQueue.verifyOperationInProgress(),ut(Xs,"RemoteStore received new credentials");const s=ea(n);n.Ta.add(3),await lu(n),s&&n.da.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ta.delete(3),await zh(n)}async function cO(r,t){const n=wt(r);t?(n.Ta.delete(2),await zh(n)):t||(n.Ta.add(2),await lu(n),n.da.set("Unknown"))}function go(r){return r.Ra||(r.Ra=function(n,s,o){const u=wt(n);return u.ra(),new YD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{e_:tO.bind(null,r),n_:eO.bind(null,r),i_:nO.bind(null,r),j_:iO.bind(null,r)}),r.Ia.push(async t=>{t?(r.Ra.O_(),Op(r)?Dp(r):r.da.set("Unknown")):(await r.Ra.stop(),eA(r))})),r.Ra}function is(r){return r.Va||(r.Va=function(n,s,o){const u=wt(n);return u.ra(),new XD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{e_:()=>Promise.resolve(),n_:aO.bind(null,r),i_:uO.bind(null,r),X_:oO.bind(null,r),ea:lO.bind(null,r)}),r.Ia.push(async t=>{t?(r.Va.O_(),await Bh(r)):(await r.Va.stop(),r.ha.length>0&&(ut(Xs,`Stopping write stream with ${r.ha.length} pending writes`),r.ha=[]))})),r.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{constructor(t,n,s,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Zr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,o,u){const f=Date.now()+s,m=new Np(t,n,f,o,u);return m.start(s),m}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ht(tt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xp(r,t){if(er("AsyncQueue",`${t}: ${r}`),po(r))return new ht(tt.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{static emptySet(t){return new Ja(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||yt.comparator(n.key,s.key):(n,s)=>yt.comparator(n.key,s.key),this.keyedMap=Ol(),this.sortedSet=new ae(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,s)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Ja)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new Ja;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(){this.ma=new ae(yt.comparator)}track(t){const n=t.doc.key,s=this.ma.get(n);s?t.type!==0&&s.type===3?this.ma=this.ma.insert(n,t):t.type===3&&s.type!==1?this.ma=this.ma.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ma=this.ma.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ma=this.ma.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ma=this.ma.remove(n):t.type===1&&s.type===2?this.ma=this.ma.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ma=this.ma.insert(n,{type:2,doc:t.doc}):Tt(63341,{Vt:t,fa:s}):this.ma=this.ma.insert(n,t)}ga(){const t=[];return this.ma.inorderTraversal((n,s)=>{t.push(s)}),t}}class ao{constructor(t,n,s,o,u,f,m,p,g){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(t,n,s,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new ao(t,n,Ja.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Mh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(t=>t.Sa())}}class fO{constructor(){this.queries=b0(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(n,s){const o=wt(n),u=o.queries;o.queries=b0(),u.forEach((f,m)=>{for(const p of m.ya)p.onError(s)})})(this,new ht(tt.ABORTED,"Firestore shutting down"))}}function b0(){return new Js(r=>wT(r),Mh)}async function dO(r,t){const n=wt(r);let s=3;const o=t.query;let u=n.queries.get(o);u?!u.wa()&&t.Sa()&&(s=2):(u=new hO,s=t.Sa()?0:1);try{switch(s){case 0:u.pa=await n.onListen(o,!0);break;case 1:u.pa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=xp(f,`Initialization of query '${Ka(t.query)}' failed`);return void t.onError(m)}n.queries.set(o,u),u.ya.push(t),t.Da(n.onlineState),u.pa&&t.va(u.pa)&&Mp(n)}async function mO(r,t){const n=wt(r),s=t.query;let o=3;const u=n.queries.get(s);if(u){const f=u.ya.indexOf(t);f>=0&&(u.ya.splice(f,1),u.ya.length===0?o=t.Sa()?0:1:!u.wa()&&t.Sa()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function pO(r,t){const n=wt(r);let s=!1;for(const o of t){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.ya)m.va(o)&&(s=!0);f.pa=o}}s&&Mp(n)}function gO(r,t,n){const s=wt(r),o=s.queries.get(t);if(o)for(const u of o.ya)u.onError(n);s.queries.delete(t)}function Mp(r){r.ba.forEach(t=>{t.next()})}var Pm,w0;(w0=Pm||(Pm={})).Ca="default",w0.Cache="cache";class yO{constructor(t,n,s){this.query=t,this.Fa=n,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=s||{}}va(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new ao(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Ma?this.Oa(t)&&(this.Fa.next(t),n=!0):this.Na(t,this.onlineState)&&(this.Ba(t),n=!0),this.xa=t,n}onError(t){this.Fa.error(t)}Da(t){this.onlineState=t;let n=!1;return this.xa&&!this.Ma&&this.Na(this.xa,t)&&(this.Ba(this.xa),n=!0),n}Na(t,n){if(!t.fromCache||!this.Sa())return!0;const s=n!=="Offline";return(!this.options.La||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Oa(t){if(t.docChanges.length>0)return!0;const n=this.xa&&this.xa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ba(t){t=ao.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Ma=!0,this.Fa.next(t)}Sa(){return this.options.source!==Pm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{constructor(t){this.key=t}}class aA{constructor(t){this.key=t}}class _O{constructor(t,n){this.query=t,this.Ga=n,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=Mt(),this.mutatedKeys=Mt(),this.Ha=ST(t),this.Ja=new Ja(this.Ha)}get Ya(){return this.Ga}Za(t,n){const s=n?n.Xa:new A0,o=n?n.Ja:this.Ja;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((E,w)=>{const b=o.get(E),M=Vh(this.query,w)?w:null,V=!!b&&this.mutatedKeys.has(b.key),j=!!M&&(M.hasLocalMutations||this.mutatedKeys.has(M.key)&&M.hasCommittedMutations);let B=!1;b&&M?b.data.isEqual(M.data)?V!==j&&(s.track({type:3,doc:M}),B=!0):this.eu(b,M)||(s.track({type:2,doc:M}),B=!0,(p&&this.Ha(M,p)>0||g&&this.Ha(M,g)<0)&&(m=!0)):!b&&M?(s.track({type:0,doc:M}),B=!0):b&&!M&&(s.track({type:1,doc:b}),B=!0,(p||g)&&(m=!0)),B&&(M?(f=f.add(M),u=j?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{Ja:f,Xa:s,Cs:m,mutatedKeys:u}}eu(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,o){const u=this.Ja;this.Ja=t.Ja,this.mutatedKeys=t.mutatedKeys;const f=t.Xa.ga();f.sort((E,w)=>function(M,V){const j=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Tt(20277,{Vt:B})}};return j(M)-j(V)}(E.type,w.type)||this.Ha(E.doc,w.doc)),this.tu(s),o=o!=null&&o;const m=n&&!o?this.nu():[],p=this.ja.size===0&&this.current&&!o?1:0,g=p!==this.za;return this.za=p,f.length!==0||g?{snapshot:new ao(this.query,t.Ja,u,f,t.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),ru:m}:{ru:m}}Da(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new A0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(t){return!this.Ga.has(t)&&!!this.Ja.has(t)&&!this.Ja.get(t).hasLocalMutations}tu(t){t&&(t.addedDocuments.forEach(n=>this.Ga=this.Ga.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ga=this.Ga.delete(n)),this.current=t.current)}nu(){if(!this.current)return[];const t=this.ja;this.ja=Mt(),this.Ja.forEach(s=>{this.iu(s.key)&&(this.ja=this.ja.add(s.key))});const n=[];return t.forEach(s=>{this.ja.has(s)||n.push(new aA(s))}),this.ja.forEach(s=>{t.has(s)||n.push(new sA(s))}),n}su(t){this.Ga=t.$s,this.ja=Mt();const n=this.Za(t.documents);return this.applyChanges(n,!0)}ou(){return ao.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}}const Vp="SyncEngine";class vO{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class EO{constructor(t){this.key=t,this._u=!1}}class TO{constructor(t,n,s,o,u,f){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.au={},this.uu=new Js(m=>wT(m),Mh),this.cu=new Map,this.lu=new Set,this.hu=new ae(yt.comparator),this.Pu=new Map,this.Tu=new bp,this.Iu={},this.Eu=new Map,this.du=so.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function AO(r,t,n=!0){const s=fA(r);let o;const u=s.uu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.ou()):o=await oA(s,t,n,!0),o}async function bO(r,t){const n=fA(r);await oA(n,t,!0,!1)}async function oA(r,t,n,s){const o=await BD(r.localStore,di(t)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await wO(r,t,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&JT(r.remoteStore,o),m}async function wO(r,t,n,s,o){r.Ru=(w,b,M)=>async function(j,B,Q,q){let Y=B.view.Za(Q);Y.Cs&&(Y=await g0(j.localStore,B.query,!1).then(({documents:O})=>B.view.Za(O,Y)));const it=q&&q.targetChanges.get(B.targetId),st=q&&q.targetMismatches.get(B.targetId)!=null,mt=B.view.applyChanges(Y,j.isPrimaryClient,it,st);return R0(j,B.targetId,mt.ru),mt.snapshot}(r,w,b,M);const u=await g0(r.localStore,t,!0),f=new _O(t,u.$s),m=f.Za(u.documents),p=ou.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),g=f.applyChanges(m,r.isPrimaryClient,p);R0(r,n,g.ru);const E=new vO(t,n,f);return r.uu.set(t,E),r.cu.has(n)?r.cu.get(n).push(t):r.cu.set(n,[t]),g.snapshot}async function SO(r,t,n){const s=wt(r),o=s.uu.get(t),u=s.cu.get(o.targetId);if(u.length>1)return s.cu.set(o.targetId,u.filter(f=>!Mh(f,t))),void s.uu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Vm(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Ip(s.remoteStore,o.targetId),Lm(s,o.targetId)}).catch(mo)):(Lm(s,o.targetId),await Vm(s.localStore,o.targetId,!0))}async function RO(r,t){const n=wt(r),s=n.uu.get(t),o=n.cu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Ip(n.remoteStore,s.targetId))}async function IO(r,t,n){const s=VO(r);try{const o=await function(f,m){const p=wt(f),g=Ce.now(),E=m.reduce((M,V)=>M.add(V.key),Mt());let w,b;return p.persistence.runTransaction("Locally write mutations","readwrite",M=>{let V=nr(),j=Mt();return p.Bs.getEntries(M,E).next(B=>{V=B,V.forEach((Q,q)=>{q.isValidDocument()||(j=j.add(Q))})}).next(()=>p.localDocuments.getOverlayedDocuments(M,V)).next(B=>{w=B;const Q=[];for(const q of m){const Y=BC(q,w.get(q.key).overlayedDocument);Y!=null&&Q.push(new ta(q.key,Y,pT(Y.value.mapValue),Zi.exists(!0)))}return p.mutationQueue.addMutationBatch(M,g,Q,m)}).next(B=>{b=B;const Q=B.applyToLocalDocumentSet(w,j);return p.documentOverlayCache.saveOverlays(M,B.batchId,Q)})}).then(()=>({batchId:b.batchId,changes:IT(w)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let g=f.Iu[f.currentUser.toKey()];g||(g=new ae(Dt)),g=g.insert(m,p),f.Iu[f.currentUser.toKey()]=g}(s,o.batchId,n),await uu(s,o.changes),await Bh(s.remoteStore)}catch(o){const u=xp(o,"Failed to persist write");n.reject(u)}}async function lA(r,t){const n=wt(r);try{const s=await LD(n.localStore,t);t.targetChanges.forEach((o,u)=>{const f=n.Pu.get(u);f&&(Qt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f._u=!0:o.modifiedDocuments.size>0?Qt(f._u,14607):o.removedDocuments.size>0&&(Qt(f._u,42227),f._u=!1))}),await uu(n,s,t)}catch(s){await mo(s)}}function S0(r,t,n){const s=wt(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.uu.forEach((u,f)=>{const m=f.view.Da(t);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=wt(f);p.onlineState=m;let g=!1;p.queries.forEach((E,w)=>{for(const b of w.ya)b.Da(m)&&(g=!0)}),g&&Mp(p)}(s.eventManager,t),o.length&&s.au.j_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function CO(r,t,n){const s=wt(r);s.sharedClientState.updateQueryState(t,"rejected",n);const o=s.Pu.get(t),u=o&&o.key;if(u){let f=new ae(yt.comparator);f=f.insert(u,We.newNoDocument(u,At.min()));const m=Mt().add(u),p=new Lh(At.min(),new Map,new ae(Dt),f,m);await lA(s,p),s.hu=s.hu.remove(u),s.Pu.delete(t),kp(s)}else await Vm(s.localStore,t,!1).then(()=>Lm(s,t,n)).catch(mo)}async function DO(r,t){const n=wt(r),s=t.batch.batchId;try{const o=await PD(n.localStore,t);cA(n,s,null),uA(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await uu(n,o)}catch(o){await mo(o)}}async function OO(r,t,n){const s=wt(r);try{const o=await function(f,m){const p=wt(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next(w=>(Qt(w!==null,37113),E=w.keys(),p.mutationQueue.removeMutationBatch(g,w))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E)).next(()=>p.localDocuments.getDocuments(g,E))})}(s.localStore,t);cA(s,t,n),uA(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await uu(s,o)}catch(o){await mo(o)}}function uA(r,t){(r.Eu.get(t)||[]).forEach(n=>{n.resolve()}),r.Eu.delete(t)}function cA(r,t,n){const s=wt(r);let o=s.Iu[s.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),s.Iu[s.currentUser.toKey()]=o}}function Lm(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.cu.get(t))r.uu.delete(s),n&&r.au.Vu(s,n);r.cu.delete(t),r.isPrimaryClient&&r.Tu.Hr(t).forEach(s=>{r.Tu.containsKey(s)||hA(r,s)})}function hA(r,t){r.lu.delete(t.path.canonicalString());const n=r.hu.get(t);n!==null&&(Ip(r.remoteStore,n),r.hu=r.hu.remove(t),r.Pu.delete(n),kp(r))}function R0(r,t,n){for(const s of n)s instanceof sA?(r.Tu.addReference(s.key,t),NO(r,s)):s instanceof aA?(ut(Vp,"Document no longer in limbo: "+s.key),r.Tu.removeReference(s.key,t),r.Tu.containsKey(s.key)||hA(r,s.key)):Tt(19791,{mu:s})}function NO(r,t){const n=t.key,s=n.path.canonicalString();r.hu.get(n)||r.lu.has(s)||(ut(Vp,"New document in limbo: "+n),r.lu.add(s),kp(r))}function kp(r){for(;r.lu.size>0&&r.hu.size<r.maxConcurrentLimboResolutions;){const t=r.lu.values().next().value;r.lu.delete(t);const n=new yt(Jt.fromString(t)),s=r.du.next();r.Pu.set(s,new EO(n)),r.hu=r.hu.insert(n,s),JT(r.remoteStore,new Qr(di(AT(n.path)),s,"TargetPurposeLimboResolution",Oh.le))}}async function uu(r,t,n){const s=wt(r),o=[],u=[],f=[];s.uu.isEmpty()||(s.uu.forEach((m,p)=>{f.push(s.Ru(p,t,n).then(g=>{var E;if((g||n)&&s.isPrimaryClient){const w=g?!g.fromCache:(E=n==null?void 0:n.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,w?"current":"not-current")}if(g){o.push(g);const w=Sp.Rs(p.targetId,g);u.push(w)}}))}),await Promise.all(f),s.au.j_(o),await async function(p,g){const E=wt(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>J.forEach(g,b=>J.forEach(b.ds,M=>E.persistence.referenceDelegate.addReference(w,b.targetId,M)).next(()=>J.forEach(b.As,M=>E.persistence.referenceDelegate.removeReference(w,b.targetId,M)))))}catch(w){if(!po(w))throw w;ut(Rp,"Failed to update sequence numbers: "+w)}for(const w of g){const b=w.targetId;if(!w.fromCache){const M=E.xs.get(b),V=M.snapshotVersion,j=M.withLastLimboFreeSnapshotVersion(V);E.xs=E.xs.insert(b,j)}}}(s.localStore,u))}async function xO(r,t){const n=wt(r);if(!n.currentUser.isEqual(t)){ut(Vp,"User change. New user:",t.toKey());const s=await XT(n.localStore,t);n.currentUser=t,function(u,f){u.Eu.forEach(m=>{m.forEach(p=>{p.reject(new ht(tt.CANCELLED,f))})}),u.Eu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await uu(n,s.ks)}}function MO(r,t){const n=wt(r),s=n.Pu.get(t);if(s&&s._u)return Mt().add(s.key);{let o=Mt();const u=n.cu.get(t);if(!u)return o;for(const f of u){const m=n.uu.get(f);o=o.unionWith(m.view.Ya)}return o}}function fA(r){const t=wt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=lA.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=MO.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=CO.bind(null,t),t.au.j_=pO.bind(null,t.eventManager),t.au.Vu=gO.bind(null,t.eventManager),t}function VO(r){const t=wt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=DO.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=OO.bind(null,t),t}class Th{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Uh(t.databaseInfo.databaseId),this.sharedClientState=this.pu(t),this.persistence=this.yu(t),await this.persistence.start(),this.localStore=this.wu(t),this.gcScheduler=this.Su(t,this.localStore),this.indexBackfillerScheduler=this.bu(t,this.localStore)}Su(t,n){return null}bu(t,n){return null}wu(t){return kD(this.persistence,new xD,t.initialUser,this.serializer)}yu(t){return new YT(wp.fi,this.serializer)}pu(t){return new HD}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Th.provider={build:()=>new Th};class kO extends Th{constructor(t){super(),this.cacheSizeBytes=t}Su(t,n){Qt(this.persistence.referenceDelegate instanceof vh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new yD(s,t.asyncQueue,n)}yu(t){const n=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new YT(s=>vh.fi(s,n),this.serializer)}}class Um{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>S0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=xO.bind(null,this.syncEngine),await cO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new fO}()}createDatastore(t){const n=Uh(t.databaseInfo.databaseId),s=function(u){return new KD(u)}(t.databaseInfo);return function(u,f,m,p){return new ZD(u,f,m,p)}(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return function(s,o,u,f,m){return new JD(s,o,u,f,m)}(this.localStore,this.datastore,t.asyncQueue,n=>S0(this.syncEngine,n,0),function(){return v0.C()?new v0:new qD}())}createSyncEngine(t,n){return function(o,u,f,m,p,g,E){const w=new TO(o,u,f,m,p,g);return E&&(w.Au=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(o){const u=wt(o);ut(Xs,"RemoteStore shutting down."),u.Ta.add(5),await lu(u),u.Ea.shutdown(),u.da.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Um.provider={build:()=>new Um};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.vu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.vu(this.observer.error,t):er("Uncaught Error in snapshot listener:",t.toString()))}Cu(){this.muted=!0}vu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rs="FirestoreClient";class LO{constructor(t,n,s,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Xe.UNAUTHENTICATED,this.clientId=sT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{ut(rs,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(ut(rs,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Zr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=xp(n,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function cm(r,t){r.asyncQueue.verifyOperationInProgress(),ut(rs,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await XT(t.localStore,o),s=o)}),t.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=t}async function I0(r,t){r.asyncQueue.verifyOperationInProgress();const n=await UO(r);ut(rs,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener(s=>T0(t.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>T0(t.remoteStore,o)),r._onlineComponents=t}async function UO(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ut(rs,"Using user provided OfflineComponentProvider");try{await cm(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(o){return o.name==="FirebaseError"?o.code===tt.FAILED_PRECONDITION||o.code===tt.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;eo("Error using user provided cache. Falling back to memory cache: "+n),await cm(r,new Th)}}else ut(rs,"Using default OfflineComponentProvider"),await cm(r,new kO(void 0));return r._offlineComponents}async function dA(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ut(rs,"Using user provided OnlineComponentProvider"),await I0(r,r._uninitializedComponentsProvider._online)):(ut(rs,"Using default OnlineComponentProvider"),await I0(r,new Um))),r._onlineComponents}function zO(r){return dA(r).then(t=>t.syncEngine)}async function BO(r){const t=await dA(r),n=t.eventManager;return n.onListen=AO.bind(null,t.syncEngine),n.onUnlisten=SO.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=bO.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=RO.bind(null,t.syncEngine),n}function jO(r,t,n={}){const s=new Zr;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,g){const E=new PO({next:b=>{E.Cu(),f.enqueueAndForget(()=>mO(u,w)),b.fromCache&&p.source==="server"?g.reject(new ht(tt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(b)},error:b=>g.reject(b)}),w=new yO(m,E,{includeMetadataChanges:!0,La:!0});return dO(u,w)}(await BO(r),r.asyncQueue,t,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mA(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pA(r,t,n){if(!n)throw new ht(tt.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function HO(r,t,n,s){if(t===!0&&s===!0)throw new ht(tt.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function D0(r){if(!yt.isDocumentKey(r))throw new ht(tt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function O0(r){if(yt.isDocumentKey(r))throw new ht(tt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function jh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":Tt(12329,{type:typeof r})}function Ah(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ht(tt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=jh(r);throw new ht(tt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gA="firestore.googleapis.com",N0=!0;class x0{constructor(t){var n,s;if(t.host===void 0){if(t.ssl!==void 0)throw new ht(tt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=gA,this.ssl=N0}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:N0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=KT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<pD)throw new ht(tt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}HO("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=mA((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ht(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ht(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ht(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Hh{constructor(t,n,s,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new x0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ht(tt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ht(tt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new x0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new QI;switch(s.type){case"firstParty":return new WI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ht(tt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=C0.get(n);s&&(ut("ComponentProvider","Removing Datastore"),C0.delete(n),s.terminate())}(this),Promise.resolve()}}function qO(r,t,n,s={}){var o;r=Ah(r,Hh);const u=$l(t),f=r._getSettings(),m=Object.assign(Object.assign({},f),{emulatorOptions:r._getEmulatorOptions()}),p=`${t}:${n}`;u&&(uE(`https://${p}`),cE("Firestore",!0)),f.host!==gA&&f.host!==p&&eo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},f),{host:p,ssl:u,emulatorOptions:s});if(!Fs(g,m)&&(r._setSettings(g),s.mockUserToken)){let E,w;if(typeof s.mockUserToken=="string")E=s.mockUserToken,w=Xe.MOCK_USER;else{E=eS(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new ht(tt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new Xe(b)}r._authCredentials=new KI(new iT(E,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new yo(this.firestore,t,this._query)}}class Ln{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $r(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ln(this.firestore,t,this._key)}}class $r extends yo{constructor(t,n,s){super(t,n,AT(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ln(this.firestore,null,new yt(t))}withConverter(t){return new $r(this.firestore,t,this._path)}}function zm(r,t,...n){if(r=an(r),pA("collection","path",t),r instanceof Hh){const s=Jt.fromString(t,...n);return O0(s),new $r(r,null,s)}{if(!(r instanceof Ln||r instanceof $r))throw new ht(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Jt.fromString(t,...n));return O0(s),new $r(r.firestore,null,s)}}function FO(r,t,...n){if(r=an(r),arguments.length===1&&(t=sT.newId()),pA("doc","path",t),r instanceof Hh){const s=Jt.fromString(t,...n);return D0(s),new Ln(r,null,new yt(s))}{if(!(r instanceof Ln||r instanceof $r))throw new ht(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Jt.fromString(t,...n));return D0(s),new Ln(r.firestore,r instanceof $r?r.converter:null,new yt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M0="AsyncQueue";class V0{constructor(t=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new ZT(this,"async_queue_retry"),this.ec=()=>{const s=um();s&&ut(M0,"Visibility state changed to "+s.visibilityState),this.C_.p_()},this.tc=t;const n=um();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.nc(),this.rc(t)}enterRestrictedMode(t){if(!this.ju){this.ju=!0,this.Zu=t||!1;const n=um();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ec)}}enqueue(t){if(this.nc(),this.ju)return new Promise(()=>{});const n=new Zr;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.zu.push(t),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(t){if(!po(t))throw t;ut(M0,"Operation failed with retryable error: "+t)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(t){const n=this.tc.then(()=>(this.Yu=!0,t().catch(s=>{throw this.Ju=s,this.Yu=!1,er("INTERNAL UNHANDLED ERROR: ",k0(s)),s}).then(s=>(this.Yu=!1,s))));return this.tc=n,n}enqueueAfterDelay(t,n,s){this.nc(),this.Xu.indexOf(t)>-1&&(n=0);const o=Np.createAndSchedule(this,t,n,s,u=>this.oc(u));return this.Hu.push(o),o}nc(){this.Ju&&Tt(47125,{_c:k0(this.Ju)})}verifyOperationInProgress(){}async ac(){let t;do t=this.tc,await t;while(t!==this.tc)}uc(t){for(const n of this.Hu)if(n.timerId===t)return!0;return!1}cc(t){return this.ac().then(()=>{this.Hu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Hu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.ac()})}lc(t){this.Xu.push(t)}oc(t){const n=this.Hu.indexOf(t);this.Hu.splice(n,1)}}function k0(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class Pp extends Hh{constructor(t,n,s,o){super(t,n,s,o),this.type="firestore",this._queue=new V0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new V0(t),this._firestoreClient=void 0,await t}}}function GO(r,t){const n=typeof r=="object"?r:mE(),s=typeof r=="string"?r:fh,o=ep(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=Jw("firestore");u&&qO(o,...u)}return o}function yA(r){if(r._terminated)throw new ht(tt.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||QO(r),r._firestoreClient}function QO(r){var t,n,s;const o=r._freezeSettings(),u=function(m,p,g,E){return new hC(m,p,g,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,mA(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)}(r._databaseId,((t=r._app)===null||t===void 0?void 0:t.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new LO(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(t){this._byteString=t}static fromBase64String(t){try{return new oo(Fe.fromBase64String(t))}catch(n){throw new ht(tt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new oo(Fe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ht(tt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ht(tt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ht(tt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Dt(this._lat,t._lat)||Dt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KO=/^__.*__$/;class YO{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new ta(t,this.data,this.fieldMask,n,this.fieldTransforms):new au(t,this.data,n,this.fieldTransforms)}}function vA(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Tt(40011,{hc:r})}}class Bp{constructor(t,n,s,o,u,f){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Pc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(t){return new Bp(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.Tc({path:s,Ec:!1});return o.dc(t),o}Ac(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.Tc({path:s,Ec:!1});return o.Pc(),o}Rc(t){return this.Tc({path:void 0,Ec:!0})}Vc(t){return bh(t,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Pc(){if(this.path)for(let t=0;t<this.path.length;t++)this.dc(this.path.get(t))}dc(t){if(t.length===0)throw this.Vc("Document fields must not be empty");if(vA(this.hc)&&KO.test(t))throw this.Vc('Document fields cannot begin and end with "__"')}}class XO{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||Uh(t)}gc(t,n,s,o=!1){return new Bp({hc:t,methodName:n,fc:s,path:qe.emptyPath(),Ec:!1,mc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function EA(r){const t=r._freezeSettings(),n=Uh(r._databaseId);return new XO(r._databaseId,!!t.ignoreUndefinedProperties,n)}function WO(r,t,n,s,o,u={}){const f=r.gc(u.merge||u.mergeFields?2:0,t,n,o);bA("Data must be an object, but it was:",f,s);const m=TA(s,f);let p,g;if(u.merge)p=new Qn(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const w of u.mergeFields){const b=$O(t,w,n);if(!f.contains(b))throw new ht(tt.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);tN(E,b)||E.push(b)}p=new Qn(E),g=f.fieldTransforms.filter(w=>p.covers(w.field))}else p=null,g=f.fieldTransforms;return new YO(new Pn(m),p,g)}function ZO(r,t,n,s=!1){return jp(n,r.gc(s?4:3,t))}function jp(r,t){if(AA(r=an(r)))return bA("Unsupported field value:",t,r),TA(r,t);if(r instanceof _A)return function(s,o){if(!vA(o.hc))throw o.Vc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Vc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.Ec&&t.hc!==4)throw t.Vc("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let p=jp(m,o.Rc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(r,t)}return function(s,o){if((s=an(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return VC(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Ce.fromDate(s);return{timestampValue:_h(o.serializer,u)}}if(s instanceof Ce){const u=new Ce(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:_h(o.serializer,u)}}if(s instanceof Up)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof oo)return{bytesValue:BT(o.serializer,s._byteString)};if(s instanceof Ln){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Vc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Ap(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof zp)return function(f,m){return{mapValue:{fields:{[dT]:{stringValue:mT},[dh]:{arrayValue:{values:f.toArray().map(g=>{if(typeof g!="number")throw m.Vc("VectorValues must only contain numeric values.");return vp(m.serializer,g)})}}}}}}(s,o);throw o.Vc(`Unsupported field value: ${jh(s)}`)}(r,t)}function TA(r,t){const n={};return oT(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):$s(r,(s,o)=>{const u=jp(o,t.Ic(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function AA(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Ce||r instanceof Up||r instanceof oo||r instanceof Ln||r instanceof _A||r instanceof zp)}function bA(r,t,n){if(!AA(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=jh(n);throw s==="an object"?t.Vc(r+" a custom object"):t.Vc(r+" "+s)}}function $O(r,t,n){if((t=an(t))instanceof Lp)return t._internalPath;if(typeof t=="string")return wA(r,t);throw bh("Field path arguments must be of type string or ",r,!1,void 0,n)}const JO=new RegExp("[~\\*/\\[\\]]");function wA(r,t,n){if(t.search(JO)>=0)throw bh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Lp(...t.split("."))._internalPath}catch{throw bh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function bh(r,t,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${t}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new ht(tt.INVALID_ARGUMENT,m+r+p)}function tN(r,t){return r.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(t,n,s,o,u){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ln(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new eN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Hp("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class eN extends SA{data(){return super.data()}}function Hp(r,t){return typeof t=="string"?wA(r,t):t instanceof Lp?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nN(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ht(tt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class qp{}class iN extends qp{}function rN(r,t,...n){let s=[];t instanceof qp&&s.push(t),s=s.concat(n),function(u){const f=u.filter(p=>p instanceof Fp).length,m=u.filter(p=>p instanceof qh).length;if(f>1||f>0&&m>0)throw new ht(tt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class qh extends iN{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new qh(t,n,s)}_apply(t){const n=this._parse(t);return RA(t._query,n),new yo(t.firestore,t.converter,Cm(t._query,n))}_parse(t){const n=EA(t.firestore);return function(u,f,m,p,g,E,w){let b;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ht(tt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){L0(w,E);const V=[];for(const j of w)V.push(P0(p,u,j));b={arrayValue:{values:V}}}else b=P0(p,u,w)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||L0(w,E),b=ZO(m,f,w,E==="in"||E==="not-in");return Te.create(g,E,b)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function sN(r,t,n){const s=t,o=Hp("where",r);return qh._create(o,s,n)}class Fp extends qp{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Fp(t,n)}_parse(t){const n=this._queryConstraints.map(s=>s._parse(t)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:Yn.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)RA(f,p),f=Cm(f,p)}(t._query,n),new yo(t.firestore,t.converter,Cm(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function P0(r,t,n){if(typeof(n=an(n))=="string"){if(n==="")throw new ht(tt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!bT(t)&&n.indexOf("/")!==-1)throw new ht(tt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(Jt.fromString(n));if(!yt.isDocumentKey(s))throw new ht(tt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Zv(r,new yt(s))}if(n instanceof Ln)return Zv(r,n._key);throw new ht(tt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${jh(n)}.`)}function L0(r,t){if(!Array.isArray(r)||r.length===0)throw new ht(tt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function RA(r,t){const n=function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new ht(tt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ht(tt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class aN{convertValue(t,n="none"){switch(ns(t)){case 0:return null;case 1:return t.booleanValue;case 2:return pe(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(es(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Tt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return $s(t,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(t){var n,s,o;const u=(o=(s=(n=t.fields)===null||n===void 0?void 0:n[dh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>pe(f.doubleValue));return new zp(u)}convertGeoPoint(t){return new Up(pe(t.latitude),pe(t.longitude))}convertArray(t,n){return(t.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(t,n){switch(n){case"previous":const s=xh(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(ql(t));default:return null}}convertTimestamp(t){const n=ts(t);return new Ce(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=Jt.fromString(t);Qt(QT(s),9688,{name:t});const o=new Fl(s.get(1),s.get(3)),u=new yt(s.popFirst(5));return o.isEqual(n)||er(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oN(r,t,n){let s;return s=r?r.toFirestore(t):t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class lN extends SA{constructor(t,n,s,o,u,f){super(t,n,s,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new eh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(Hp("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class eh extends lN{data(t={}){return super.data(t)}}class uN{constructor(t,n,s,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new jc(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(s=>{t.call(n,new eh(this._firestore,this._userDataWriter,s.key,s,new jc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ht(tt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const p=new eh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new jc(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new eh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new jc(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:cN(m.type),doc:p,oldIndex:g,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function cN(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Tt(61501,{type:r})}}class hN extends aN{constructor(t){super(),this.firestore=t}convertBytes(t){return new oo(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Ln(this.firestore,null,n)}}function fN(r){r=Ah(r,yo);const t=Ah(r.firestore,Pp),n=yA(t),s=new hN(t);return nN(r._query),jO(n,r._query).then(o=>new uN(t,s,r,o))}function IA(r,t){const n=Ah(r.firestore,Pp),s=FO(r),o=oN(r.converter,t);return dN(n,[WO(EA(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Zi.exists(!1))]).then(()=>s)}function dN(r,t){return function(s,o){const u=new Zr;return s.asyncQueue.enqueueAndForget(async()=>IO(await zO(s),o,u)),u.promise}(yA(r),t)}(function(t,n=!0){(function(o){fo=o})(co),to(new Gs("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new Pp(new YI(s.getProvider("auth-internal")),new ZI(f,s.getProvider("app-check-internal")),function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ht(tt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fl(g.options.projectId,E)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Xr(zv,Bv,t),Xr(zv,Bv,"esm2017")})();function CA(r){var t,n,s="";if(typeof r=="string"||typeof r=="number")s+=r;else if(typeof r=="object")if(Array.isArray(r)){var o=r.length;for(t=0;t<o;t++)r[t]&&(n=CA(r[t]))&&(s&&(s+=" "),s+=n)}else for(n in r)r[n]&&(s&&(s+=" "),s+=n);return s}function qs(){for(var r,t,n=0,s="",o=arguments.length;n<o;n++)(r=arguments[n])&&(t=CA(r))&&(s&&(s+=" "),s+=t);return s}function mN(r){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n),n.styleSheet?n.styleSheet.cssText=r:n.appendChild(document.createTextNode(r))}mN(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var cu=r=>typeof r=="number"&&!isNaN(r),Ws=r=>typeof r=="string",ir=r=>typeof r=="function",pN=r=>Ws(r)||cu(r),Bm=r=>Ws(r)||ir(r)?r:null,gN=(r,t)=>r===!1||cu(r)&&r>0?r:t,jm=r=>G.isValidElement(r)||Ws(r)||ir(r)||cu(r);function yN(r,t,n=300){let{scrollHeight:s,style:o}=r;requestAnimationFrame(()=>{o.minHeight="initial",o.height=s+"px",o.transition=`all ${n}ms`,requestAnimationFrame(()=>{o.height="0",o.padding="0",o.margin="0",setTimeout(t,n)})})}function _N({enter:r,exit:t,appendPosition:n=!1,collapse:s=!0,collapseDuration:o=300}){return function({children:u,position:f,preventExitTransition:m,done:p,nodeRef:g,isIn:E,playToast:w}){let b=n?`${r}--${f}`:r,M=n?`${t}--${f}`:t,V=G.useRef(0);return G.useLayoutEffect(()=>{let j=g.current,B=b.split(" "),Q=q=>{q.target===g.current&&(w(),j.removeEventListener("animationend",Q),j.removeEventListener("animationcancel",Q),V.current===0&&q.type!=="animationcancel"&&j.classList.remove(...B))};j.classList.add(...B),j.addEventListener("animationend",Q),j.addEventListener("animationcancel",Q)},[]),G.useEffect(()=>{let j=g.current,B=()=>{j.removeEventListener("animationend",B),s?yN(j,p,o):p()};E||(m?B():(V.current=1,j.className+=` ${M}`,j.addEventListener("animationend",B)))},[E]),te.createElement(te.Fragment,null,u)}}function U0(r,t){return{content:DA(r.content,r.props),containerId:r.props.containerId,id:r.props.toastId,theme:r.props.theme,type:r.props.type,data:r.props.data||{},isLoading:r.props.isLoading,icon:r.props.icon,reason:r.removalReason,status:t}}function DA(r,t,n=!1){return G.isValidElement(r)&&!Ws(r.type)?G.cloneElement(r,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):ir(r)?r({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):r}function vN({closeToast:r,theme:t,ariaLabel:n="close"}){return te.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:s=>{s.stopPropagation(),r(!0)},"aria-label":n},te.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},te.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function EN({delay:r,isRunning:t,closeToast:n,type:s="default",hide:o,className:u,controlledProgress:f,progress:m,rtl:p,isIn:g,theme:E}){let w=o||f&&m===0,b={animationDuration:`${r}ms`,animationPlayState:t?"running":"paused"};f&&(b.transform=`scaleX(${m})`);let M=qs("Toastify__progress-bar",f?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${E}`,`Toastify__progress-bar--${s}`,{"Toastify__progress-bar--rtl":p}),V=ir(u)?u({rtl:p,type:s,defaultClassName:M}):qs(M,u),j={[f&&m>=1?"onTransitionEnd":"onAnimationEnd"]:f&&m<1?null:()=>{g&&n()}};return te.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":w},te.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${E} Toastify__progress-bar--${s}`}),te.createElement("div",{role:"progressbar","aria-hidden":w?"true":"false","aria-label":"notification timer",className:V,style:b,...j}))}var TN=1,OA=()=>`${TN++}`;function AN(r,t,n){let s=1,o=0,u=[],f=[],m=t,p=new Map,g=new Set,E=q=>(g.add(q),()=>g.delete(q)),w=()=>{f=Array.from(p.values()),g.forEach(q=>q())},b=({containerId:q,toastId:Y,updateId:it})=>{let st=q?q!==r:r!==1,mt=p.has(Y)&&it==null;return st||mt},M=(q,Y)=>{p.forEach(it=>{var st;(Y==null||Y===it.props.toastId)&&((st=it.toggle)==null||st.call(it,q))})},V=q=>{var Y,it;(it=(Y=q.props)==null?void 0:Y.onClose)==null||it.call(Y,q.removalReason),q.isActive=!1},j=q=>{if(q==null)p.forEach(V);else{let Y=p.get(q);Y&&V(Y)}w()},B=()=>{o-=u.length,u=[]},Q=q=>{var Y,it;let{toastId:st,updateId:mt}=q.props,O=mt==null;q.staleId&&p.delete(q.staleId),q.isActive=!0,p.set(st,q),w(),n(U0(q,O?"added":"updated")),O&&((it=(Y=q.props).onOpen)==null||it.call(Y))};return{id:r,props:m,observe:E,toggle:M,removeToast:j,toasts:p,clearQueue:B,buildToast:(q,Y)=>{if(b(Y))return;let{toastId:it,updateId:st,data:mt,staleId:O,delay:R}=Y,S=st==null;S&&o++;let C={...m,style:m.toastStyle,key:s++,...Object.fromEntries(Object.entries(Y).filter(([L,D])=>D!=null)),toastId:it,updateId:st,data:mt,isIn:!1,className:Bm(Y.className||m.toastClassName),progressClassName:Bm(Y.progressClassName||m.progressClassName),autoClose:Y.isLoading?!1:gN(Y.autoClose,m.autoClose),closeToast(L){p.get(it).removalReason=L,j(it)},deleteToast(){let L=p.get(it);if(L!=null){if(n(U0(L,"removed")),p.delete(it),o--,o<0&&(o=0),u.length>0){Q(u.shift());return}w()}}};C.closeButton=m.closeButton,Y.closeButton===!1||jm(Y.closeButton)?C.closeButton=Y.closeButton:Y.closeButton===!0&&(C.closeButton=jm(m.closeButton)?m.closeButton:!0);let N={content:q,props:C,staleId:O};m.limit&&m.limit>0&&o>m.limit&&S?u.push(N):cu(R)?setTimeout(()=>{Q(N)},R):Q(N)},setProps(q){m=q},setToggle:(q,Y)=>{let it=p.get(q);it&&(it.toggle=Y)},isToastActive:q=>{var Y;return(Y=p.get(q))==null?void 0:Y.isActive},getSnapshot:()=>f}}var sn=new Map,Yl=[],Hm=new Set,bN=r=>Hm.forEach(t=>t(r)),NA=()=>sn.size>0;function wN(){Yl.forEach(r=>MA(r.content,r.options)),Yl=[]}var SN=(r,{containerId:t})=>{var n;return(n=sn.get(t||1))==null?void 0:n.toasts.get(r)};function xA(r,t){var n;if(t)return!!((n=sn.get(t))!=null&&n.isToastActive(r));let s=!1;return sn.forEach(o=>{o.isToastActive(r)&&(s=!0)}),s}function RN(r){if(!NA()){Yl=Yl.filter(t=>r!=null&&t.options.toastId!==r);return}if(r==null||pN(r))sn.forEach(t=>{t.removeToast(r)});else if(r&&("containerId"in r||"id"in r)){let t=sn.get(r.containerId);t?t.removeToast(r.id):sn.forEach(n=>{n.removeToast(r.id)})}}var IN=(r={})=>{sn.forEach(t=>{t.props.limit&&(!r.containerId||t.id===r.containerId)&&t.clearQueue()})};function MA(r,t){jm(r)&&(NA()||Yl.push({content:r,options:t}),sn.forEach(n=>{n.buildToast(r,t)}))}function CN(r){var t;(t=sn.get(r.containerId||1))==null||t.setToggle(r.id,r.fn)}function VA(r,t){sn.forEach(n=>{(t==null||!(t!=null&&t.containerId)||(t==null?void 0:t.containerId)===n.id)&&n.toggle(r,t==null?void 0:t.id)})}function DN(r){let t=r.containerId||1;return{subscribe(n){let s=AN(t,r,bN);sn.set(t,s);let o=s.observe(n);return wN(),()=>{o(),sn.delete(t)}},setProps(n){var s;(s=sn.get(t))==null||s.setProps(n)},getSnapshot(){var n;return(n=sn.get(t))==null?void 0:n.getSnapshot()}}}function ON(r){return Hm.add(r),()=>{Hm.delete(r)}}function NN(r){return r&&(Ws(r.toastId)||cu(r.toastId))?r.toastId:OA()}function hu(r,t){return MA(r,t),t.toastId}function Fh(r,t){return{...t,type:t&&t.type||r,toastId:NN(t)}}function Gh(r){return(t,n)=>hu(t,Fh(r,n))}function Gt(r,t){return hu(r,Fh("default",t))}Gt.loading=(r,t)=>hu(r,Fh("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function xN(r,{pending:t,error:n,success:s},o){let u;t&&(u=Ws(t)?Gt.loading(t,o):Gt.loading(t.render,{...o,...t}));let f={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},m=(g,E,w)=>{if(E==null){Gt.dismiss(u);return}let b={type:g,...f,...o,data:w},M=Ws(E)?{render:E}:E;return u?Gt.update(u,{...b,...M}):Gt(M.render,{...b,...M}),w},p=ir(r)?r():r;return p.then(g=>m("success",s,g)).catch(g=>m("error",n,g)),p}Gt.promise=xN;Gt.success=Gh("success");Gt.info=Gh("info");Gt.error=Gh("error");Gt.warning=Gh("warning");Gt.warn=Gt.warning;Gt.dark=(r,t)=>hu(r,Fh("default",{theme:"dark",...t}));function MN(r){RN(r)}Gt.dismiss=MN;Gt.clearWaitingQueue=IN;Gt.isActive=xA;Gt.update=(r,t={})=>{let n=SN(r,t);if(n){let{props:s,content:o}=n,u={delay:100,...s,...t,toastId:t.toastId||r,updateId:OA()};u.toastId!==r&&(u.staleId=r);let f=u.render||o;delete u.render,hu(f,u)}};Gt.done=r=>{Gt.update(r,{progress:1})};Gt.onChange=ON;Gt.play=r=>VA(!0,r);Gt.pause=r=>VA(!1,r);function VN(r){var t;let{subscribe:n,getSnapshot:s,setProps:o}=G.useRef(DN(r)).current;o(r);let u=(t=G.useSyncExternalStore(n,s,s))==null?void 0:t.slice();function f(m){if(!u)return[];let p=new Map;return r.newestOnTop&&u.reverse(),u.forEach(g=>{let{position:E}=g.props;p.has(E)||p.set(E,[]),p.get(E).push(g)}),Array.from(p,g=>m(g[0],g[1]))}return{getToastToRender:f,isToastActive:xA,count:u==null?void 0:u.length}}function kN(r){let[t,n]=G.useState(!1),[s,o]=G.useState(!1),u=G.useRef(null),f=G.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:m,pauseOnHover:p,closeToast:g,onClick:E,closeOnClick:w}=r;CN({id:r.toastId,containerId:r.containerId,fn:n}),G.useEffect(()=>{if(r.pauseOnFocusLoss)return b(),()=>{M()}},[r.pauseOnFocusLoss]);function b(){document.hasFocus()||Q(),window.addEventListener("focus",B),window.addEventListener("blur",Q)}function M(){window.removeEventListener("focus",B),window.removeEventListener("blur",Q)}function V(O){if(r.draggable===!0||r.draggable===O.pointerType){q();let R=u.current;f.canCloseOnClick=!0,f.canDrag=!0,R.style.transition="none",r.draggableDirection==="x"?(f.start=O.clientX,f.removalDistance=R.offsetWidth*(r.draggablePercent/100)):(f.start=O.clientY,f.removalDistance=R.offsetHeight*(r.draggablePercent===80?r.draggablePercent*1.5:r.draggablePercent)/100)}}function j(O){let{top:R,bottom:S,left:C,right:N}=u.current.getBoundingClientRect();O.nativeEvent.type!=="touchend"&&r.pauseOnHover&&O.clientX>=C&&O.clientX<=N&&O.clientY>=R&&O.clientY<=S?Q():B()}function B(){n(!0)}function Q(){n(!1)}function q(){f.didMove=!1,document.addEventListener("pointermove",it),document.addEventListener("pointerup",st)}function Y(){document.removeEventListener("pointermove",it),document.removeEventListener("pointerup",st)}function it(O){let R=u.current;if(f.canDrag&&R){f.didMove=!0,t&&Q(),r.draggableDirection==="x"?f.delta=O.clientX-f.start:f.delta=O.clientY-f.start,f.start!==O.clientX&&(f.canCloseOnClick=!1);let S=r.draggableDirection==="x"?`${f.delta}px, var(--y)`:`0, calc(${f.delta}px + var(--y))`;R.style.transform=`translate3d(${S},0)`,R.style.opacity=`${1-Math.abs(f.delta/f.removalDistance)}`}}function st(){Y();let O=u.current;if(f.canDrag&&f.didMove&&O){if(f.canDrag=!1,Math.abs(f.delta)>f.removalDistance){o(!0),r.closeToast(!0),r.collapseAll();return}O.style.transition="transform 0.2s, opacity 0.2s",O.style.removeProperty("transform"),O.style.removeProperty("opacity")}}let mt={onPointerDown:V,onPointerUp:j};return m&&p&&(mt.onMouseEnter=Q,r.stacked||(mt.onMouseLeave=B)),w&&(mt.onClick=O=>{E&&E(O),f.canCloseOnClick&&g(!0)}),{playToast:B,pauseToast:Q,isRunning:t,preventExitTransition:s,toastRef:u,eventHandlers:mt}}var PN=typeof window<"u"?G.useLayoutEffect:G.useEffect,Qh=({theme:r,type:t,isLoading:n,...s})=>te.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:r==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...s});function LN(r){return te.createElement(Qh,{...r},te.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function UN(r){return te.createElement(Qh,{...r},te.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function zN(r){return te.createElement(Qh,{...r},te.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function BN(r){return te.createElement(Qh,{...r},te.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function jN(){return te.createElement("div",{className:"Toastify__spinner"})}var qm={info:UN,warning:LN,success:zN,error:BN,spinner:jN},HN=r=>r in qm;function qN({theme:r,type:t,isLoading:n,icon:s}){let o=null,u={theme:r,type:t};return s===!1||(ir(s)?o=s({...u,isLoading:n}):G.isValidElement(s)?o=G.cloneElement(s,u):n?o=qm.spinner():HN(t)&&(o=qm[t](u))),o}var FN=r=>{let{isRunning:t,preventExitTransition:n,toastRef:s,eventHandlers:o,playToast:u}=kN(r),{closeButton:f,children:m,autoClose:p,onClick:g,type:E,hideProgressBar:w,closeToast:b,transition:M,position:V,className:j,style:B,progressClassName:Q,updateId:q,role:Y,progress:it,rtl:st,toastId:mt,deleteToast:O,isIn:R,isLoading:S,closeOnClick:C,theme:N,ariaLabel:L}=r,D=qs("Toastify__toast",`Toastify__toast-theme--${N}`,`Toastify__toast--${E}`,{"Toastify__toast--rtl":st},{"Toastify__toast--close-on-click":C}),fe=ir(j)?j({rtl:st,position:V,type:E,defaultClassName:D}):qs(D,j),ee=qN(r),at=!!it||!p,_t={closeToast:b,type:E,theme:N},ft=null;return f===!1||(ir(f)?ft=f(_t):G.isValidElement(f)?ft=G.cloneElement(f,_t):ft=vN(_t)),te.createElement(M,{isIn:R,done:O,position:V,preventExitTransition:n,nodeRef:s,playToast:u},te.createElement("div",{id:mt,tabIndex:0,onClick:g,"data-in":R,className:fe,...o,style:B,ref:s,...R&&{role:Y,"aria-label":L}},ee!=null&&te.createElement("div",{className:qs("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!S})},ee),DA(m,r,!t),ft,!r.customProgressBar&&te.createElement(EN,{...q&&!at?{key:`p-${q}`}:{},rtl:st,theme:N,delay:p,isRunning:t,isIn:R,closeToast:b,hide:w,type:E,className:Q,controlledProgress:at,progress:it||0})))},GN=(r,t=!1)=>({enter:`Toastify--animate Toastify__${r}-enter`,exit:`Toastify--animate Toastify__${r}-exit`,appendPosition:t}),QN=_N(GN("bounce",!0)),KN={position:"top-right",transition:QN,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:r=>r.altKey&&r.code==="KeyT"};function YN(r){let t={...KN,...r},n=r.stacked,[s,o]=G.useState(!0),u=G.useRef(null),{getToastToRender:f,isToastActive:m,count:p}=VN(t),{className:g,style:E,rtl:w,containerId:b,hotKeys:M}=t;function V(B){let Q=qs("Toastify__toast-container",`Toastify__toast-container--${B}`,{"Toastify__toast-container--rtl":w});return ir(g)?g({position:B,rtl:w,defaultClassName:Q}):qs(Q,Bm(g))}function j(){n&&(o(!0),Gt.play())}return PN(()=>{var B;if(n){let Q=u.current.querySelectorAll('[data-in="true"]'),q=12,Y=(B=t.position)==null?void 0:B.includes("top"),it=0,st=0;Array.from(Q).reverse().forEach((mt,O)=>{let R=mt;R.classList.add("Toastify__toast--stacked"),O>0&&(R.dataset.collapsed=`${s}`),R.dataset.pos||(R.dataset.pos=Y?"top":"bot");let S=it*(s?.2:1)+(s?0:q*O);R.style.setProperty("--y",`${Y?S:S*-1}px`),R.style.setProperty("--g",`${q}`),R.style.setProperty("--s",`${1-(s?st:0)}`),it+=R.offsetHeight,st+=.025})}},[s,p,n]),G.useEffect(()=>{function B(Q){var q;let Y=u.current;M(Q)&&((q=Y.querySelector('[tabIndex="0"]'))==null||q.focus(),o(!1),Gt.pause()),Q.key==="Escape"&&(document.activeElement===Y||Y!=null&&Y.contains(document.activeElement))&&(o(!0),Gt.play())}return document.addEventListener("keydown",B),()=>{document.removeEventListener("keydown",B)}},[M]),te.createElement("section",{ref:u,className:"Toastify",id:b,onMouseEnter:()=>{n&&(o(!1),Gt.pause())},onMouseLeave:j,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},f((B,Q)=>{let q=Q.length?{...E}:{...E,pointerEvents:"none"};return te.createElement("div",{tabIndex:-1,className:V(B),"data-stacked":n,style:q,key:`c-${B}`},Q.map(({content:Y,props:it})=>te.createElement(FN,{...it,stacked:n,collapseAll:j,isIn:m(it.toastId,it.containerId),key:`t-${it.key}`},Y)))}))}const XN={apiKey:"AIzaSyBRGvRXK9IkxohVnMbjBe5U_1XqMI5Q4So",authDomain:"netflix-clone-d1680.firebaseapp.com",projectId:"netflix-clone-d1680",storageBucket:"netflix-clone-d1680.appspot.com",messagingSenderId:"492476585614",appId:"1:492476585614:web:c71a4fd1b1aaa28eb71bdf",measurementId:"G-E9JPVSK0K7"},kA=dE(XN),fu=FI(kA),Fm=GO(kA),WN=r=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r),ZN=async(r,t,n)=>{if(!WN(t)){alert("Invalid email format.");return}if(n.length<6){alert("Password must be at least 6 characters.");return}try{const o=(await C2(fu,t,n)).user;await IA(zm(Fm,"user"),{uid:o.uid,name:r,authProvider:"local",email:t})}catch(s){console.log("Signup Error:",s),Gt.error("Error signing up: "+s.code.split("/")[1].split("-").join(" "))}},$N=async(r,t)=>{try{await D2(fu,r,t)}catch(n){console.log("Login Error:",n),Gt.error("Error logging in: "+n.code.split("/")[1].split("-").join(" "))}},JN=()=>{M2(fu).catch(r=>{console.log("Logout Error:",r),alert("Error logging out.")})},t4=async()=>{const r=new Qi;try{const n=(await J2(fu,r)).user,s=rN(zm(Fm,"user"),sN("uid","==",n.uid));(await fN(s)).empty&&await IA(zm(Fm,"user"),{uid:n.uid,name:n.displayName,authProvider:"google",email:n.email})}catch(t){console.log("Google Sign-In Error:",t),Gt.error("Google sign-in failed: "+t.code.split("/")[1].split("-").join(" "))}},e4=()=>{const r=G.useRef();return G.useEffect(()=>{const t=()=>{window.scrollY>=80?r.current.classList.add("nav-dark"):r.current.classList.remove("nav-dark")};return window.addEventListener("scroll",t),()=>window.removeEventListener("scroll",t)},[]),Z.jsxs("div",{ref:r,className:"navbar",children:[Z.jsxs("div",{className:"navbar-left",children:[Z.jsx("img",{src:nE,alt:"Logo"}),Z.jsxs("ul",{children:[Z.jsx("li",{children:Z.jsx(tE,{to:"/",className:({isActive:t})=>t?"active":"",onClick:()=>window.scrollTo(0,0),children:"Home"})}),Z.jsx("li",{children:Z.jsx("a",{href:"#popular",children:"Popular"})}),Z.jsx("li",{children:Z.jsx("a",{href:"#top-rated",children:"Top Rated"})}),Z.jsx("li",{children:Z.jsx("a",{href:"#upcoming",children:"Upcoming"})}),Z.jsx("li",{children:Z.jsx("a",{href:"#movies",children:"Movies"})})]})]}),Z.jsxs("div",{className:"navbar-right",children:[Z.jsx("img",{src:jw,alt:"Search",className:"icons"}),Z.jsx("p",{children:"Children"}),Z.jsx("img",{src:Hw,alt:"Notifications",className:"icons"}),Z.jsxs("div",{className:"navbar-profile",children:[Z.jsx("img",{src:qw,alt:"Profile",className:"profile"}),Z.jsx("img",{src:Fw,alt:"Caret"}),Z.jsx("div",{className:"dropdown",children:Z.jsx("p",{onClick:JN,children:"Sign out of Netflix"})})]})]})]})},n4=""+new URL("hero_banner-DUZNtQhX.jpg",import.meta.url).href,i4=""+new URL("hero_title-CeCXMd-8.png",import.meta.url).href,r4="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFoAAABaCAYAAAA4qEECAAAACXBIWXMAAAsTAAALEwEAmpwYAAACXklEQVR4nO2dQWoUQRSGPxEjgoIb0aWudRMPEE+RrUuvIN5AUYwuvYJXmLlAsk+vJzBmofRCyKZHnCeBEkREEq3qV/Xq/+DfV30UM/13v5kGIYQQQgghhAjKDvAKOAW+AAfAHe9FReQlYL/lK/ACuOG9uEic/kH0z6yBZ8BV70VGwC6QAdj3XmgPoi1lAex6L7gH0QZsgY/AA++FRxdtKRPwHrjtvYHooi1lBJ4D1703El20payAp8AV7w1FF20ph8Ce96Z6EG2/XKE88t5cD6IN2AAfgLvem4wu2lLOUtW/RcfYjFn3XOnNIUOPld4cs+yp0ptztr1UeqskU/RKb5VljFrprdKsolV6qzxHUSq9NZJF65XeGsq3VOnv0SDWYM5arPTWcNYtVXoLkKGFSm+BsgQeUykWLNtaK70FzVRbpbfgGWup9NZJTrwrvXWWI+CJRBO30lvH2QDv0jC+RFNe+BuJZpaTff6TEp1oJJooea0TTfEvw7fANYmmmGRd3lH2FKuwUFawKjhlBeumEmUF6zYpZQXrxj+dT6dagAx6OEtRwRo3oKxgDdBQVrBGwij/OawhR8oKDvNLXKs0K++n1rmxyjLWMoeRG6skU22TRbnxFrytdVYuN56SlzVX5tx4CB5aqMy5mVPwuqUJ/dzMWZlv0jElBW/0xyjlRS+Ah44HqDpyCz6MUplzk0vwKlplzs3/Ch6jVubc/KvgKXplzs1lBX9Plfm+98Jb47JXErveC26Viwg+7rEy5+bTXwR3XZlzo5cpzMROkn1+sj/r9SBCCCGEEEIIQXv8AGMxL6IG0qwhAAAAAElFTkSuQmCC",s4="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAACXBIWXMAAAsTAAALEwEAmpwYAAAFsUlEQVR4nO2dTYwVRRCAO5AsRuRH2HAQFMJK/DuLnBSX6M0Y4wG9CETZ6E0kIfGEeoAlxkREBSGagAQwGi+KR1CPLgLBg5IVFBA8KFzdhbCfqWxtJGa6Z95u95ue2fqSl5DZ96Zqunq6q6uqG+cMwzAMwzAMwzAMwzAMwzAMwwDuBp4H3gI+A04B54BrwKh+rum1k8AR/e5z8ltrwQ4BZgJPAnuBYaaO3OMj4AlghhnE3/D3ADuAP0iH3HtQZJkh/mv45cBOYITucR04ANw/bQ0BzNbeeIP6uKHGn+umE8CzwGXyQYamZ1zbAW4DdnfYODeB09pTB4DVOmzdCfToR/7dp38b0O/Kb8Y6lPU+MMu1EWCpupBVG/0YsB5YOAWZvcAG4LjeswonW+e+Ag9V9G5G9A1ZnkAHeUP2VJzsLwIPujYAPAJcLXngMWA/cFcX9FkMfFpheBKdV7oW9Pyyxj8LPFqDbqsrLPT+buybACwBLpQ84BfA/Bp1nAMcKtFRhs6lroHeTmjCldd/s8sEYEvJkHSiUd5Riaspi58XXGYA60oWhbtcgxZZoZ6fXeP/zwihN+FplzOypC9Z4WYz7JQMRz4uAXe4XAHeDSh/KLKsVcAm/ayKfG/JO/h42+UIcF9gDBVXc04kOfOBbwpkHAXmRXyThwOR1D6XG8AnHoXHYvr5FDf+BF9HlPN4YD7Y6zJMpkjPKGJ/5GGnjGirV+CgR8ZoVvEizWQV8U/M8AKwubT54bXIi0lf7Gi7yyiH6wu07Y4sa3MFA2yKLFNy076AXf05Zk2gF3EzdlSTLg9BKvPewFywJqas2D3kWCJ5RwON/1Uimd924w2frHK/epRbn0jePPF2iho/lhtaIPNFzzOeTSGvU+/HN/wsTCx7pS7CXgUeTixrUWAYWpJSdpliUrFWxCnXMoAznmddW6dSUgJYxE7XMoBdnmd9o06lfDGTja5lAC93I8bVqVJSQVDEY65lMB6aKOJEnUr95lFqWWK5Pbr6vqLhb6mw60ksU2qRijifUm6ZUpK0LiK1BzRYIHMwsUypMSrir5Ryy5SSoFQRqXvjlQKZfyaWOcvzrCMp5eZqgEKmowF8NT8LWmiA3hyHoLom4UKm4yT8o0ep1S00QL9H7FBKuZNdiA200ACv5LgQe7OOUAT1GMAXitiaUu5kg3GnW2iAMzkG42QPbxESuu1tiwEIh6MXp5JbVTlf/cyGFhlgo0fkz6lkdqKcbIIu4niLDPCdR+SHqWR2opzsQPdlxfqabgDCSfn+FDI7VXCGFq0WsacFBtjnESelODNdDniik2hR0+KmGoDxnLcv3rXN5YJ6Qz5FDzTYAIc9oq5nd94E8LGvYWKPlXTBAJLVC4z9SYbWKQGsCJSnD8c8j4HiTSCXI9cenQv0/uj7mKMAvBN4C44knnO2R7z/54Hn2OFyRbd9hnbEb4mYEx7UNyFqThh4PaC/FOTOdjkjp44EHkDG1HUuUxg/V8I37sv1p1wTAD4IGOFGjkZgvPFD21SbU2ym+VNfsmaiN21xmaDDTmh76g+p89ypDsX4nTBf1nxUwdyArz/Bpex8/qrIQRcVDusYlqqzGnTrD7iaE0jd0wOuyWgZeZXjag52o9RbwwtlvX6i8ZOWvXf7TRAXroxR3XHTlyiquS8QMrmVC43v+Z54kZw6UoUxjcHLzpRFU8xkvQR838H5cUO1brrognfkS277GNN87HtaIt6vvXnBLYf2LdRr/fodkfFTh4f2jelhf83ydiaDnDoSyCHUwcXGLLJiAdwuu0sqjsmpuK69Pso5Fo0EWKaNILvqu8WoHl28ou7nz22S3l7RW5oscu9trZ1kI+aY1+ixZ3LMzVT5RaoXdIKu/2iBpsF4SGOtzheH1U08p4u7if/A4apeG9LvbNXfJD+H1DAMwzAMwzAMwzAMwzAMwzBc/vwL4LImOvpUNA4AAAAASUVORK5CYII=",Hc=({id:r,title:t="Popular on Netflix",category:n="now_playing"})=>{const[s,o]=G.useState([]),[u,f]=G.useState(!0),[m,p]=G.useState(null),g=G.useRef(),E={method:"GET",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJjN2U4NGU0YWVjMTY5NmYzZGE0MGUzNzMxMDJiZjExYyIsIm5iZiI6MTc0ODMzMjQ4Mi45NDcsInN1YiI6IjY4MzU2ZmMyYjg1MDBjOTA4NWViMzlhOSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.msnJqZmhumd8IKsad6VMAQD8Eb2vq-whST6D8CdXPGg"}},w=b=>{b.preventDefault(),g.current&&(g.current.scrollLeft+=b.deltaY)};return G.useEffect(()=>{(async()=>{f(!0),p(null);const V=`https://api.themoviedb.org/3/movie/${n}?language=en-US&page=1`;try{const j=await fetch(V,E);if(!j.ok)throw new Error(`API responded with status ${j.status}`);const B=await j.json();o(B.results||[])}catch(j){console.error("Failed to fetch movies:",j),p("Failed to load movies. Please try again later.")}finally{f(!1)}})();const M=g.current;return M&&M.addEventListener("wheel",w),()=>{M&&M.removeEventListener("wheel",w)}},[n]),Z.jsx("section",{id:r,className:"title-cards-section",children:Z.jsxs("div",{className:"title-cards",children:[Z.jsx("h2",{children:t}),u&&Z.jsxs("div",{className:"loading-spinner",children:[Z.jsx("div",{className:"spinner"}),Z.jsx("p",{children:"Loading..."})]}),m&&Z.jsx("p",{className:"error-msg",children:m}),!u&&!m&&s.length===0&&Z.jsx("p",{className:"status-msg",children:"No movies found."}),Z.jsx("div",{className:"card-list",ref:g,children:!u&&!m&&s.map(b=>Z.jsxs($m,{to:`/player/${b.id}`,className:"card",children:[Z.jsx("img",{src:b.backdrop_path?`https://image.tmdb.org/t/p/w500${b.backdrop_path}`:"/fallback-image.jpg",alt:b.original_title||"Untitled"}),Z.jsx("p",{children:b.original_title||"Untitled"})]},b.id))})]})})},a4="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEQklEQVR4nO3dW4hVVRzH8WVqaEIPWUGWD13oRnSDbhQSkYGB+RCEBWFBl4fKXsqiiw/1UgZRdAGLCqGbWG81EkF0wcpoDOyGpT2oUFN0cSLKbPrGwr+0Z+agM3utPf+91/l94DwNM/P/n9+eWfvstfbaIYiIiIiIiIiIiIiIiIiITAngUOAU4GLgKuAm4E7gQeAx4HngNeBt4BNgM7Ct8hoCfrHXr4y2u/K1+Npe+b6twKfAB8CbwCvAauAh4F7gNmAZsBg4B5gHzOj8YQEcBlxkb/SjwFp7E74F/qBbRoDvgU3AG8CzwF3AFcDxwPTQJsDBwCI7st+xo7ef/Al8BrwE3Agc5RXEHOB+O3rkf38DLwMnTmUYlwA7K0XIeH/ZuDSt6TBuAPb0KEB6iycnM5sK40ob5GRyXmwijHl2Gin1LMsdyJM1C5G9fgBm5wpjdgc/P5T7VwIs9O6kEK/mCuRu704KsT1XIM95d1KQuTkCed+7i4IsyBGILo/kc2uOM6x/MxbU755ODeQE7w4K81ZqIAu8OyjMttRArnZu4FLgc8rxT5xDSgnkDs/qw94aZtjs44+Uof5cCbDKs/Iwfmr48QIu/1+WEsgznpWH3jWdZIsUuuq6lEDWeVYe9l9bHF++oHvuSQkkLsVxEw5c30zg9h7LgdrsiZRA4jomN2Hide4bX+JZTNu9nhLIN56Vh8nXe4YtR2qzD1MCiSv/3IT6dS+2lYpttCUlkDj16CYkqIwvu2iXoZSmfu5qIPsAh7dsfNkd6gKGPSsPGQFnAe/RDnPqNhFX4BURyJjx5TvPvoCjQx3eC+NCs4vEPceX0+oWXnogw06tnV63cP3LasZxdQMpaVA/u0WD+pF1m9BpbzMO6eSKk1DmB8OR2veN6NJJI4ZTjrItOAplXlzcmRLIx56Vh4nXObdll0f2ZzAlkPWelYeJjxO/0R3rUwKJt/u6CQeewv2S7lnT2TunQu+aTu74IodHUgJ5wLPyMH6ceKqAZUArUgK5xbPyMHqh3E+UYWnqpWpPi4CvKcu5KYGc6V19gerfRWXLaySfXbXDqITye8aC+t2mHIEMendRkHU5Alnj3UVBHs4RyArvLgpyc45ALvfuoiALcwQSPyFrW6Z08T08IjkQC+WjDAX1u41ZwrBAlnp3U4BrcwYy3bZ6lXoGs2/1Bxzbh9vA5hAnz07NGsaYa1uutyh0TLzV7sJGwqiEcgzwrnenHbAx7n7daBiVUKYB19i+7DLaV8D1wEFTEkaPcM6zmcUB2/S+nz6zjFjPA/YenN/45smTBcyy9VHxyQcrgRes4M0dPSkYstoHrJeV1lvscVboOrsVYD5wAbAk7mwALAfus608VtsTFeISpA12a/bWymMndox5JEV1jn3PmK/t6PG4ig32s9fa71plv3u51bLEapuftFGMiIiIiIiIiIiIiIiIiEio4z+YVM1nFEiF0QAAAABJRU5ErkJggg==",o4="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAACXBIWXMAAAsTAAALEwEAmpwYAAAB7ElEQVR4nO3YP2rUQRzG4RFJYyeIuhewtdAbaLedvXgDCzurxcIDiK3gAWIRFnICG0ELe7FQ2EIEEQQj/nss3EKCkMBvs5OZeZ8TzO/74Q1JSomIiIiIhuEc5niAPbzGB3zx1w98wke8xRu8wkvs4yke4m7tb2kKbmIXX21I7W9qAq7h+aaOngDHhDO4j+9OyHHfMhycxZOTOnwCHAGPbMFR7xgSbm/j+AnwH7i8/hUyAWrA420dPws4BBdxkACV4N42j58FHLL+V0EC1IAL+JUAleDWto+fH0H/WP9nMwFqwbMNXP9g/Rf0DVzCTrUPag1eTDz+O1yp/R3NwvsJx/+J67W/oWn4PCHAXu33Nw/fJgS4U/v9zcPvCQGu1n5/80xzvvb7Rw+wU/v9zTNB7bd3QQIkwNBkAQkwNFlAAgxNFpAAQ5MF1D1iJavSE+1Zlp5oz6L0RHvmpSfaMys90ZZV6Y22LEtvtGVReqMt89IbbZmV3mjHqvRIO5alR9qxKD3SjnnpkXbMat/q1DFB7bd3QQIkwNBkAQkwNFlAAgxNFpAAQ5MFJMDQZAEJMDRZQAIMTRaQAEOTBSTA0GQBCTA0WUACDE0WkABDkwUkwNBkAQkwNFlAAgxNFpAAQ5MFJMDQZAERERERpU9/AMcmPt/3CYM3AAAAAElFTkSuQmCC",l4="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAACXBIWXMAAAsTAAALEwEAmpwYAAAHb0lEQVR4nO2dS48VRRSAiwUPAWME3UniIA+NoDAqD1lokAGjBGIAhWBCiKD+AQO6kLjARMAoCaiJKzEoD41oeAwSN4AxIMpO5CVEF6I4CsigPMJnTu4Z01SqZ6b7Vvft29Vfcjcw95zTdW53dZ1z6pQxFRUVFRUVFRUVTQowGngBeBf4CjgB/AlcoXhcUdtOqK3vqO2jTDMD3Ae8CfxCefgZWCPXZpoBoA/wJPA15Wc/8IRcsykiwAPAAcLjG6DVFAVgAPA2cK0boy8AO4BlwEydU24F+pqCAfRV20arrWLzTuDvbq5Prv0toH+jjR8BfB9j5HVgOzCn4Yb6++HN1R+WXJuL74C7GmXgZKAjxhGbgDGmpABjgS0xTvkDmJi3QdOBiw5jfgQeNYEATAWOOsZBxqYtLyMmxDhjAzDYBAZwE/C+Yzw6gYfzmDM6HI+ol0zgAMsdc8tZYHiWk5o9gYsBSzJR2IQASx1O+TaTlxp9tbUJ/s6w0ddkmzUmg0Wfvc74yKuSEkFtPo0iYzfeZzjkgONtapAXBSUEGAwcs8Zsvy/hEpuymepFeIkBHnHMJzN8CLYDhZu8WBwAwFZr7PbWK/B+S6B4/F4TCMAw4BONxcnnM4lxJUxB2HdJ+giG5jOibDdhOaPD8biW5NWwBHIkMBllVT1G2cmluSYQqN0ZcWxJIOcZ67un0xok4ecoF8oQte0ter1xnE8YWrFDTSN6bUhE0IuWkB0mIOjeIecSymq3vv98GoMkuR9lmQkIahN4HJsTynrZ+v66NAZJxUWUmabBAIOAx4HXgS90gdpVvdJVLXJE/0/+ZkbaBaw+skWeK99xR0JZsywZe9IYdMoS0pAyGGqRghma9PqH5Mh3PlYZfVK8aUki6rx+Nid1hsq527LppEkhRH4JUYaanAGeAg7jD4lWz27Addxm2XE2jZDLlpB+mVjr1j3cMRH6ZBfQkuP19Lf0/5tGyA1kYqlb79P6eIhDgnbrgPkSQQWGaKWIfIbqvy0A1gPHu5FzDpiX43XVN56NcAjwWszgXdWQduLiAWAS8KHKcLEim6tpcocAa2MGbLuP0hpgpCOM0cVaP1dREofE3BkXgUUZ6FqsBQi53ilN4xCdM2x+BcZlqFPmmTMOvXODdoi+TZ13OGNkFvocj7Azjom+JWSHtDseU+Oy0BWjv9Xx+NoZpEN00WezyLeeXtjxnMOOWSE6RAqTo+zyrSOBLVJAHeWw730fhXaIxpWiXG1Y1bj5P5BolzlND8khEqSL8oFP+WkANmZZd1ZYh2jNkh21zbd834EURls2XQIGmgAcIvmMKMdMAaAW5j+Z1WOryA6RxFF92bOM0G3bUVaG4BDJ5kVZYAoCsNCy7fMQHCJp1yi5LQR7uVCMcsQE4JCGZyLjAG6vO7PXhA5pWCYyl8xevOzKIUkJ1SHVI4tiT+p+dhb52ykW5YcQ7pAiv/Y+a9m2LcSF4XpTEID3QlwY2pHe46Y4oZNTlm1tIThkkAbuokzyJT8twBTLps4ggosqW+p0o2zwKT8NEm63bNroWX7TJahG+tSRohjaTlC1BeMQlX/IUtHuW0cCW3Y6irLDSeGq/Nm2DmCxbz297E9C1nthCu8Q1SFV6PZEOj4LXTH6H3S8YGSy07hZHNKixWlRzuRUKDcK+M3S/RdwZ7AOUT3zbF3UnNKa8Z1hO0OYk6HO5nCI6lrhGJxLUsSW0ZxhP6aEV33ralqH9LAdoT1JO4seXm2/jNFRbUdIcKega4SNWqrTJ2E4ZIou+uL6Cmd6Z0RsuYH8BaSEWm9ce6KP8pNWhyzUHLhsY+unn6EaQl+ogUI7NmVP4HNyvK66HdLITZ8t3ex28sH2rN6mstz02fDMHrUN93ZRdj0cakQDBF/bouXRUJTGAdN1HnC9HfVEp84/+TQ27l3jgBNlaa0xUJ2zUrJ5kmLVnlaX9dOh/7ZN/6bNZwi9Dru9tNYIuvmMT3w1n5FjfjLf6hUCwG5rLJemjfVEkfMzBmRicYmh1sCss+4GZipMzlwKssWfL7y1+FNhcgBWkE0wM0wxvFGPsDGWMGl5OtabtSWHWptdu01sfeOnp5Gl6sgZOsCnXhspq1A5Gs6majXeA8A0x7hN97VSlqPhohwN8TSd3gLc7OjVtc+nglZH+LrqAR+D9ueKcs37TjE9p89muVclJQB4xTFOq7MKIdu1VNdTNQUuKdSiG/Zb1cHMUhfS/sIRlhcDgo9zUbszbGf8nnmzTeChmGNIpXn9LSbMCXyjYzwkXDI5LyPaYs4ylI6hj5lAoDYOrs6n8oOdlrcxE/WcPhdbm+bM8fQrcHvRF31MTTCNQFv0yTl9Lq5rXlyCazeZckRt52tsKu5w4oN5Nmju7u1rTTd9cdHHW7smaiR7do82QC7MHvUutHpliNo4W23eHdPJtAu59tWFuh5Z+DjiXiGwTx5hpqjoZpy9lJ+9vrvOZYqG7ldJQobycFryGU1/VryeMr1UG+Tv0VfFrmqRonFZbTumtorNS1KnXSsqKioqKioqKkzj+Q9SwHTQdqZCRAAAAABJRU5ErkJggg==",u4="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAACXBIWXMAAAsTAAALEwEAmpwYAAAF80lEQVR4nO2de6gVRRzHp0x7aGX20rKnZQ8LLchSxArtCRVUF4zwUQiZkUrRg9KCNLkZlEViEUloVlREUT7KCiLIIvMWvSy1IssemmlY5jX7xI9+wuncPffs2Z2zO7M7Hzj/3MPuzu987+zMb37z+40xgUAgEAgEAoFAIBAIBAKBQEeA3YFBwATgQeB5YJl+XgUWANOAK4CDI24RsAEwDHgc2Eh8dgIfAlNsigPsBvQwZQS4GHiP9GwDZgN9UrbnPGA5cIgpE8CRwCvYZwtwg7z6GuwRFwBv6D1ejHvhtcClxnOAy4BNNJelQK867eipY9XnVdeeGceIrsA3wFbgdOMpwE3AP2TDWqBf1fMPAMZo7/wr4pqX4xoyuuKiH6of5APAVLLne2As8BDQphOBWvwJHBPXmCVVF0tv6Ws8AbgO95kQ15iDgB0RN1gFHGYcBxgMbMdtFjRi0OWd3GhN7G6WA8De2kaXkdlVtxrt7zhbA2bWueE6YIBxEGA6brNY/mki2t0HuANojTJKLqrHZnFqjEMAvXWgdBUZ6LtW+UaTgLeAv4Gvgf2jDFsR8wEyzkw0jgC04iY/AeN1uUb8kPn641fSXtMf0fl0I8gCXPfMFejoN/2Cm8gyS2eInzTG1AJYn+ChnwIDTU4Al+AvU+sZ92XCG4snehvQJTMlFOAR/GSuqQfwfsqHyPWnmQzhvx7qGw/LQmMc456x8LAdGvDpmYEY3Wo4si4zsxEDb7X44I0a0OnWREFOwB9kNnVjowae04SGyFrY9cBeTRBkKH4g09/hSQzco8HQZiPIDO52WS+zKMj5uM+mVIuzwLwM5uZPqrNUf2DLvkfb5jtjYcU0K+R1NkMCYSQQR2Z0uM+PqQRRQ9/MoeHrZG4OXAkc2sAaVikEGVon4pUFX+jaz83ACODwqF4EbMBtVqcWRA19FPfYpkJJXOFpdbCSLPdkSZstQXp6EPDxgXesCKKinKj7jwLJWZxmr2vUO/rCGMvIgdosTCqIbHD4BLhKHMSq70YCf3Ty0EBt7kmzSWAXPwNzVIh99fuBwFedPDgQzdhEguiPHjVe7NQlbtmB95wukgXiMyyNILLjLmCX3mkEecJyY8rO5lTrdcA1eVtQMF5LLEadraSBZExLJYiKIvl1ATuMsCHI2ZYaU3Z2WMsfBN7N25oC8IEVMSpCo1llHxWVu6wJoqJIsCiQnJNsC7JPip2MZWeVVTEqRBmUQRZrEZnRFEFUlDPU4wzEZ1DTBFFRhoSeksPsqo4oRwBvx29XaRmdiSAqShfgbg8yXfNC4kh7ZiZIhTD9NHsqxEb+z/TMxagSpi9wJ/BRVcPKSLvsHcvyxx+iPaN7RWWbXsDxUqhG93G5nAnbbOZkJoYKcH/TTfKXrakigwkF6efA9tJi7SyxIMqivC13kA2RSf8ZCXJymFl1YEouYlSIMqtjm0rLyupNhXkI0gP4LO9fwgHEOT7FuABwtHqlZWaqcQnJKi2x39FWWd3HGTTTqllZuy77HKcaVwH6S9oW5WGUcR3dOd+qxbiKzCzjExpdlGL2RWRZHtWOrCDvWN24/RvFYA1woPEdDWgN1iKPz0oCpBrnUxzlW+AoU0R0yX6yRxHHdT5W9o6FJv7nUSEiKZL/3t8UDa0wNNmz9Or11nceugBwrofh3ZU+1bqPhZZe8nH6uwjYzxQB3Qs8To/x8ZHWRk7LcRLZg6RH+Mz12OfYAlxtPBbgLB2kXwB+x2+WA8caV9Cq0HIASoueYjZSa5u0aEbuJC35+pIOzr74D/WQMiG35B7tq+FJTwR+pTwscd7Z03ToOQXqAVFI2Pki4xN6rsVjBRNmtR7W5dbrKUHMfLbniTor9MQ5f4WoRvbx6qD/Mf4M1k9JaNkUHa2Xda+D4drtetrmuF21vUqHFjCWsuGv51Rpbq0GwFoKs9Rh2VkcrvV15+vrrd3yCZpLdWljlKTW5W2zd+i5Hsdp3ZTR2pvu0xncPK1Mt+uzUP/+gEYWx6vDOiDqmLlAIBAIBAKBQCBgfOZflDTp+yKPSRgAAAAASUVORK5CYII=",c4=()=>Z.jsxs("div",{className:"footer",children:[Z.jsxs("div",{className:"footer-icons",children:[Z.jsxs("a",{href:"https://www.facebook.com/NetflixAsia/?brand_redir=475822799216240",target:"_blank",children:[" ",Z.jsx("img",{src:o4,alt:""})]}),Z.jsx("a",{href:"https://www.instagram.com/netflix/",target:"_blank",children:Z.jsx("img",{src:l4,alt:""})}),Z.jsxs("a",{href:"https://x.com/netflix",target:"_blank",children:[" ",Z.jsx("img",{src:u4,alt:""})]}),Z.jsx("a",{href:"https://www.youtube.com/channel/UCWOA1ZGywLbqmigxE4Qlvuw",target:"_blank",children:Z.jsx("img",{src:a4,alt:""})})]}),Z.jsxs("ul",{children:[Z.jsx("li",{children:"Audio Description"}),Z.jsx("li",{children:"Help Center"}),Z.jsx("li",{children:"Gift Cards"}),Z.jsx("li",{children:"Media Center"}),Z.jsx("li",{children:"Investor Relations"}),Z.jsx("li",{children:"Jobs"}),Z.jsx("li",{children:"Terms of Use"}),Z.jsx("li",{children:"Privacy"}),Z.jsx("li",{children:"Legal Notices"}),Z.jsx("li",{children:"Cookies Preferences"}),Z.jsx("li",{children:"Corporate Information"}),Z.jsx("li",{children:"Contact Us"})]}),Z.jsx("p",{className:"copyright-text",children:"@ 1997-2023 Netflix , Inc."})]}),h4=()=>Z.jsxs("div",{className:"home",children:[Z.jsx(e4,{}),Z.jsxs("div",{className:"hero",children:[Z.jsx("img",{src:n4,alt:"",className:"banner-img"}),Z.jsxs("div",{className:"hero-caption",children:[Z.jsx("img",{src:i4,alt:"",className:"caption-img"}),Z.jsx("p",{children:"Discovering his ties to a secret ancient order, a young man in Istanbul embarks on a quest to save the city from an immortal enemy."}),Z.jsxs("div",{className:"hero-btns",children:[Z.jsxs("button",{className:"btn",children:[Z.jsx("img",{src:r4,alt:""}),"Play"]}),Z.jsxs("button",{className:"btn dark-btn",children:[Z.jsx("img",{src:s4,alt:""}),"More Info"]})]})]})]}),Z.jsxs("div",{className:"more-cards",children:[Z.jsx(Hc,{id:"popular",title:"Popular on Netflix",category:"popular"}),Z.jsx(Hc,{id:"top-rated",title:"Top Picks for You",category:"top_rated"}),Z.jsx(Hc,{id:"upcoming",title:"Upcoming",category:"upcoming"}),Z.jsx(Hc,{id:"movies",title:"Blockbuster Movies",category:"now_playing"})]}),Z.jsx(c4,{})]}),f4=""+new URL("google-Bp_336oh.png",import.meta.url).href,d4=""+new URL("netflix_spinner-OMdCkKTM.gif",import.meta.url).href,m4=()=>{const[r,t]=G.useState("Sign In"),[n,s]=G.useState(""),[o,u]=G.useState(""),[f,m]=G.useState(""),[p,g]=G.useState(!1),E=async b=>{b.preventDefault(),g(!0),r==="Sign In"?await $N(o,f):await ZN(n,o,f),g(!1)},w=async()=>{g(!0);try{await t4()}catch(b){console.error("Google login failed:",b)}g(!1)};return p?Z.jsx("div",{className:"loading",children:Z.jsx("img",{src:d4,alt:"Loading..."})}):Z.jsxs("div",{className:"login",children:[Z.jsx("img",{src:nE,className:"login-logo",alt:"Logo"}),Z.jsxs("div",{className:"login-form",children:[Z.jsx("h1",{children:r}),Z.jsxs("form",{children:[r==="Sign Up"&&Z.jsx("input",{value:n,onChange:b=>s(b.target.value),type:"text",placeholder:"Your name"}),Z.jsx("input",{value:o,onChange:b=>u(b.target.value),type:"text",placeholder:"Email"}),Z.jsx("input",{value:f,onChange:b=>m(b.target.value),type:"password",placeholder:"Password"}),Z.jsx("button",{onClick:E,className:"signIN",type:"submit",children:r}),Z.jsxs("button",{type:"button",className:"google-btn",onClick:w,children:[Z.jsx("img",{src:f4,alt:"Google icon"}),"Sign in with Google"]}),Z.jsxs("div",{className:"form-help",children:[Z.jsxs("div",{className:"remember",children:[Z.jsx("input",{type:"checkbox"}),Z.jsx("label",{children:"Remember Me"})]}),Z.jsx("p",{children:"Need Help?"})]})]}),Z.jsx("div",{className:"form-switch",children:r==="Sign In"?Z.jsxs("p",{children:["New to Netflix? ",Z.jsx("span",{onClick:()=>t("Sign Up"),children:"Sign Up Now"})]}):Z.jsxs("p",{children:["Already have an account? ",Z.jsx("span",{onClick:()=>t("Sign In"),children:"Sign In Now"})]})})]})]})},p4="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFoAAABaCAYAAAA4qEECAAAACXBIWXMAAAsTAAALEwEAmpwYAAAF20lEQVR4nO2d3W9URRTAx4hdDSqCPkjwQW18F9Bg+TTEJ5Ang9GCGPzAaFVEYnz1hW41YrCJfwNJE/ErgcYGiD4aIwIvvqgv7ZZaW0Uh1Ij9mUlPkw25M3tvd2bu3N35JZs02917zj137rlnzjkzq1QikUgkEolEIpFIJPIB3Aw8CrwIfAB8DlwAfgZmgX/kNSvvXZDPvC/feUQfI6e47gK4D3gL+Aq4TPv8CXwJHATWqG4GuA14DhgD/sMf14Gvgb3ArapbAG6XkTZBeH4D3gNWqE4FuAV4B5ihfLQOh7VOqpMAtgAXiY+fgCdU1dE+EfgEmC9ogCvAKeAIsA/YADwIrAR65LVS3tP/ex4YBEblu0XQug0DNVVFgIeAHwqccAM4Cmxq55YWF7UZ+AiYLCD/e6BXVQl9OxYI084AO3zEvhKT7wTOFggLt6sqADwtE4pWjAEbA+ql75TTOfSaA3armAEO5IiJx/XFKFHHZ8VN2dDn8LKKeCS3MvJx4M4IdF0BjOQw9u4YfbLNXVwDXlGRAbwmrsLEXDQ+W6KLyy0eMI+rSNGGzKF/bwxxsi2EmwIeVpEDrBVdbaFfeXG2TEZsIyF6I99gbNvIHlZlAGyzzPiuxewuWrgRk8/W57pZhQRYBpy3XP0DqqIAA5bzuhg0ESVZOBPHVcXBHvodCqXEHZZU53gMcbKjONs0qZnWOfUQSrxrudqlzfhcA/RbzvNwiPLTJYPwMQ/yasCQZOEm5e8e13Is8k3JqIbXspjU+Ez0eTDyyQw5dZdychQsTOzxKVhn3LI441hOj1Sxs7jkUlYOXb4x6HHKZ0uAKWm0I8BIXqThSlZOfXZhrq6v9iFQ912Y/NWyQEbWDLqQVXDOYJqev+5DoG5uyeLDgEY+WUbOAThm0OczH1dV5y6y2NTJRtYAWw06zTotwUkvXBZ/tzslJXIjN+l41aDbepeCdPNgFqOdbuRFpK0si/3KFdLVmcURTyHcIqOx9MvJZAmvcT3whUHIvm4wskaPXIOeJ5QrLCnRDZ3sLprRM1+DrueUK4BfDULu92Bk3zSkab1QzgR4wHC8Xwob1CLkd4OQux35uTIYKqj7PYbjTBc2qEWIqZWg6KiYJB4ml3A3ZjFX2KBdZujxGA3tynXUiYd6jK6jkx6GE0spIIR6GJrCu8e6KLzbGCK8SxMWwkxY0hScMFPwlFTCWMbbHyJNeqXdqjTVT5Ouc70WxJT4b7sfjciNLX2G/hP/IsyUbTvq6Pi1WI0NfOz9QdgkTC8rzmIycHG27kJWweV0puLsgA+Ba6TEnsXOLmw3+Be4N3Q556xjOT0WVzXhUlYOXb4N2kAjQvVWDPiqhucc2YMRVL81/b6bHE0ZuNMe5NUkEdWQVz1UkyNwk6UdbMJ7ma1FE/ozqkPA3tD5dtmN6I1O2HQEuMty5+pG9OWhFNGbipgYURUH+NRyfgdDKqJbxH60KPOqqijAm9EsFmpq0p6Pfmmvu6XW864jqyKK6Z1bTOjFkWtVRQDWA39ZzudYmcrVZPmuiakqGJsFI9uWKH8Xcu2MScleS2ZvcWRvV3G7C9tI/kPXC1UFlvYi/3OfgGkT4I0c21/EtdRabyKSY2OUkRjibImTbSEckkB7SsWI3h4nh7EbXvMErafVe3M08mgjv6RiRka2zY0sohdLbgmcIDLlLpqZi3YkG3y27QHZjD75J10VDzImVrssqc6sB19cPjlnNGIL/W5kSlY/bW2nXCUh5zYpP9lCtqwQLo7oYoknPbyELTOvSpGhLo0rfbI95qqmLTNXyXt98pm6fMdUrTYxLxe43DjZBSxsYWnbSKUszpc2rfYFC/7ykKQZy2Zais3OnwvRACyXk9SbqIRmSjbqrvzmLUW3ctsjq69M1XUXXJctkvtjWuVVCsBqvYBdr62W7p92mZVjDXhrCag6LLSfrQNekA7OE7oHWX4KZKbp50Fm5L1z8pkhiT70d9PPgyQSiUQikUgkEomEysn//LHzY2FxebUAAAAASUVORK5CYII=",g4=()=>{const{id:r}=Kb(),t=Km(),[n,s]=G.useState({name:"",key:"",published_at:"",type:""}),o={method:"GET",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJjN2U4NGU0YWVjMTY5NmYzZGE0MGUzNzMxMDJiZjExYyIsIm5iZiI6MTc0ODMzMjQ4Mi45NDcsInN1YiI6IjY4MzU2ZmMyYjg1MDBjOTA4NWViMzlhOSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.msnJqZmhumd8IKsad6VMAQD8Eb2vq-whST6D8CdXPGg"}};return G.useEffect(()=>{fetch(`https://api.themoviedb.org/3/movie/${r}/videos?language=en-US`,o).then(u=>u.json()).then(u=>s(u.results[0])).catch(u=>console.error(u))},[]),Z.jsxs("div",{className:"player",children:[Z.jsx("img",{src:p4,alt:"",onClick:()=>{t(-2)}}),Z.jsx("iframe",{width:"90%",height:"90%",src:`https://www.youtube.com/embed/${n.key}`,title:"trailer",frameBorder:"0",allowFullScreen:!0}),Z.jsxs("div",{className:"player-info",children:[Z.jsx("p",{children:n.published_at.slice(0,10)}),Z.jsx("p",{children:n.name}),Z.jsx("p",{children:n.type})]})]})},y4=()=>{const r=Km();return G.useEffect(()=>{x2(fu,async t=>{t?(console.log("User is signed in:",t),r("/")):(console.log("No user is signed in."),r("/login"))})},[]),Z.jsxs("div",{children:[Z.jsx(YN,{theme:"dark"}),Z.jsxs(lw,{children:[Z.jsx(qc,{path:"/login",element:Z.jsx(m4,{})}),Z.jsx(qc,{path:"/",element:Z.jsx(h4,{})}),Z.jsx(qc,{path:"/player/:id",element:Z.jsx(g4,{})})]})]})};gb.createRoot(document.getElementById("root")).render(Z.jsx(G.StrictMode,{children:Z.jsx(xw,{children:Z.jsx(y4,{})})}));
